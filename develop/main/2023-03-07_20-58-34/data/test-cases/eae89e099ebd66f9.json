{"uid":"eae89e099ebd66f9","name":"Verify transitions handles requests for nodes that are locked","fullName":"api.2-disruptive.test_transitions_negative.tavern#Verify transitions handles requests for nodes that are locked","historyId":"7c6d7722b0d558d7cf87ba61b253e04c","time":{"start":1678221205618,"stop":1678221223211,"duration":17593},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve an unlocked compute Node target from HSM to use in later stages","time":{"start":1678221205825,"stop":1678221205863,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"f5551701ba3918a8","name":"stage_yaml","source":"f5551701ba3918a8.yaml","type":"application/yaml","size":315},{"uid":"e9ea966c049a23f1","name":"rest_request","source":"e9ea966c049a23f1.yaml","type":"application/yaml","size":162},{"uid":"cdafd6abf2ae3827","name":"rest_response","source":"cdafd6abf2ae3827.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678221205864,"stop":1678221205876,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"146314e4e7a8c376","name":"stage_yaml","source":"146314e4e7a8c376.yaml","type":"application/yaml","size":775},{"uid":"8ee271fcf7b3c66","name":"rest_request","source":"8ee271fcf7b3c66.yaml","type":"application/yaml","size":211},{"uid":"b60b2e0e9f3930a6","name":"rest_response","source":"b60b2e0e9f3930a6.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678221205878,"stop":1678221206891,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"24568713d4643ea3","name":"stage_yaml","source":"24568713d4643ea3.yaml","type":"application/yaml","size":661},{"uid":"8a37e7d67ac7d271","name":"rest_request","source":"8a37e7d67ac7d271.yaml","type":"application/yaml","size":161},{"uid":"af303245bae2d1bf","name":"rest_response","source":"af303245bae2d1bf.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678221206892,"stop":1678221206907,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"87a1bf777bb0ea50","name":"stage_yaml","source":"87a1bf777bb0ea50.yaml","type":"application/yaml","size":2375},{"uid":"e98eb6d4c14333ff","name":"rest_request","source":"e98eb6d4c14333ff.yaml","type":"application/yaml","size":161},{"uid":"6fa74df83c416233","name":"rest_response","source":"6fa74df83c416233.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678221206907,"stop":1678221206918,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"21c5ac0fbe101d5d","name":"stage_yaml","source":"21c5ac0fbe101d5d.yaml","type":"application/yaml","size":976},{"uid":"16d33f1ab7229434","name":"rest_request","source":"16d33f1ab7229434.yaml","type":"application/yaml","size":145},{"uid":"9c0f32a9df0ec3d1","name":"rest_response","source":"9c0f32a9df0ec3d1.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Lock the target Node","time":{"start":1678221206919,"stop":1678221206931,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"e654926ea7f74574","name":"stage_yaml","source":"e654926ea7f74574.yaml","type":"application/yaml","size":1827},{"uid":"2a23ce83859090e7","name":"rest_request","source":"2a23ce83859090e7.yaml","type":"application/yaml","size":161},{"uid":"73ac50b20c2ddf9c","name":"rest_response","source":"73ac50b20c2ddf9c.yaml","type":"application/yaml","size":269}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Attempt a power transition for a locked node","time":{"start":1678221206932,"stop":1678221206945,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"e27842e3f9952a82","name":"stage_yaml","source":"e27842e3f9952a82.yaml","type":"application/yaml","size":786},{"uid":"1fee444c741829c9","name":"rest_request","source":"1fee444c741829c9.yaml","type":"application/yaml","size":216},{"uid":"f5895567f333ce9a","name":"rest_response","source":"f5895567f333ce9a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the force-off transition operation has completed","time":{"start":1678221206946,"stop":1678221223183,"duration":16237},"status":"passed","steps":[],"attachments":[{"uid":"43398cc62aac76a4","name":"stage_yaml","source":"43398cc62aac76a4.yaml","type":"application/yaml","size":684},{"uid":"b077aaeb1327602e","name":"rest_request","source":"b077aaeb1327602e.yaml","type":"application/yaml","size":161},{"uid":"40f3961156a9bd04","name":"rest_response","source":"40f3961156a9bd04.yaml","type":"application/yaml","size":628},{"uid":"b55588e81ab844f9","name":"stage_yaml","source":"b55588e81ab844f9.yaml","type":"application/yaml","size":684},{"uid":"74e09989a64f2361","name":"rest_request","source":"74e09989a64f2361.yaml","type":"application/yaml","size":161},{"uid":"d714702d3f3cd8d6","name":"rest_response","source":"d714702d3f3cd8d6.yaml","type":"application/yaml","size":628},{"uid":"5d8189d9d072e3e8","name":"stage_yaml","source":"5d8189d9d072e3e8.yaml","type":"application/yaml","size":684},{"uid":"bd828ed42e2ec3b2","name":"rest_request","source":"bd828ed42e2ec3b2.yaml","type":"application/yaml","size":161},{"uid":"5bc271bea7989581","name":"rest_response","source":"5bc271bea7989581.yaml","type":"application/yaml","size":628},{"uid":"f4af34b4601eb447","name":"stage_yaml","source":"f4af34b4601eb447.yaml","type":"application/yaml","size":684},{"uid":"f8fcf5c4d0f94b3","name":"rest_request","source":"f8fcf5c4d0f94b3.yaml","type":"application/yaml","size":161},{"uid":"819fd68abd47d053","name":"rest_response","source":"819fd68abd47d053.yaml","type":"application/yaml","size":628},{"uid":"72dbb8ec85841569","name":"stage_yaml","source":"72dbb8ec85841569.yaml","type":"application/yaml","size":684},{"uid":"655d337fd25042e4","name":"rest_request","source":"655d337fd25042e4.yaml","type":"application/yaml","size":161},{"uid":"4ee0acb9e0017d22","name":"rest_response","source":"4ee0acb9e0017d22.yaml","type":"application/yaml","size":628},{"uid":"fcffd5d192507b39","name":"stage_yaml","source":"fcffd5d192507b39.yaml","type":"application/yaml","size":684},{"uid":"e510fa5cedbeece9","name":"rest_request","source":"e510fa5cedbeece9.yaml","type":"application/yaml","size":161},{"uid":"789d7c36e68f5678","name":"rest_response","source":"789d7c36e68f5678.yaml","type":"application/yaml","size":628},{"uid":"5d8bbc19e8bd6e4","name":"stage_yaml","source":"5d8bbc19e8bd6e4.yaml","type":"application/yaml","size":684},{"uid":"6a6046e9cfe4e15","name":"rest_request","source":"6a6046e9cfe4e15.yaml","type":"application/yaml","size":161},{"uid":"3c469c99f09fb31a","name":"rest_response","source":"3c469c99f09fb31a.yaml","type":"application/yaml","size":628},{"uid":"2dda185a577f52af","name":"stage_yaml","source":"2dda185a577f52af.yaml","type":"application/yaml","size":684},{"uid":"aa56c6c864596aa5","name":"rest_request","source":"aa56c6c864596aa5.yaml","type":"application/yaml","size":161},{"uid":"6c0e146774ceae88","name":"rest_response","source":"6c0e146774ceae88.yaml","type":"application/yaml","size":628},{"uid":"3e8ca22f08d0d6c1","name":"stage_yaml","source":"3e8ca22f08d0d6c1.yaml","type":"application/yaml","size":684},{"uid":"3a7e4bb034e23a4d","name":"rest_request","source":"3a7e4bb034e23a4d.yaml","type":"application/yaml","size":161},{"uid":"14b364cd240a5f35","name":"rest_response","source":"14b364cd240a5f35.yaml","type":"application/yaml","size":628},{"uid":"46eab35586a12e9f","name":"stage_yaml","source":"46eab35586a12e9f.yaml","type":"application/yaml","size":684},{"uid":"ef87bc82a50e5431","name":"rest_request","source":"ef87bc82a50e5431.yaml","type":"application/yaml","size":161},{"uid":"4dbbd93b43145826","name":"rest_response","source":"4dbbd93b43145826.yaml","type":"application/yaml","size":628},{"uid":"c6fe5059429235e7","name":"stage_yaml","source":"c6fe5059429235e7.yaml","type":"application/yaml","size":684},{"uid":"f9c792c4c7622f77","name":"rest_request","source":"f9c792c4c7622f77.yaml","type":"application/yaml","size":161},{"uid":"2dcca8bbb906ade4","name":"rest_response","source":"2dcca8bbb906ade4.yaml","type":"application/yaml","size":628},{"uid":"f1bc5fdcd24802eb","name":"stage_yaml","source":"f1bc5fdcd24802eb.yaml","type":"application/yaml","size":684},{"uid":"e12ba981814bbdc7","name":"rest_request","source":"e12ba981814bbdc7.yaml","type":"application/yaml","size":161},{"uid":"1368ef6e1ed155d2","name":"rest_response","source":"1368ef6e1ed155d2.yaml","type":"application/yaml","size":628},{"uid":"96d85265c743c66b","name":"stage_yaml","source":"96d85265c743c66b.yaml","type":"application/yaml","size":684},{"uid":"ffc6185b1285ae3e","name":"rest_request","source":"ffc6185b1285ae3e.yaml","type":"application/yaml","size":161},{"uid":"a99eb836dfb5d420","name":"rest_response","source":"a99eb836dfb5d420.yaml","type":"application/yaml","size":628},{"uid":"c60e744501aab92e","name":"stage_yaml","source":"c60e744501aab92e.yaml","type":"application/yaml","size":684},{"uid":"9cfa9af585b51d96","name":"rest_request","source":"9cfa9af585b51d96.yaml","type":"application/yaml","size":161},{"uid":"38d7801bada2ed21","name":"rest_response","source":"38d7801bada2ed21.yaml","type":"application/yaml","size":628},{"uid":"f6680ee7dbc8be73","name":"stage_yaml","source":"f6680ee7dbc8be73.yaml","type":"application/yaml","size":684},{"uid":"c2b04bd8e1fc3321","name":"rest_request","source":"c2b04bd8e1fc3321.yaml","type":"application/yaml","size":161},{"uid":"8eff01111f738876","name":"rest_response","source":"8eff01111f738876.yaml","type":"application/yaml","size":628},{"uid":"af906150250b2012","name":"stage_yaml","source":"af906150250b2012.yaml","type":"application/yaml","size":684},{"uid":"be3bdf7c14e21bc5","name":"rest_request","source":"be3bdf7c14e21bc5.yaml","type":"application/yaml","size":161},{"uid":"c856ea34a083225e","name":"rest_response","source":"c856ea34a083225e.yaml","type":"application/yaml","size":626}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed on transition data","time":{"start":1678221223184,"stop":1678221223198,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"b6d50aaee6fab4db","name":"stage_yaml","source":"b6d50aaee6fab4db.yaml","type":"application/yaml","size":2504},{"uid":"53b9968182e882a6","name":"rest_request","source":"53b9968182e882a6.yaml","type":"application/yaml","size":161},{"uid":"1fc894f8160e1051","name":"rest_response","source":"1fc894f8160e1051.yaml","type":"application/yaml","size":626}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Unlock the target Node","time":{"start":1678221223199,"stop":1678221223211,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"32367a0e5286e5a1","name":"stage_yaml","source":"32367a0e5286e5a1.yaml","type":"application/yaml","size":1806},{"uid":"dd18e1bee644d7e1","name":"rest_request","source":"dd18e1bee644d7e1.yaml","type":"application/yaml","size":163},{"uid":"c9f708415e0029b8","name":"rest_response","source":"c9f708415e0029b8.yaml","type":"application/yaml","size":269}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"1c4359f68a1aa7b4","name":"log","source":"1c4359f68a1aa7b4.txt","type":"text/plain","size":58229}],"parameters":[],"stepsCount":10,"attachmentsCount":76,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"e40f99b7bd05"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_negative.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"cf4a6ee55952d175","status":"passed","time":{"start":1678217503793,"stop":1678217521434,"duration":17641}},{"uid":"524bb7d8dea47ca1","status":"passed","time":{"start":1676400572485,"stop":1676400590153,"duration":17668}},{"uid":"7191dc41182dc671","status":"passed","time":{"start":1676399564667,"stop":1676399582265,"duration":17598}},{"uid":"686bc8c6ae3cf7cf","status":"passed","time":{"start":1676324290437,"stop":1676324308063,"duration":17626}},{"uid":"bacab20c1e514b64","status":"passed","time":{"start":1674515117838,"stop":1674515135440,"duration":17602}},{"uid":"cc9fe7fcfc685a13","status":"passed","time":{"start":1674505180537,"stop":1674505198356,"duration":17819}},{"uid":"6fb764d586a0e14","status":"passed","time":{"start":1674499977432,"stop":1674500025694,"duration":48262}},{"uid":"a0f038c91214aee7","status":"passed","time":{"start":1674257354500,"stop":1674257402777,"duration":48277}},{"uid":"bbfabe38b46339e6","status":"passed","time":{"start":1674254706103,"stop":1674254723731,"duration":17628}},{"uid":"318472f36b61d0f3","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Attempt a power transition for a locked node' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080272630,"stop":1674080274031,"duration":1401}},{"uid":"a7f015ba074dc5e1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075004783,"stop":1674075005092,"duration":309}},{"uid":"518fd334076fbc0b","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622168,"stop":1674074622447,"duration":279}}]},"tags":[]},"source":"eae89e099ebd66f9.json","parameterValues":[]}