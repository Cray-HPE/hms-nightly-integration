{"uid":"8ce9ac42ffed736e","name":"capmcAPIxnameOnPOSToffComputeNodePrereq - Verify xname_on with the prereq option powers on a compute node and its parents that are powered off","fullName":"api.4-build-pipeline-only.test_xname_on.tavern#capmcAPIxnameOnPOSToffComputeNodePrereq - Verify xname_on with the prereq option powers on a compute node and its parents that are powered off","historyId":"8d5fa513e1ade019b796129fa8eafa02","time":{"start":1678222649743,"stop":1678222710423,"duration":60680},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPIxnameOnPOSToffComputeNodePrereqTarget - Retrieve a compute module from HSM to be used in later stages","time":{"start":1678222649751,"stop":1678222649764,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"c45b8082007d4fb3","name":"stage_yaml","source":"c45b8082007d4fb3.yaml","type":"application/yaml","size":358},{"uid":"27fc48e9d5a45398","name":"rest_request","source":"27fc48e9d5a45398.yaml","type":"application/yaml","size":158},{"uid":"defe9f70270b9f7","name":"rest_response","source":"defe9f70270b9f7.yaml","type":"application/yaml","size":1311}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPIxnameOnPOSToffComputeNodePrereqPrep - Power the target compute node and its parents off to prepare them for the test case","time":{"start":1678222649765,"stop":1678222651790,"duration":2025},"status":"passed","steps":[],"attachments":[{"uid":"996a9326050f4278","name":"stage_yaml","source":"996a9326050f4278.yaml","type":"application/yaml","size":838},{"uid":"a0fd99028d3ff2db","name":"rest_request","source":"a0fd99028d3ff2db.yaml","type":"application/yaml","size":257},{"uid":"923bfebcfb3730a0","name":"rest_response","source":"923bfebcfb3730a0.yaml","type":"application/yaml","size":173}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPIxnameOnPOSToffComputeNodePrereqStatusCheckNode - Verify that the target node is powered off using get_xname_status","time":{"start":1678222651791,"stop":1678222652807,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"46ed3d9089dee778","name":"stage_yaml","source":"46ed3d9089dee778.yaml","type":"application/yaml","size":1121},{"uid":"4c74ec4ecb22ac9f","name":"rest_request","source":"4c74ec4ecb22ac9f.yaml","type":"application/yaml","size":183},{"uid":"cf0ad1137a6cc737","name":"rest_response","source":"cf0ad1137a6cc737.yaml","type":"application/yaml","size":200}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPIxnameOnPOSToffComputeNodePrereqStatusCheckComputeModule - Verify that the target compute module is powered off using get_xname_status","time":{"start":1678222652809,"stop":1678222653826,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"a14cf46283f5b0f7","name":"stage_yaml","source":"a14cf46283f5b0f7.yaml","type":"application/yaml","size":1131},{"uid":"4198161ced5ce722","name":"rest_request","source":"4198161ced5ce722.yaml","type":"application/yaml","size":179},{"uid":"51e336aed64b3ee0","name":"rest_response","source":"51e336aed64b3ee0.yaml","type":"application/yaml","size":196}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPIxnameOnPOSToffComputeNodePrereqActual - Power the target node and its parents on using xname_on","time":{"start":1678222653827,"stop":1678222683918,"duration":30091},"status":"passed","steps":[],"attachments":[{"uid":"86980f5d08b76d2e","name":"stage_yaml","source":"86980f5d08b76d2e.yaml","type":"application/yaml","size":814},{"uid":"62fa08c20902759e","name":"rest_request","source":"62fa08c20902759e.yaml","type":"application/yaml","size":259},{"uid":"69b46643d1225998","name":"rest_response","source":"69b46643d1225998.yaml","type":"application/yaml","size":173}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPIxnameOnPOSToffComputeNodePrereqStatusCheckNode - Verify that the target node is powered on using get_xname_status","time":{"start":1678222683919,"stop":1678222709403,"duration":25484},"status":"passed","steps":[],"attachments":[{"uid":"59874fa8cd63f5e5","name":"stage_yaml","source":"59874fa8cd63f5e5.yaml","type":"application/yaml","size":1117},{"uid":"a5a0f566f995309a","name":"rest_request","source":"a5a0f566f995309a.yaml","type":"application/yaml","size":183},{"uid":"59ad87924795d255","name":"rest_response","source":"59ad87924795d255.yaml","type":"application/yaml","size":200},{"uid":"86a226db6f64b9cd","name":"stage_yaml","source":"86a226db6f64b9cd.yaml","type":"application/yaml","size":1117},{"uid":"c21103d41fbb3d86","name":"rest_request","source":"c21103d41fbb3d86.yaml","type":"application/yaml","size":183},{"uid":"6aa6b01513063e","name":"rest_response","source":"6aa6b01513063e.yaml","type":"application/yaml","size":200},{"uid":"6be092921d27c77c","name":"stage_yaml","source":"6be092921d27c77c.yaml","type":"application/yaml","size":1117},{"uid":"72081ad64ec16d06","name":"rest_request","source":"72081ad64ec16d06.yaml","type":"application/yaml","size":183},{"uid":"258be2e23463e062","name":"rest_response","source":"258be2e23463e062.yaml","type":"application/yaml","size":200},{"uid":"59fa99d3bd9d7388","name":"stage_yaml","source":"59fa99d3bd9d7388.yaml","type":"application/yaml","size":1117},{"uid":"641524b398343690","name":"rest_request","source":"641524b398343690.yaml","type":"application/yaml","size":183},{"uid":"183f4b2329b9ec12","name":"rest_response","source":"183f4b2329b9ec12.yaml","type":"application/yaml","size":200},{"uid":"1423aad969ecb0d5","name":"stage_yaml","source":"1423aad969ecb0d5.yaml","type":"application/yaml","size":1117},{"uid":"f6b96a2d5a65fde1","name":"rest_request","source":"f6b96a2d5a65fde1.yaml","type":"application/yaml","size":183},{"uid":"b8ef30c4e326dd6a","name":"rest_response","source":"b8ef30c4e326dd6a.yaml","type":"application/yaml","size":200},{"uid":"f6f1a127298dbd3f","name":"stage_yaml","source":"f6f1a127298dbd3f.yaml","type":"application/yaml","size":1117},{"uid":"2ea5d3029f6375dd","name":"rest_request","source":"2ea5d3029f6375dd.yaml","type":"application/yaml","size":183},{"uid":"e9a448a94602ec64","name":"rest_response","source":"e9a448a94602ec64.yaml","type":"application/yaml","size":200},{"uid":"1b6456310c5bbe0e","name":"stage_yaml","source":"1b6456310c5bbe0e.yaml","type":"application/yaml","size":1117},{"uid":"c6079e556870df5a","name":"rest_request","source":"c6079e556870df5a.yaml","type":"application/yaml","size":183},{"uid":"3e327cf524a25352","name":"rest_response","source":"3e327cf524a25352.yaml","type":"application/yaml","size":200},{"uid":"5531c5d922e7efa4","name":"stage_yaml","source":"5531c5d922e7efa4.yaml","type":"application/yaml","size":1117},{"uid":"c70b52bf1bed215c","name":"rest_request","source":"c70b52bf1bed215c.yaml","type":"application/yaml","size":183},{"uid":"55c888f9a8d53e69","name":"rest_response","source":"55c888f9a8d53e69.yaml","type":"application/yaml","size":200},{"uid":"70c318be2cb8f7e5","name":"stage_yaml","source":"70c318be2cb8f7e5.yaml","type":"application/yaml","size":1117},{"uid":"97c2baea5e992d95","name":"rest_request","source":"97c2baea5e992d95.yaml","type":"application/yaml","size":183},{"uid":"8fa64ed38707c048","name":"rest_response","source":"8fa64ed38707c048.yaml","type":"application/yaml","size":200},{"uid":"594d3e0f7457ac99","name":"stage_yaml","source":"594d3e0f7457ac99.yaml","type":"application/yaml","size":1117},{"uid":"974e9e599e4f7ddb","name":"rest_request","source":"974e9e599e4f7ddb.yaml","type":"application/yaml","size":183},{"uid":"e9ca4e632a9ba2d9","name":"rest_response","source":"e9ca4e632a9ba2d9.yaml","type":"application/yaml","size":200},{"uid":"b5fcc1f2edec0af0","name":"stage_yaml","source":"b5fcc1f2edec0af0.yaml","type":"application/yaml","size":1117},{"uid":"15eb40030be41077","name":"rest_request","source":"15eb40030be41077.yaml","type":"application/yaml","size":183},{"uid":"56670edf621f66fe","name":"rest_response","source":"56670edf621f66fe.yaml","type":"application/yaml","size":200},{"uid":"5599c841726a6a37","name":"stage_yaml","source":"5599c841726a6a37.yaml","type":"application/yaml","size":1117},{"uid":"4aca10e8689f6a26","name":"rest_request","source":"4aca10e8689f6a26.yaml","type":"application/yaml","size":183},{"uid":"c009b9fa75eb8ddf","name":"rest_response","source":"c009b9fa75eb8ddf.yaml","type":"application/yaml","size":200},{"uid":"6103a5ac27250619","name":"stage_yaml","source":"6103a5ac27250619.yaml","type":"application/yaml","size":1117},{"uid":"54bb8ba90fed9d44","name":"rest_request","source":"54bb8ba90fed9d44.yaml","type":"application/yaml","size":183},{"uid":"8ac553d9f563baf1","name":"rest_response","source":"8ac553d9f563baf1.yaml","type":"application/yaml","size":200},{"uid":"fc7fb695901f7520","name":"stage_yaml","source":"fc7fb695901f7520.yaml","type":"application/yaml","size":1117},{"uid":"76d840cb14b121d7","name":"rest_request","source":"76d840cb14b121d7.yaml","type":"application/yaml","size":183},{"uid":"7f33072d92257228","name":"rest_response","source":"7f33072d92257228.yaml","type":"application/yaml","size":200},{"uid":"5cd54b28e0a59bf2","name":"stage_yaml","source":"5cd54b28e0a59bf2.yaml","type":"application/yaml","size":1117},{"uid":"6be395a976d2cc35","name":"rest_request","source":"6be395a976d2cc35.yaml","type":"application/yaml","size":183},{"uid":"af322ffc2b1fc692","name":"rest_response","source":"af322ffc2b1fc692.yaml","type":"application/yaml","size":200},{"uid":"926d36d4467adc20","name":"stage_yaml","source":"926d36d4467adc20.yaml","type":"application/yaml","size":1117},{"uid":"3f733989c6e25584","name":"rest_request","source":"3f733989c6e25584.yaml","type":"application/yaml","size":183},{"uid":"7f6a0c42aec4ca07","name":"rest_response","source":"7f6a0c42aec4ca07.yaml","type":"application/yaml","size":200},{"uid":"9597deb99f02a6b0","name":"stage_yaml","source":"9597deb99f02a6b0.yaml","type":"application/yaml","size":1117},{"uid":"136f8c4b00665f2d","name":"rest_request","source":"136f8c4b00665f2d.yaml","type":"application/yaml","size":183},{"uid":"69bb14bca6a29f84","name":"rest_response","source":"69bb14bca6a29f84.yaml","type":"application/yaml","size":200},{"uid":"d13808e2097ea6bc","name":"stage_yaml","source":"d13808e2097ea6bc.yaml","type":"application/yaml","size":1117},{"uid":"a92b6ae3964e15f5","name":"rest_request","source":"a92b6ae3964e15f5.yaml","type":"application/yaml","size":183},{"uid":"4ebb2942e2cf4b14","name":"rest_response","source":"4ebb2942e2cf4b14.yaml","type":"application/yaml","size":200},{"uid":"b4e6c8e4a8014496","name":"stage_yaml","source":"b4e6c8e4a8014496.yaml","type":"application/yaml","size":1117},{"uid":"ff19965ce53b1fdb","name":"rest_request","source":"ff19965ce53b1fdb.yaml","type":"application/yaml","size":183},{"uid":"6d1641efa27fb708","name":"rest_response","source":"6d1641efa27fb708.yaml","type":"application/yaml","size":200},{"uid":"37c7d4e8fbf4ac4e","name":"stage_yaml","source":"37c7d4e8fbf4ac4e.yaml","type":"application/yaml","size":1117},{"uid":"305228bb27fecf0c","name":"rest_request","source":"305228bb27fecf0c.yaml","type":"application/yaml","size":183},{"uid":"c34d57a386d69776","name":"rest_response","source":"c34d57a386d69776.yaml","type":"application/yaml","size":200},{"uid":"dbaa86792a18080a","name":"stage_yaml","source":"dbaa86792a18080a.yaml","type":"application/yaml","size":1117},{"uid":"f15be41f4bbb4359","name":"rest_request","source":"f15be41f4bbb4359.yaml","type":"application/yaml","size":183},{"uid":"5abd7c85b108c428","name":"rest_response","source":"5abd7c85b108c428.yaml","type":"application/yaml","size":200},{"uid":"12c2c7948c4ce3ff","name":"stage_yaml","source":"12c2c7948c4ce3ff.yaml","type":"application/yaml","size":1117},{"uid":"1d4b4a4905efab30","name":"rest_request","source":"1d4b4a4905efab30.yaml","type":"application/yaml","size":183},{"uid":"6da0aca805b92f52","name":"rest_response","source":"6da0aca805b92f52.yaml","type":"application/yaml","size":200},{"uid":"f6e89a8dbdcff73e","name":"stage_yaml","source":"f6e89a8dbdcff73e.yaml","type":"application/yaml","size":1117},{"uid":"7f6197184fd3479","name":"rest_request","source":"7f6197184fd3479.yaml","type":"application/yaml","size":183},{"uid":"c46a481f6110719b","name":"rest_response","source":"c46a481f6110719b.yaml","type":"application/yaml","size":200},{"uid":"8afb75c22d5ec88a","name":"stage_yaml","source":"8afb75c22d5ec88a.yaml","type":"application/yaml","size":1117},{"uid":"661a226e3ee223af","name":"rest_request","source":"661a226e3ee223af.yaml","type":"application/yaml","size":183},{"uid":"fb8365053e5db427","name":"rest_response","source":"fb8365053e5db427.yaml","type":"application/yaml","size":200},{"uid":"b19e4cb4d1c1e13d","name":"stage_yaml","source":"b19e4cb4d1c1e13d.yaml","type":"application/yaml","size":1117},{"uid":"ca5b77c263c7ab34","name":"rest_request","source":"ca5b77c263c7ab34.yaml","type":"application/yaml","size":183},{"uid":"348262a82fc1858e","name":"rest_response","source":"348262a82fc1858e.yaml","type":"application/yaml","size":199}],"parameters":[],"stepsCount":0,"attachmentsCount":75,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPIxnameOnPOSToffComputeNodePrereqStatusCheckComputeModule - Verify that the target compute module is powered on using get_xname_status","time":{"start":1678222709404,"stop":1678222710422,"duration":1018},"status":"passed","steps":[],"attachments":[{"uid":"cb8cd515d37b50b5","name":"stage_yaml","source":"cb8cd515d37b50b5.yaml","type":"application/yaml","size":1126},{"uid":"eac3ea46031904fd","name":"rest_request","source":"eac3ea46031904fd.yaml","type":"application/yaml","size":179},{"uid":"6b2ab30c995a86b6","name":"rest_response","source":"6b2ab30c995a86b6.yaml","type":"application/yaml","size":195}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"60573ab08c002b99","name":"log","source":"60573ab08c002b99.txt","type":"text/plain","size":82559}],"parameters":[],"stepsCount":7,"attachmentsCount":94,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"46672cd32d5e"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_xname_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":10},"items":[{"uid":"b5ac7970fc52da22","status":"passed","time":{"start":1678218921396,"stop":1678218983169,"duration":61773}},{"uid":"bf1f00ccc3f60d16","status":"passed","time":{"start":1674515895032,"stop":1674515956712,"duration":61680}},{"uid":"28d96a11bd5c94ec","status":"passed","time":{"start":1674506138983,"stop":1674506260756,"duration":121773}},{"uid":"f304a1ac6a81d59c","status":"passed","time":{"start":1674500905400,"stop":1674501026757,"duration":121357}},{"uid":"d5e0100c9cd36a34","status":"passed","time":{"start":1674258313485,"stop":1674258435030,"duration":121545}},{"uid":"3385f350cdb221f3","status":"passed","time":{"start":1674255634399,"stop":1674255756811,"duration":122412}},{"uid":"b71f584a1aa948c0","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPIxnameOnPOSToffComputeNodePrereqPrep - Power the target compute node and its parents off to prepare them for the test case' failed:\n- Status code was 400, expected 200:\n    {\"e\": 22, \"err_msg\": \"invalid argument\", \"xnames\": [{\"xname\": \"x1000c0s3b0n0\", \"e\": 22, \"err_msg\": \"Invalid Component IDs\"}]}\n- Error calling validate function '<function validate_pykwalify at 0x7fca58075d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Enum 'invalid argument' does not exist. Path: '/err_msg' Enum: [''].\n     - Key 'xnames' was not defined. Path: ''.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080403123,"stop":1674080403172,"duration":49}},{"uid":"d31d955f8a2aa048","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPIxnameOnPOSToffComputeNodePrereqPrep - Power the target compute node and its parents off to prepare them for the test case' failed:\n- Status code was 400, expected 200:\n    {\"e\": 22, \"err_msg\": \"invalid argument\", \"xnames\": [{\"xname\": \"x1000c0s2b0n0\", \"e\": 22, \"err_msg\": \"Invalid Component IDs\"}]}\n- Error calling validate function '<function validate_pykwalify at 0x7fbab9a71d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Enum 'invalid argument' does not exist. Path: '/err_msg' Enum: [''].\n     - Key 'xnames' was not defined. Path: ''.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674075115082,"stop":1674075115137,"duration":55}},{"uid":"21762f1e2bb89211","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPIxnameOnPOSToffComputeNodePrereqPrep - Power the target compute node and its parents off to prepare them for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f5db4bf6d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '500' does not exist. Path: '/e' Enum: [0].\n     - Enum 'Error: Failed to send power request to PCS.' does not exist. Path: '/err_msg' Enum: [''].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674074734543,"stop":1674074739611,"duration":5068}}]},"tags":[]},"source":"8ce9ac42ffed736e.json","parameterValues":[]}