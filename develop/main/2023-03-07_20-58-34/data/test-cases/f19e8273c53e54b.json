{"uid":"f19e8273c53e54b","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1678221662030,"stop":1678221694619,"duration":32589},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678221662038,"stop":1678221662074,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"a3ca5676ebe5fcfc","name":"stage_yaml","source":"a3ca5676ebe5fcfc.yaml","type":"application/yaml","size":302},{"uid":"a08db87007dd7f10","name":"rest_request","source":"a08db87007dd7f10.yaml","type":"application/yaml","size":162},{"uid":"858e26f539303473","name":"rest_response","source":"858e26f539303473.yaml","type":"application/yaml","size":5751}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678221662075,"stop":1678221662087,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"c141ce218b379aa0","name":"stage_yaml","source":"c141ce218b379aa0.yaml","type":"application/yaml","size":797},{"uid":"dd77a233ba3f717b","name":"rest_request","source":"dd77a233ba3f717b.yaml","type":"application/yaml","size":216},{"uid":"b94cf93beb1fe23f","name":"rest_response","source":"b94cf93beb1fe23f.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678221662088,"stop":1678221693549,"duration":31461},"status":"passed","steps":[],"attachments":[{"uid":"b86e53816abe4559","name":"stage_yaml","source":"b86e53816abe4559.yaml","type":"application/yaml","size":682},{"uid":"9e9d2eeb559d366b","name":"rest_request","source":"9e9d2eeb559d366b.yaml","type":"application/yaml","size":161},{"uid":"4823e2158688c5e6","name":"rest_response","source":"4823e2158688c5e6.yaml","type":"application/yaml","size":587},{"uid":"bb33d10f37fbf24","name":"stage_yaml","source":"bb33d10f37fbf24.yaml","type":"application/yaml","size":682},{"uid":"2fde300236b93fc2","name":"rest_request","source":"2fde300236b93fc2.yaml","type":"application/yaml","size":161},{"uid":"5f8a64a6782f2d27","name":"rest_response","source":"5f8a64a6782f2d27.yaml","type":"application/yaml","size":608},{"uid":"69d8cf2652e7798b","name":"stage_yaml","source":"69d8cf2652e7798b.yaml","type":"application/yaml","size":682},{"uid":"c720cd7dcdc8b6e0","name":"rest_request","source":"c720cd7dcdc8b6e0.yaml","type":"application/yaml","size":161},{"uid":"1861ae0ad0b7c873","name":"rest_response","source":"1861ae0ad0b7c873.yaml","type":"application/yaml","size":608},{"uid":"16083116edadbe8b","name":"stage_yaml","source":"16083116edadbe8b.yaml","type":"application/yaml","size":682},{"uid":"d212aad9c5a42422","name":"rest_request","source":"d212aad9c5a42422.yaml","type":"application/yaml","size":161},{"uid":"cae8f599e1bc2433","name":"rest_response","source":"cae8f599e1bc2433.yaml","type":"application/yaml","size":608},{"uid":"8c402e9d19907ef8","name":"stage_yaml","source":"8c402e9d19907ef8.yaml","type":"application/yaml","size":682},{"uid":"76bd9f46acd26c36","name":"rest_request","source":"76bd9f46acd26c36.yaml","type":"application/yaml","size":161},{"uid":"4bc8b5fb98250b77","name":"rest_response","source":"4bc8b5fb98250b77.yaml","type":"application/yaml","size":608},{"uid":"9d905076b759926f","name":"stage_yaml","source":"9d905076b759926f.yaml","type":"application/yaml","size":682},{"uid":"c6bf4ed16762304d","name":"rest_request","source":"c6bf4ed16762304d.yaml","type":"application/yaml","size":161},{"uid":"fcd43f12b488bcc9","name":"rest_response","source":"fcd43f12b488bcc9.yaml","type":"application/yaml","size":608},{"uid":"5dfef269d367a206","name":"stage_yaml","source":"5dfef269d367a206.yaml","type":"application/yaml","size":682},{"uid":"28ef991508a85ba","name":"rest_request","source":"28ef991508a85ba.yaml","type":"application/yaml","size":161},{"uid":"9d9ac99b651496a8","name":"rest_response","source":"9d9ac99b651496a8.yaml","type":"application/yaml","size":608},{"uid":"1c892974ef0f1cca","name":"stage_yaml","source":"1c892974ef0f1cca.yaml","type":"application/yaml","size":682},{"uid":"9ab95912a8f72d16","name":"rest_request","source":"9ab95912a8f72d16.yaml","type":"application/yaml","size":161},{"uid":"349f1c83b4178216","name":"rest_response","source":"349f1c83b4178216.yaml","type":"application/yaml","size":608},{"uid":"d9200f2e26407c12","name":"stage_yaml","source":"d9200f2e26407c12.yaml","type":"application/yaml","size":682},{"uid":"c82e5cb70e05a449","name":"rest_request","source":"c82e5cb70e05a449.yaml","type":"application/yaml","size":161},{"uid":"95df57e1cb327edf","name":"rest_response","source":"95df57e1cb327edf.yaml","type":"application/yaml","size":608},{"uid":"d20478dbc606302a","name":"stage_yaml","source":"d20478dbc606302a.yaml","type":"application/yaml","size":682},{"uid":"55d07f6a0160c2bf","name":"rest_request","source":"55d07f6a0160c2bf.yaml","type":"application/yaml","size":161},{"uid":"3b28862186eec913","name":"rest_response","source":"3b28862186eec913.yaml","type":"application/yaml","size":608},{"uid":"6fbc00077c111ea7","name":"stage_yaml","source":"6fbc00077c111ea7.yaml","type":"application/yaml","size":682},{"uid":"bc96af5a9522364","name":"rest_request","source":"bc96af5a9522364.yaml","type":"application/yaml","size":161},{"uid":"4d06a8df60f53bfe","name":"rest_response","source":"4d06a8df60f53bfe.yaml","type":"application/yaml","size":608},{"uid":"53e0a56b68534491","name":"stage_yaml","source":"53e0a56b68534491.yaml","type":"application/yaml","size":682},{"uid":"fbdb4c98b9dc3712","name":"rest_request","source":"fbdb4c98b9dc3712.yaml","type":"application/yaml","size":161},{"uid":"81a687c3c4c43d78","name":"rest_response","source":"81a687c3c4c43d78.yaml","type":"application/yaml","size":608},{"uid":"159f4d24de5daf8d","name":"stage_yaml","source":"159f4d24de5daf8d.yaml","type":"application/yaml","size":682},{"uid":"a8dc5684beb42406","name":"rest_request","source":"a8dc5684beb42406.yaml","type":"application/yaml","size":161},{"uid":"425808f26af138f3","name":"rest_response","source":"425808f26af138f3.yaml","type":"application/yaml","size":608},{"uid":"f0784b793a4ee132","name":"stage_yaml","source":"f0784b793a4ee132.yaml","type":"application/yaml","size":682},{"uid":"f27e82b7bf51d286","name":"rest_request","source":"f27e82b7bf51d286.yaml","type":"application/yaml","size":161},{"uid":"2bb9bdc42b39d70d","name":"rest_response","source":"2bb9bdc42b39d70d.yaml","type":"application/yaml","size":608},{"uid":"ccdcc2ac4497ad16","name":"stage_yaml","source":"ccdcc2ac4497ad16.yaml","type":"application/yaml","size":682},{"uid":"6d22cba6b76c6fbf","name":"rest_request","source":"6d22cba6b76c6fbf.yaml","type":"application/yaml","size":161},{"uid":"3a579b761c3f885","name":"rest_response","source":"3a579b761c3f885.yaml","type":"application/yaml","size":608},{"uid":"7a99e01ead6e5e28","name":"stage_yaml","source":"7a99e01ead6e5e28.yaml","type":"application/yaml","size":682},{"uid":"8847f4de34fe9e8e","name":"rest_request","source":"8847f4de34fe9e8e.yaml","type":"application/yaml","size":161},{"uid":"ed158385a9cc614c","name":"rest_response","source":"ed158385a9cc614c.yaml","type":"application/yaml","size":608},{"uid":"edffd6e5877e4bcc","name":"stage_yaml","source":"edffd6e5877e4bcc.yaml","type":"application/yaml","size":682},{"uid":"8b2188193cfc2756","name":"rest_request","source":"8b2188193cfc2756.yaml","type":"application/yaml","size":161},{"uid":"ff8eb11ce35cd39a","name":"rest_response","source":"ff8eb11ce35cd39a.yaml","type":"application/yaml","size":608},{"uid":"4c89b1e3ea6bbb9","name":"stage_yaml","source":"4c89b1e3ea6bbb9.yaml","type":"application/yaml","size":682},{"uid":"5f47933680392ad5","name":"rest_request","source":"5f47933680392ad5.yaml","type":"application/yaml","size":161},{"uid":"add28e30dabd4ed0","name":"rest_response","source":"add28e30dabd4ed0.yaml","type":"application/yaml","size":608},{"uid":"cedea9953d111607","name":"stage_yaml","source":"cedea9953d111607.yaml","type":"application/yaml","size":682},{"uid":"26a142b9524f61ac","name":"rest_request","source":"26a142b9524f61ac.yaml","type":"application/yaml","size":161},{"uid":"29782f50ed8bb16f","name":"rest_response","source":"29782f50ed8bb16f.yaml","type":"application/yaml","size":608},{"uid":"67a50a7106c099e","name":"stage_yaml","source":"67a50a7106c099e.yaml","type":"application/yaml","size":682},{"uid":"f536acf3dcc5259d","name":"rest_request","source":"f536acf3dcc5259d.yaml","type":"application/yaml","size":161},{"uid":"314ea53eb593c949","name":"rest_response","source":"314ea53eb593c949.yaml","type":"application/yaml","size":608},{"uid":"4694ed6f7d6ec928","name":"stage_yaml","source":"4694ed6f7d6ec928.yaml","type":"application/yaml","size":682},{"uid":"9b4bd86abaa92006","name":"rest_request","source":"9b4bd86abaa92006.yaml","type":"application/yaml","size":161},{"uid":"a1713ab59e364d22","name":"rest_response","source":"a1713ab59e364d22.yaml","type":"application/yaml","size":608},{"uid":"efafa44e51cce4d2","name":"stage_yaml","source":"efafa44e51cce4d2.yaml","type":"application/yaml","size":682},{"uid":"7f3569e1a28671df","name":"rest_request","source":"7f3569e1a28671df.yaml","type":"application/yaml","size":161},{"uid":"324b40cafdf3dd26","name":"rest_response","source":"324b40cafdf3dd26.yaml","type":"application/yaml","size":608},{"uid":"7009cd88754e363a","name":"stage_yaml","source":"7009cd88754e363a.yaml","type":"application/yaml","size":682},{"uid":"2fa05ab81c89cdc5","name":"rest_request","source":"2fa05ab81c89cdc5.yaml","type":"application/yaml","size":161},{"uid":"5c1f1585e91e3e0c","name":"rest_response","source":"5c1f1585e91e3e0c.yaml","type":"application/yaml","size":608},{"uid":"4fd65ebddb4ca910","name":"stage_yaml","source":"4fd65ebddb4ca910.yaml","type":"application/yaml","size":682},{"uid":"6f9758db2b5fd9e1","name":"rest_request","source":"6f9758db2b5fd9e1.yaml","type":"application/yaml","size":161},{"uid":"ad41e3198639b18","name":"rest_response","source":"ad41e3198639b18.yaml","type":"application/yaml","size":608},{"uid":"5f39efbf986b85e0","name":"stage_yaml","source":"5f39efbf986b85e0.yaml","type":"application/yaml","size":682},{"uid":"fa0e463e25e01d9c","name":"rest_request","source":"fa0e463e25e01d9c.yaml","type":"application/yaml","size":161},{"uid":"f133732111a49a14","name":"rest_response","source":"f133732111a49a14.yaml","type":"application/yaml","size":608},{"uid":"7cc6100fee04398d","name":"stage_yaml","source":"7cc6100fee04398d.yaml","type":"application/yaml","size":682},{"uid":"95e6312cccc7ef8f","name":"rest_request","source":"95e6312cccc7ef8f.yaml","type":"application/yaml","size":161},{"uid":"3cb3f13dc9bed7e1","name":"rest_response","source":"3cb3f13dc9bed7e1.yaml","type":"application/yaml","size":608},{"uid":"c3327ee006ea9f80","name":"stage_yaml","source":"c3327ee006ea9f80.yaml","type":"application/yaml","size":682},{"uid":"4f65b74ad464577a","name":"rest_request","source":"4f65b74ad464577a.yaml","type":"application/yaml","size":161},{"uid":"995a9d09886b9ec1","name":"rest_response","source":"995a9d09886b9ec1.yaml","type":"application/yaml","size":608},{"uid":"f1faca7dcbcf0374","name":"stage_yaml","source":"f1faca7dcbcf0374.yaml","type":"application/yaml","size":682},{"uid":"a74b064d649a2098","name":"rest_request","source":"a74b064d649a2098.yaml","type":"application/yaml","size":161},{"uid":"1c5d689339033476","name":"rest_response","source":"1c5d689339033476.yaml","type":"application/yaml","size":608},{"uid":"22a3befd2504b03c","name":"stage_yaml","source":"22a3befd2504b03c.yaml","type":"application/yaml","size":682},{"uid":"7ea440fbb4309a42","name":"rest_request","source":"7ea440fbb4309a42.yaml","type":"application/yaml","size":161},{"uid":"1eba082e1c7e357d","name":"rest_response","source":"1eba082e1c7e357d.yaml","type":"application/yaml","size":608},{"uid":"fee822dd516999ab","name":"stage_yaml","source":"fee822dd516999ab.yaml","type":"application/yaml","size":682},{"uid":"7fe424456a32b4af","name":"rest_request","source":"7fe424456a32b4af.yaml","type":"application/yaml","size":161},{"uid":"82d9319c8a7536d8","name":"rest_response","source":"82d9319c8a7536d8.yaml","type":"application/yaml","size":608},{"uid":"cba04d269d3fa046","name":"stage_yaml","source":"cba04d269d3fa046.yaml","type":"application/yaml","size":682},{"uid":"c5695973cfcdde9a","name":"rest_request","source":"c5695973cfcdde9a.yaml","type":"application/yaml","size":161},{"uid":"550eb682ec2b0e7f","name":"rest_response","source":"550eb682ec2b0e7f.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1678221693550,"stop":1678221693565,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"28102334b82da787","name":"stage_yaml","source":"28102334b82da787.yaml","type":"application/yaml","size":2395},{"uid":"16909e7241778c6","name":"rest_request","source":"16909e7241778c6.yaml","type":"application/yaml","size":161},{"uid":"495d5ecaf2dd77e9","name":"rest_response","source":"495d5ecaf2dd77e9.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678221693566,"stop":1678221693576,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"a1cd8adf18801edf","name":"stage_yaml","source":"a1cd8adf18801edf.yaml","type":"application/yaml","size":978},{"uid":"7ac41dad49ab4f8a","name":"rest_request","source":"7ac41dad49ab4f8a.yaml","type":"application/yaml","size":145},{"uid":"9b4944fa6465009b","name":"rest_response","source":"9b4944fa6465009b.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1678221693577,"stop":1678221693588,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"c598c9f7fe1c6a06","name":"stage_yaml","source":"c598c9f7fe1c6a06.yaml","type":"application/yaml","size":816},{"uid":"aa19431295317640","name":"rest_request","source":"aa19431295317640.yaml","type":"application/yaml","size":219},{"uid":"92cdb10efb4a6154","name":"rest_response","source":"92cdb10efb4a6154.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1678221693589,"stop":1678221694603,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"c6a52ef54d33bbf5","name":"stage_yaml","source":"c6a52ef54d33bbf5.yaml","type":"application/yaml","size":693},{"uid":"37af8fe1858d8e17","name":"rest_request","source":"37af8fe1858d8e17.yaml","type":"application/yaml","size":161},{"uid":"c0538598b8a0f935","name":"rest_response","source":"c0538598b8a0f935.yaml","type":"application/yaml","size":659}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1678221694604,"stop":1678221694619,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"ee312d0e365f42fa","name":"stage_yaml","source":"ee312d0e365f42fa.yaml","type":"application/yaml","size":2549},{"uid":"bdcf4bcbc5e7c67d","name":"rest_request","source":"bdcf4bcbc5e7c67d.yaml","type":"application/yaml","size":161},{"uid":"d552c18c0512054e","name":"rest_response","source":"d552c18c0512054e.yaml","type":"application/yaml","size":659}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"82b58f156ed7f696","name":"log","source":"82b58f156ed7f696.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"e40f99b7bd05"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"149335dd272f61a1","status":"passed","time":{"start":1678217961039,"stop":1678217993697,"duration":32658}},{"uid":"be4b6438db5b348d","status":"passed","time":{"start":1676401045550,"stop":1676401078169,"duration":32619}},{"uid":"56e8f7fd60dbbc7f","status":"passed","time":{"start":1676400037143,"stop":1676400069726,"duration":32583}},{"uid":"dadcf9b04d98696f","status":"passed","time":{"start":1676324764693,"stop":1676324797333,"duration":32640}},{"uid":"e68cd2560b96d8bc","status":"passed","time":{"start":1674515544898,"stop":1674515577491,"duration":32593}},{"uid":"75bc9fe4ff46b849","status":"passed","time":{"start":1674505718646,"stop":1674505720853,"duration":2207}},{"uid":"7994173b87f76ee4","status":"passed","time":{"start":1674500526963,"stop":1674500529126,"duration":2163}},{"uid":"d3c1fd66308b1580","status":"passed","time":{"start":1674257934555,"stop":1674257936714,"duration":2159}},{"uid":"7378a7cdf4d39cac","status":"passed","time":{"start":1674255255677,"stop":1674255273083,"duration":17406}},{"uid":"fc16bb501e6af1dd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080286390,"stop":1674080286435,"duration":45}},{"uid":"34e35d6cba29643d","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005824,"stop":1674075005855,"duration":31}},{"uid":"424446345afae529","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623136,"stop":1674074623166,"duration":30}}]},"tags":[]},"source":"f19e8273c53e54b.json","parameterValues":[]}