{"uid":"d16eaed4383b7db4","name":"Verify transitions powers off multiple compute nodes that are powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off multiple compute nodes that are powered on","historyId":"7a6914758791ce440c4068335f2673d5","time":{"start":1678221273246,"stop":1678221290666,"duration":17420},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve two compute nodes from HSM to be used in later stages","time":{"start":1678221273255,"stop":1678221273297,"duration":42},"status":"passed","steps":[],"attachments":[{"uid":"c48499ee9f39cc40","name":"stage_yaml","source":"c48499ee9f39cc40.yaml","type":"application/yaml","size":346},{"uid":"376cd3b801bc529e","name":"rest_request","source":"376cd3b801bc529e.yaml","type":"application/yaml","size":162},{"uid":"db75714ad6834526","name":"rest_response","source":"db75714ad6834526.yaml","type":"application/yaml","size":5746}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target nodes on to prepare them for the test case","time":{"start":1678221273298,"stop":1678221273315,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"3882fb624b012ecd","name":"stage_yaml","source":"3882fb624b012ecd.yaml","type":"application/yaml","size":807},{"uid":"1e70de94d591260b","name":"rest_request","source":"1e70de94d591260b.yaml","type":"application/yaml","size":236},{"uid":"69a500fb71886b","name":"rest_response","source":"69a500fb71886b.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678221273317,"stop":1678221274334,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"900739af14d219d0","name":"stage_yaml","source":"900739af14d219d0.yaml","type":"application/yaml","size":661},{"uid":"70070b685c416aa2","name":"rest_request","source":"70070b685c416aa2.yaml","type":"application/yaml","size":161},{"uid":"75d701f9da5b7c05","name":"rest_response","source":"75d701f9da5b7c05.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678221274335,"stop":1678221274352,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"f4376116846313a","name":"stage_yaml","source":"f4376116846313a.yaml","type":"application/yaml","size":2420},{"uid":"ac71a8b2ad0cf8c6","name":"rest_request","source":"ac71a8b2ad0cf8c6.yaml","type":"application/yaml","size":161},{"uid":"19a9d7ae1af0088c","name":"rest_response","source":"19a9d7ae1af0088c.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target nodes are powered on using power-status","time":{"start":1678221274353,"stop":1678221274365,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"c71331b383a2dbd4","name":"stage_yaml","source":"c71331b383a2dbd4.yaml","type":"application/yaml","size":1046},{"uid":"bfd64cfadf15c24","name":"rest_request","source":"bfd64cfadf15c24.yaml","type":"application/yaml","size":165},{"uid":"6c5db79d3f69136e","name":"rest_response","source":"6c5db79d3f69136e.yaml","type":"application/yaml","size":713}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target nodes off with a force-off transition","time":{"start":1678221274366,"stop":1678221274378,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"9c66530a5ba7fc93","name":"stage_yaml","source":"9c66530a5ba7fc93.yaml","type":"application/yaml","size":825},{"uid":"e9fdebcaf91aef3","name":"rest_request","source":"e9fdebcaf91aef3.yaml","type":"application/yaml","size":241},{"uid":"eaf92eee063468bb","name":"rest_response","source":"eaf92eee063468bb.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678221274379,"stop":1678221290635,"duration":16256},"status":"passed","steps":[],"attachments":[{"uid":"7ff704531f144175","name":"stage_yaml","source":"7ff704531f144175.yaml","type":"application/yaml","size":684},{"uid":"c714cb462dea03dd","name":"rest_request","source":"c714cb462dea03dd.yaml","type":"application/yaml","size":161},{"uid":"8d4af9687166e2ec","name":"rest_response","source":"8d4af9687166e2ec.yaml","type":"application/yaml","size":689},{"uid":"39957698c0fb28dc","name":"stage_yaml","source":"39957698c0fb28dc.yaml","type":"application/yaml","size":684},{"uid":"bec38e646c790072","name":"rest_request","source":"bec38e646c790072.yaml","type":"application/yaml","size":161},{"uid":"3c299cf64704442c","name":"rest_response","source":"3c299cf64704442c.yaml","type":"application/yaml","size":731},{"uid":"57ce9e1c489cf3d0","name":"stage_yaml","source":"57ce9e1c489cf3d0.yaml","type":"application/yaml","size":684},{"uid":"f09272004524ec75","name":"rest_request","source":"f09272004524ec75.yaml","type":"application/yaml","size":161},{"uid":"4fb7051475f922a2","name":"rest_response","source":"4fb7051475f922a2.yaml","type":"application/yaml","size":731},{"uid":"4a12ddd413a53f83","name":"stage_yaml","source":"4a12ddd413a53f83.yaml","type":"application/yaml","size":684},{"uid":"38614b10815d502e","name":"rest_request","source":"38614b10815d502e.yaml","type":"application/yaml","size":161},{"uid":"f413124e7ac9fd3a","name":"rest_response","source":"f413124e7ac9fd3a.yaml","type":"application/yaml","size":731},{"uid":"903c6401565d5724","name":"stage_yaml","source":"903c6401565d5724.yaml","type":"application/yaml","size":684},{"uid":"aab16fc8b4d3c49b","name":"rest_request","source":"aab16fc8b4d3c49b.yaml","type":"application/yaml","size":161},{"uid":"b911f15d8029ee8f","name":"rest_response","source":"b911f15d8029ee8f.yaml","type":"application/yaml","size":731},{"uid":"14e6f570f69228e2","name":"stage_yaml","source":"14e6f570f69228e2.yaml","type":"application/yaml","size":684},{"uid":"ccbe4129bfbec470","name":"rest_request","source":"ccbe4129bfbec470.yaml","type":"application/yaml","size":161},{"uid":"e6ecee8476b674f4","name":"rest_response","source":"e6ecee8476b674f4.yaml","type":"application/yaml","size":731},{"uid":"99a2f0738e2f9ad2","name":"stage_yaml","source":"99a2f0738e2f9ad2.yaml","type":"application/yaml","size":684},{"uid":"a2f77a749dbde7c5","name":"rest_request","source":"a2f77a749dbde7c5.yaml","type":"application/yaml","size":161},{"uid":"75b8777397d929dc","name":"rest_response","source":"75b8777397d929dc.yaml","type":"application/yaml","size":731},{"uid":"ea07bde465ad7e70","name":"stage_yaml","source":"ea07bde465ad7e70.yaml","type":"application/yaml","size":684},{"uid":"47cd2242e1410e4e","name":"rest_request","source":"47cd2242e1410e4e.yaml","type":"application/yaml","size":161},{"uid":"6c152f29c5353c8c","name":"rest_response","source":"6c152f29c5353c8c.yaml","type":"application/yaml","size":731},{"uid":"8df186324b702fe8","name":"stage_yaml","source":"8df186324b702fe8.yaml","type":"application/yaml","size":684},{"uid":"78faab3009e062a0","name":"rest_request","source":"78faab3009e062a0.yaml","type":"application/yaml","size":161},{"uid":"ced895d9eab2392a","name":"rest_response","source":"ced895d9eab2392a.yaml","type":"application/yaml","size":731},{"uid":"aaedbb48176a6c43","name":"stage_yaml","source":"aaedbb48176a6c43.yaml","type":"application/yaml","size":684},{"uid":"bc047c8b16e69207","name":"rest_request","source":"bc047c8b16e69207.yaml","type":"application/yaml","size":161},{"uid":"6ce25d4e2f6e87d8","name":"rest_response","source":"6ce25d4e2f6e87d8.yaml","type":"application/yaml","size":731},{"uid":"1fe716374d23c59c","name":"stage_yaml","source":"1fe716374d23c59c.yaml","type":"application/yaml","size":684},{"uid":"676ad2791a43a0b5","name":"rest_request","source":"676ad2791a43a0b5.yaml","type":"application/yaml","size":161},{"uid":"2ccee28293052b6","name":"rest_response","source":"2ccee28293052b6.yaml","type":"application/yaml","size":731},{"uid":"5f297778be36699d","name":"stage_yaml","source":"5f297778be36699d.yaml","type":"application/yaml","size":684},{"uid":"e3f8c8576d867602","name":"rest_request","source":"e3f8c8576d867602.yaml","type":"application/yaml","size":161},{"uid":"838eb1f300b16010","name":"rest_response","source":"838eb1f300b16010.yaml","type":"application/yaml","size":731},{"uid":"9a3bbb7e388bb099","name":"stage_yaml","source":"9a3bbb7e388bb099.yaml","type":"application/yaml","size":684},{"uid":"c5fd99b6d7183a38","name":"rest_request","source":"c5fd99b6d7183a38.yaml","type":"application/yaml","size":161},{"uid":"6d905826921c4f2d","name":"rest_response","source":"6d905826921c4f2d.yaml","type":"application/yaml","size":731},{"uid":"9b1f31ea94c9f1fb","name":"stage_yaml","source":"9b1f31ea94c9f1fb.yaml","type":"application/yaml","size":684},{"uid":"aac3cd8206ebaf22","name":"rest_request","source":"aac3cd8206ebaf22.yaml","type":"application/yaml","size":161},{"uid":"9803c2ef080eb440","name":"rest_response","source":"9803c2ef080eb440.yaml","type":"application/yaml","size":731},{"uid":"1552fef510789f22","name":"stage_yaml","source":"1552fef510789f22.yaml","type":"application/yaml","size":684},{"uid":"273456fd8cb0b6a6","name":"rest_request","source":"273456fd8cb0b6a6.yaml","type":"application/yaml","size":161},{"uid":"ffa6c31159fb8fc7","name":"rest_response","source":"ffa6c31159fb8fc7.yaml","type":"application/yaml","size":731},{"uid":"8d4c4811e42f6e3d","name":"stage_yaml","source":"8d4c4811e42f6e3d.yaml","type":"application/yaml","size":684},{"uid":"adf8543d1d7f3d9c","name":"rest_request","source":"adf8543d1d7f3d9c.yaml","type":"application/yaml","size":161},{"uid":"e1b4e3f6fe998ffe","name":"rest_response","source":"e1b4e3f6fe998ffe.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678221290637,"stop":1678221290652,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"5a563e69c7b17d30","name":"stage_yaml","source":"5a563e69c7b17d30.yaml","type":"application/yaml","size":2381},{"uid":"dd7dc865889d084c","name":"rest_request","source":"dd7dc865889d084c.yaml","type":"application/yaml","size":161},{"uid":"864e1c5f1260fcd4","name":"rest_response","source":"864e1c5f1260fcd4.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target nodes are powered off using power-status","time":{"start":1678221290653,"stop":1678221290665,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"4a04e7193ce78d4f","name":"stage_yaml","source":"4a04e7193ce78d4f.yaml","type":"application/yaml","size":1048},{"uid":"b36a2fdffed0266","name":"rest_request","source":"b36a2fdffed0266.yaml","type":"application/yaml","size":165},{"uid":"99c585e6e452abb6","name":"rest_response","source":"99c585e6e452abb6.yaml","type":"application/yaml","size":715}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"8794ff830eda4737","name":"log","source":"8794ff830eda4737.txt","type":"text/plain","size":59792}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"e40f99b7bd05"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"259eb41f621c8a73","status":"passed","time":{"start":1678217571555,"stop":1678217604323,"duration":32768}},{"uid":"9386260d56452e27","status":"passed","time":{"start":1676400655425,"stop":1676400688072,"duration":32647}},{"uid":"168debf159930da7","status":"passed","time":{"start":1676399647612,"stop":1676399680256,"duration":32644}},{"uid":"a393bd601608c583","status":"passed","time":{"start":1676324373526,"stop":1676324406326,"duration":32800}},{"uid":"46044090d9240cd6","status":"passed","time":{"start":1674515155031,"stop":1674515202986,"duration":47955}},{"uid":"57a583ce363e6ff2","status":"passed","time":{"start":1674505233520,"stop":1674505297194,"duration":63674}},{"uid":"5ac13b4b4cb8e660","status":"passed","time":{"start":1674500075790,"stop":1674500123784,"duration":47994}},{"uid":"5419ac6c60424148","status":"passed","time":{"start":1674257498781,"stop":1674257562090,"duration":63309}},{"uid":"c72f8e529dd2e545","status":"passed","time":{"start":1674254773832,"stop":1674254821848,"duration":48016}},{"uid":"90ce337b77f3adcb","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target nodes off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080275571,"stop":1674080276696,"duration":1125}},{"uid":"ddb08b62cc264b02","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005211,"stop":1674075005247,"duration":36}},{"uid":"7181122f94977d49","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622573,"stop":1674074622606,"duration":33}}]},"tags":[]},"source":"d16eaed4383b7db4.json","parameterValues":[]}