{"uid":"38720dbc34713ee5","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678221567105,"stop":1678221599734,"duration":32629},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678221567114,"stop":1678221567151,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"adf974c787a7e65d","name":"stage_yaml","source":"adf974c787a7e65d.yaml","type":"application/yaml","size":302},{"uid":"4a8376e63a856b85","name":"rest_request","source":"4a8376e63a856b85.yaml","type":"application/yaml","size":162},{"uid":"9a656730e990c08","name":"rest_response","source":"9a656730e990c08.yaml","type":"application/yaml","size":5751}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678221567152,"stop":1678221567164,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"b71eba5cc2ffefe6","name":"stage_yaml","source":"b71eba5cc2ffefe6.yaml","type":"application/yaml","size":797},{"uid":"99f4f622d2dd7ac3","name":"rest_request","source":"99f4f622d2dd7ac3.yaml","type":"application/yaml","size":216},{"uid":"df05aa5aa4867bc8","name":"rest_response","source":"df05aa5aa4867bc8.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678221567167,"stop":1678221598636,"duration":31469},"status":"passed","steps":[],"attachments":[{"uid":"e91f97bfd981edbb","name":"stage_yaml","source":"e91f97bfd981edbb.yaml","type":"application/yaml","size":682},{"uid":"d249f701a49c7901","name":"rest_request","source":"d249f701a49c7901.yaml","type":"application/yaml","size":161},{"uid":"2e3dfe32356512a4","name":"rest_response","source":"2e3dfe32356512a4.yaml","type":"application/yaml","size":587},{"uid":"dace4a3703987efb","name":"stage_yaml","source":"dace4a3703987efb.yaml","type":"application/yaml","size":682},{"uid":"cb57daa25406bfa2","name":"rest_request","source":"cb57daa25406bfa2.yaml","type":"application/yaml","size":161},{"uid":"14b3ea0b8407f2fa","name":"rest_response","source":"14b3ea0b8407f2fa.yaml","type":"application/yaml","size":608},{"uid":"a5647677e0272ec7","name":"stage_yaml","source":"a5647677e0272ec7.yaml","type":"application/yaml","size":682},{"uid":"dc3a1c2089f159c6","name":"rest_request","source":"dc3a1c2089f159c6.yaml","type":"application/yaml","size":161},{"uid":"5eace206208c2380","name":"rest_response","source":"5eace206208c2380.yaml","type":"application/yaml","size":608},{"uid":"8c1ee84a5653e33e","name":"stage_yaml","source":"8c1ee84a5653e33e.yaml","type":"application/yaml","size":682},{"uid":"1eeab020eac795b1","name":"rest_request","source":"1eeab020eac795b1.yaml","type":"application/yaml","size":161},{"uid":"57d5f3abefb4cdd3","name":"rest_response","source":"57d5f3abefb4cdd3.yaml","type":"application/yaml","size":608},{"uid":"30970436af3c75bc","name":"stage_yaml","source":"30970436af3c75bc.yaml","type":"application/yaml","size":682},{"uid":"696d51d48bdced5d","name":"rest_request","source":"696d51d48bdced5d.yaml","type":"application/yaml","size":161},{"uid":"bc2d5b940c87ca71","name":"rest_response","source":"bc2d5b940c87ca71.yaml","type":"application/yaml","size":608},{"uid":"bba97ecc9042a9b2","name":"stage_yaml","source":"bba97ecc9042a9b2.yaml","type":"application/yaml","size":682},{"uid":"d7d4ec25c394ed20","name":"rest_request","source":"d7d4ec25c394ed20.yaml","type":"application/yaml","size":161},{"uid":"c430791a9bcefc5f","name":"rest_response","source":"c430791a9bcefc5f.yaml","type":"application/yaml","size":608},{"uid":"57e8ddd94193bbe9","name":"stage_yaml","source":"57e8ddd94193bbe9.yaml","type":"application/yaml","size":682},{"uid":"44fc0c7a06fb4b84","name":"rest_request","source":"44fc0c7a06fb4b84.yaml","type":"application/yaml","size":161},{"uid":"f97d754921db14a0","name":"rest_response","source":"f97d754921db14a0.yaml","type":"application/yaml","size":608},{"uid":"bd4243e94e6bcdbd","name":"stage_yaml","source":"bd4243e94e6bcdbd.yaml","type":"application/yaml","size":682},{"uid":"1ff51a8e5e0af07b","name":"rest_request","source":"1ff51a8e5e0af07b.yaml","type":"application/yaml","size":161},{"uid":"332d75bd5693b794","name":"rest_response","source":"332d75bd5693b794.yaml","type":"application/yaml","size":608},{"uid":"b091835d9231fc62","name":"stage_yaml","source":"b091835d9231fc62.yaml","type":"application/yaml","size":682},{"uid":"d3c7d8a4122e3a39","name":"rest_request","source":"d3c7d8a4122e3a39.yaml","type":"application/yaml","size":161},{"uid":"b8b21de787eee1b8","name":"rest_response","source":"b8b21de787eee1b8.yaml","type":"application/yaml","size":608},{"uid":"eb18523f0b859825","name":"stage_yaml","source":"eb18523f0b859825.yaml","type":"application/yaml","size":682},{"uid":"efc40734838c4377","name":"rest_request","source":"efc40734838c4377.yaml","type":"application/yaml","size":161},{"uid":"e343122dcffc02e5","name":"rest_response","source":"e343122dcffc02e5.yaml","type":"application/yaml","size":608},{"uid":"8820c9573db945ae","name":"stage_yaml","source":"8820c9573db945ae.yaml","type":"application/yaml","size":682},{"uid":"9d9316ea1f0c0908","name":"rest_request","source":"9d9316ea1f0c0908.yaml","type":"application/yaml","size":161},{"uid":"37856c1891ee1e05","name":"rest_response","source":"37856c1891ee1e05.yaml","type":"application/yaml","size":608},{"uid":"d2e757cb8dd6b74d","name":"stage_yaml","source":"d2e757cb8dd6b74d.yaml","type":"application/yaml","size":682},{"uid":"ca5130347d332317","name":"rest_request","source":"ca5130347d332317.yaml","type":"application/yaml","size":161},{"uid":"91fe8c2384d41a2c","name":"rest_response","source":"91fe8c2384d41a2c.yaml","type":"application/yaml","size":608},{"uid":"7c1bc260ec106212","name":"stage_yaml","source":"7c1bc260ec106212.yaml","type":"application/yaml","size":682},{"uid":"e5d1516cc57af075","name":"rest_request","source":"e5d1516cc57af075.yaml","type":"application/yaml","size":161},{"uid":"68a08ed26e13ca90","name":"rest_response","source":"68a08ed26e13ca90.yaml","type":"application/yaml","size":608},{"uid":"3b3f3ca8ba9f47ad","name":"stage_yaml","source":"3b3f3ca8ba9f47ad.yaml","type":"application/yaml","size":682},{"uid":"324bd144962a932e","name":"rest_request","source":"324bd144962a932e.yaml","type":"application/yaml","size":161},{"uid":"ab3c5bc4dd184525","name":"rest_response","source":"ab3c5bc4dd184525.yaml","type":"application/yaml","size":608},{"uid":"8c9e4222ea4dcffe","name":"stage_yaml","source":"8c9e4222ea4dcffe.yaml","type":"application/yaml","size":682},{"uid":"21f00c3d9824e170","name":"rest_request","source":"21f00c3d9824e170.yaml","type":"application/yaml","size":161},{"uid":"a9c490111df9bc06","name":"rest_response","source":"a9c490111df9bc06.yaml","type":"application/yaml","size":608},{"uid":"7e08c9b1035b0b7c","name":"stage_yaml","source":"7e08c9b1035b0b7c.yaml","type":"application/yaml","size":682},{"uid":"d221bfb2fdd1457b","name":"rest_request","source":"d221bfb2fdd1457b.yaml","type":"application/yaml","size":161},{"uid":"1e7bfe8657d1ef07","name":"rest_response","source":"1e7bfe8657d1ef07.yaml","type":"application/yaml","size":608},{"uid":"574ba1b229e1d382","name":"stage_yaml","source":"574ba1b229e1d382.yaml","type":"application/yaml","size":682},{"uid":"a7780f3a76eaf641","name":"rest_request","source":"a7780f3a76eaf641.yaml","type":"application/yaml","size":161},{"uid":"3ff7d934d7749c09","name":"rest_response","source":"3ff7d934d7749c09.yaml","type":"application/yaml","size":608},{"uid":"961b0c6e529c9d18","name":"stage_yaml","source":"961b0c6e529c9d18.yaml","type":"application/yaml","size":682},{"uid":"9fa718d4a44fd09b","name":"rest_request","source":"9fa718d4a44fd09b.yaml","type":"application/yaml","size":161},{"uid":"484540c86cc702e2","name":"rest_response","source":"484540c86cc702e2.yaml","type":"application/yaml","size":608},{"uid":"dd81b6bdc8a70ae5","name":"stage_yaml","source":"dd81b6bdc8a70ae5.yaml","type":"application/yaml","size":682},{"uid":"1e0e6824a03a684b","name":"rest_request","source":"1e0e6824a03a684b.yaml","type":"application/yaml","size":161},{"uid":"f9f6b901fa2314ca","name":"rest_response","source":"f9f6b901fa2314ca.yaml","type":"application/yaml","size":608},{"uid":"70e6e22faacbb619","name":"stage_yaml","source":"70e6e22faacbb619.yaml","type":"application/yaml","size":682},{"uid":"bef7b60fc23256f4","name":"rest_request","source":"bef7b60fc23256f4.yaml","type":"application/yaml","size":161},{"uid":"460bcbe127301ad","name":"rest_response","source":"460bcbe127301ad.yaml","type":"application/yaml","size":608},{"uid":"48b3e72c7cb5561a","name":"stage_yaml","source":"48b3e72c7cb5561a.yaml","type":"application/yaml","size":682},{"uid":"81b981616bad976c","name":"rest_request","source":"81b981616bad976c.yaml","type":"application/yaml","size":161},{"uid":"ef756c77b4a15cae","name":"rest_response","source":"ef756c77b4a15cae.yaml","type":"application/yaml","size":608},{"uid":"d30aa8eea7b4623","name":"stage_yaml","source":"d30aa8eea7b4623.yaml","type":"application/yaml","size":682},{"uid":"c125edafd8f4cec3","name":"rest_request","source":"c125edafd8f4cec3.yaml","type":"application/yaml","size":161},{"uid":"1bd5a74d89d5f829","name":"rest_response","source":"1bd5a74d89d5f829.yaml","type":"application/yaml","size":608},{"uid":"63a5feaf2bdc353e","name":"stage_yaml","source":"63a5feaf2bdc353e.yaml","type":"application/yaml","size":682},{"uid":"46d2ef4b4b6911a4","name":"rest_request","source":"46d2ef4b4b6911a4.yaml","type":"application/yaml","size":161},{"uid":"f5812e48d311d8b5","name":"rest_response","source":"f5812e48d311d8b5.yaml","type":"application/yaml","size":608},{"uid":"8e3f986f20a8a24f","name":"stage_yaml","source":"8e3f986f20a8a24f.yaml","type":"application/yaml","size":682},{"uid":"5d70f1440a5d3e3b","name":"rest_request","source":"5d70f1440a5d3e3b.yaml","type":"application/yaml","size":161},{"uid":"5c209902fc281cfb","name":"rest_response","source":"5c209902fc281cfb.yaml","type":"application/yaml","size":608},{"uid":"f4c8406a92e43718","name":"stage_yaml","source":"f4c8406a92e43718.yaml","type":"application/yaml","size":682},{"uid":"67b8be00aa9fa6fb","name":"rest_request","source":"67b8be00aa9fa6fb.yaml","type":"application/yaml","size":161},{"uid":"4c4a955e42742511","name":"rest_response","source":"4c4a955e42742511.yaml","type":"application/yaml","size":608},{"uid":"2ac8b70769a24463","name":"stage_yaml","source":"2ac8b70769a24463.yaml","type":"application/yaml","size":682},{"uid":"21b4f1de3d1974c6","name":"rest_request","source":"21b4f1de3d1974c6.yaml","type":"application/yaml","size":161},{"uid":"e07c1596a8a1661c","name":"rest_response","source":"e07c1596a8a1661c.yaml","type":"application/yaml","size":608},{"uid":"531e94ee7f5aeec2","name":"stage_yaml","source":"531e94ee7f5aeec2.yaml","type":"application/yaml","size":682},{"uid":"4ab67f56cf29c042","name":"rest_request","source":"4ab67f56cf29c042.yaml","type":"application/yaml","size":161},{"uid":"ac41012131b4f400","name":"rest_response","source":"ac41012131b4f400.yaml","type":"application/yaml","size":608},{"uid":"6007fc2c73de49","name":"stage_yaml","source":"6007fc2c73de49.yaml","type":"application/yaml","size":682},{"uid":"28ed629690a824ba","name":"rest_request","source":"28ed629690a824ba.yaml","type":"application/yaml","size":161},{"uid":"16a7eaa3eeaab627","name":"rest_response","source":"16a7eaa3eeaab627.yaml","type":"application/yaml","size":608},{"uid":"af172e170d084fd9","name":"stage_yaml","source":"af172e170d084fd9.yaml","type":"application/yaml","size":682},{"uid":"54d3913edccc1499","name":"rest_request","source":"54d3913edccc1499.yaml","type":"application/yaml","size":161},{"uid":"de6da21c36518416","name":"rest_response","source":"de6da21c36518416.yaml","type":"application/yaml","size":608},{"uid":"84d4ec3736295071","name":"stage_yaml","source":"84d4ec3736295071.yaml","type":"application/yaml","size":682},{"uid":"f996cacf1ffea9f3","name":"rest_request","source":"f996cacf1ffea9f3.yaml","type":"application/yaml","size":161},{"uid":"f73ae767f6041795","name":"rest_response","source":"f73ae767f6041795.yaml","type":"application/yaml","size":608},{"uid":"d2bb2165bbc270c6","name":"stage_yaml","source":"d2bb2165bbc270c6.yaml","type":"application/yaml","size":682},{"uid":"800877640f6af9be","name":"rest_request","source":"800877640f6af9be.yaml","type":"application/yaml","size":161},{"uid":"596da73a1cfd6cca","name":"rest_response","source":"596da73a1cfd6cca.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678221598637,"stop":1678221598652,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b96b9caec64fed28","name":"stage_yaml","source":"b96b9caec64fed28.yaml","type":"application/yaml","size":2389},{"uid":"ab3d06778b93a3ae","name":"rest_request","source":"ab3d06778b93a3ae.yaml","type":"application/yaml","size":161},{"uid":"44f482bfd817f279","name":"rest_response","source":"44f482bfd817f279.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678221598653,"stop":1678221598668,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"501185337f4ea42a","name":"stage_yaml","source":"501185337f4ea42a.yaml","type":"application/yaml","size":978},{"uid":"ec136950e0fb9dd1","name":"rest_request","source":"ec136950e0fb9dd1.yaml","type":"application/yaml","size":145},{"uid":"930c94d3332641c1","name":"rest_response","source":"930c94d3332641c1.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678221598668,"stop":1678221598680,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"e65d78f354480d41","name":"stage_yaml","source":"e65d78f354480d41.yaml","type":"application/yaml","size":763},{"uid":"612b3699c0138809","name":"rest_request","source":"612b3699c0138809.yaml","type":"application/yaml","size":211},{"uid":"5045091221ab5c84","name":"rest_response","source":"5045091221ab5c84.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678221598681,"stop":1678221598691,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"62412eaf24b6f765","name":"stage_yaml","source":"62412eaf24b6f765.yaml","type":"application/yaml","size":534},{"uid":"dec869cc695b4664","name":"rest_request","source":"dec869cc695b4664.yaml","type":"application/yaml","size":164},{"uid":"b6f12ab24a02be79","name":"rest_response","source":"b6f12ab24a02be79.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678221598695,"stop":1678221599718,"duration":1023},"status":"passed","steps":[],"attachments":[{"uid":"dadd929fb6470663","name":"stage_yaml","source":"dadd929fb6470663.yaml","type":"application/yaml","size":703},{"uid":"87016ade44ecfb79","name":"rest_request","source":"87016ade44ecfb79.yaml","type":"application/yaml","size":161},{"uid":"8c943895c538e439","name":"rest_response","source":"8c943895c538e439.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678221599719,"stop":1678221599734,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"2332c4574ad42efa","name":"stage_yaml","source":"2332c4574ad42efa.yaml","type":"application/yaml","size":2481},{"uid":"13903b2f67939e72","name":"rest_request","source":"13903b2f67939e72.yaml","type":"application/yaml","size":161},{"uid":"61c962b4c9b1aee2","name":"rest_response","source":"61c962b4c9b1aee2.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"24a2dc182b9eb151","name":"log","source":"24a2dc182b9eb151.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"e40f99b7bd05"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"99ed4edb3ddb2a6f","status":"passed","time":{"start":1678217866036,"stop":1678217898717,"duration":32681}},{"uid":"c86146dec7c16d1e","status":"passed","time":{"start":1676400949598,"stop":1676400982240,"duration":32642}},{"uid":"39eac9a40cbdb3c7","status":"passed","time":{"start":1676399956477,"stop":1676399989102,"duration":32625}},{"uid":"7d14d510db4f3ad6","status":"passed","time":{"start":1676324668777,"stop":1676324701439,"duration":32662}},{"uid":"7d77006b0367179f","status":"passed","time":{"start":1674515479474,"stop":1674515481658,"duration":2184}},{"uid":"42251583897b70fe","status":"passed","time":{"start":1674505607794,"stop":1674505625373,"duration":17579}},{"uid":"8457d14d68377bd0","status":"passed","time":{"start":1674500431023,"stop":1674500463694,"duration":32671}},{"uid":"4657babf55609585","status":"passed","time":{"start":1674257839299,"stop":1674257872071,"duration":32772}},{"uid":"61f114104b193ad3","status":"passed","time":{"start":1674255098685,"stop":1674255146652,"duration":47967}},{"uid":"7e69fbb5c356d59","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080284700,"stop":1674080284747,"duration":47}},{"uid":"787905fa4e3a30e0","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005693,"stop":1674075005733,"duration":40}},{"uid":"f46c206fec567553","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623022,"stop":1674074623054,"duration":32}}]},"tags":[]},"source":"38720dbc34713ee5.json","parameterValues":[]}