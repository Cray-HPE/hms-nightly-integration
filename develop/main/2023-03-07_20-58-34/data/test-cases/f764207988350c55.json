{"uid":"f764207988350c55","name":"Verify power-cap for a single node","fullName":"api.4-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"c6d875da97f650251a49a7570403f1b8","time":{"start":1678222359205,"stop":1678222366835,"duration":7630},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678222359405,"stop":1678222359445,"duration":40},"status":"passed","steps":[],"attachments":[{"uid":"6bbea9df7e7417eb","name":"stage_yaml","source":"6bbea9df7e7417eb.yaml","type":"application/yaml","size":333},{"uid":"e0ddb9063b4cf616","name":"rest_request","source":"e0ddb9063b4cf616.yaml","type":"application/yaml","size":149},{"uid":"2fd8fbcab08e3f0b","name":"rest_response","source":"2fd8fbcab08e3f0b.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1678222359446,"stop":1678222359455,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"3d15fc52f7f7e147","name":"stage_yaml","source":"3d15fc52f7f7e147.yaml","type":"application/yaml","size":228},{"uid":"3ffe123dd3974230","name":"rest_request","source":"3ffe123dd3974230.yaml","type":"application/yaml","size":173},{"uid":"14f0449066d4109d","name":"rest_response","source":"14f0449066d4109d.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1678222359456,"stop":1678222359466,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"96f2e48a63c8633b","name":"stage_yaml","source":"96f2e48a63c8633b.yaml","type":"application/yaml","size":231},{"uid":"6b7325729534a20","name":"rest_request","source":"6b7325729534a20.yaml","type":"application/yaml","size":173},{"uid":"bffcbcbad9531b95","name":"rest_response","source":"bffcbcbad9531b95.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1678222359467,"stop":1678222359483,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"a4b87bd215a5721e","name":"stage_yaml","source":"a4b87bd215a5721e.yaml","type":"application/yaml","size":543},{"uid":"f48bc7b4e1f5c85f","name":"rest_request","source":"f48bc7b4e1f5c85f.yaml","type":"application/yaml","size":166},{"uid":"cdcbed3b17341824","name":"rest_response","source":"cdcbed3b17341824.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1678222359486,"stop":1678222360500,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"2bc7b144448cf78e","name":"stage_yaml","source":"2bc7b144448cf78e.yaml","type":"application/yaml","size":661},{"uid":"6be3ac68d6355ba3","name":"rest_request","source":"6be3ac68d6355ba3.yaml","type":"application/yaml","size":159},{"uid":"f560831e5d76d397","name":"rest_response","source":"f560831e5d76d397.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1678222360501,"stop":1678222360518,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"1d640298c1331fd8","name":"stage_yaml","source":"1d640298c1331fd8.yaml","type":"application/yaml","size":3543},{"uid":"327eca57f7fc5bd4","name":"rest_request","source":"327eca57f7fc5bd4.yaml","type":"application/yaml","size":159},{"uid":"77356a4a70fc99be","name":"rest_response","source":"77356a4a70fc99be.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1678222360519,"stop":1678222360532,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"3c2f5da9acfe2084","name":"stage_yaml","source":"3c2f5da9acfe2084.yaml","type":"application/yaml","size":639},{"uid":"354ca433e9be1785","name":"rest_request","source":"354ca433e9be1785.yaml","type":"application/yaml","size":229},{"uid":"c4d608e14206fab7","name":"rest_response","source":"c4d608e14206fab7.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1678222360534,"stop":1678222361547,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"6a7d9e7708885c6c","name":"stage_yaml","source":"6a7d9e7708885c6c.yaml","type":"application/yaml","size":679},{"uid":"bc20fb1f342c7b63","name":"rest_request","source":"bc20fb1f342c7b63.yaml","type":"application/yaml","size":159},{"uid":"9ef21048550be4c3","name":"rest_response","source":"9ef21048550be4c3.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1678222361548,"stop":1678222361565,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"751ffc6863f9dad8","name":"stage_yaml","source":"751ffc6863f9dad8.yaml","type":"application/yaml","size":3157},{"uid":"bb08e7a44bc09f9e","name":"rest_request","source":"bb08e7a44bc09f9e.yaml","type":"application/yaml","size":159},{"uid":"aef567596f62c487","name":"rest_response","source":"aef567596f62c487.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1678222361572,"stop":1678222361585,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"69ea174419b8153e","name":"stage_yaml","source":"69ea174419b8153e.yaml","type":"application/yaml","size":639},{"uid":"842522d81ba3871f","name":"rest_request","source":"842522d81ba3871f.yaml","type":"application/yaml","size":229},{"uid":"70cc912451eb5679","name":"rest_response","source":"70cc912451eb5679.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1678222361588,"stop":1678222362603,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"f4892e8a8ce674ff","name":"stage_yaml","source":"f4892e8a8ce674ff.yaml","type":"application/yaml","size":679},{"uid":"a4f481c354013dbe","name":"rest_request","source":"a4f481c354013dbe.yaml","type":"application/yaml","size":159},{"uid":"3a98ec98562349d4","name":"rest_response","source":"3a98ec98562349d4.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1678222362605,"stop":1678222362621,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"9be4b73e7e20b926","name":"stage_yaml","source":"9be4b73e7e20b926.yaml","type":"application/yaml","size":3157},{"uid":"fbfc1fdb04430439","name":"rest_request","source":"fbfc1fdb04430439.yaml","type":"application/yaml","size":159},{"uid":"bd0870dd5b194bd3","name":"rest_response","source":"bd0870dd5b194bd3.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1678222362622,"stop":1678222362634,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"1d75fccd50c14b88","name":"stage_yaml","source":"1d75fccd50c14b88.yaml","type":"application/yaml","size":639},{"uid":"4acccc75cfe526d4","name":"rest_request","source":"4acccc75cfe526d4.yaml","type":"application/yaml","size":233},{"uid":"32863eabd5aac44e","name":"rest_response","source":"32863eabd5aac44e.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1678222362636,"stop":1678222363649,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"9c8e916a37011f68","name":"stage_yaml","source":"9c8e916a37011f68.yaml","type":"application/yaml","size":685},{"uid":"2de88839fc1df5fd","name":"rest_request","source":"2de88839fc1df5fd.yaml","type":"application/yaml","size":159},{"uid":"71625cb6e641d697","name":"rest_response","source":"71625cb6e641d697.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1678222363651,"stop":1678222363666,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"5baaea20575ce4c2","name":"stage_yaml","source":"5baaea20575ce4c2.yaml","type":"application/yaml","size":2234},{"uid":"bf42f07667b60f86","name":"rest_request","source":"bf42f07667b60f86.yaml","type":"application/yaml","size":159},{"uid":"72c2d7a724e9220e","name":"rest_response","source":"72c2d7a724e9220e.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1678222363667,"stop":1678222363679,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"3f9a2446e63d0eb9","name":"stage_yaml","source":"3f9a2446e63d0eb9.yaml","type":"application/yaml","size":631},{"uid":"8f18036c70c67805","name":"rest_request","source":"8f18036c70c67805.yaml","type":"application/yaml","size":227},{"uid":"dd08c2673fcef2cd","name":"rest_response","source":"dd08c2673fcef2cd.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1678222363681,"stop":1678222364697,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"5ff349f25f4410f8","name":"stage_yaml","source":"5ff349f25f4410f8.yaml","type":"application/yaml","size":685},{"uid":"62f0e0d00ab7ca5b","name":"rest_request","source":"62f0e0d00ab7ca5b.yaml","type":"application/yaml","size":159},{"uid":"262465a904779976","name":"rest_response","source":"262465a904779976.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1678222364698,"stop":1678222364714,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"75074524f2181488","name":"stage_yaml","source":"75074524f2181488.yaml","type":"application/yaml","size":2230},{"uid":"5ca5e950eaead19a","name":"rest_request","source":"5ca5e950eaead19a.yaml","type":"application/yaml","size":159},{"uid":"dd7184894184a70","name":"rest_response","source":"dd7184894184a70.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1678222364715,"stop":1678222364726,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"7361ad1a19a73db1","name":"stage_yaml","source":"7361ad1a19a73db1.yaml","type":"application/yaml","size":599},{"uid":"101f07f4222ab2cb","name":"rest_request","source":"101f07f4222ab2cb.yaml","type":"application/yaml","size":227},{"uid":"724694ff64c9c39e","name":"rest_response","source":"724694ff64c9c39e.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1678222364728,"stop":1678222365745,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"de46473ae27d898b","name":"stage_yaml","source":"de46473ae27d898b.yaml","type":"application/yaml","size":679},{"uid":"9191652adc83195f","name":"rest_request","source":"9191652adc83195f.yaml","type":"application/yaml","size":159},{"uid":"163198d9e6e4cd15","name":"rest_response","source":"163198d9e6e4cd15.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1678222365746,"stop":1678222365763,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"936fc7e30b6915c3","name":"stage_yaml","source":"936fc7e30b6915c3.yaml","type":"application/yaml","size":3125},{"uid":"5203e1004daf0af1","name":"rest_request","source":"5203e1004daf0af1.yaml","type":"application/yaml","size":159},{"uid":"cfea849fc222a2aa","name":"rest_response","source":"cfea849fc222a2aa.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1678222365764,"stop":1678222365776,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"fc96b66e854a2c3c","name":"stage_yaml","source":"fc96b66e854a2c3c.yaml","type":"application/yaml","size":640},{"uid":"a37e090560b85205","name":"rest_request","source":"a37e090560b85205.yaml","type":"application/yaml","size":227},{"uid":"8817809b49ac7428","name":"rest_response","source":"8817809b49ac7428.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1678222365780,"stop":1678222366794,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"fa771cb20fb52c6b","name":"stage_yaml","source":"fa771cb20fb52c6b.yaml","type":"application/yaml","size":680},{"uid":"9471adef2bd85dc8","name":"rest_request","source":"9471adef2bd85dc8.yaml","type":"application/yaml","size":159},{"uid":"c24967c429461841","name":"rest_response","source":"c24967c429461841.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1678222366796,"stop":1678222366813,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"ba2fb97ef3a0e6ad","name":"stage_yaml","source":"ba2fb97ef3a0e6ad.yaml","type":"application/yaml","size":3160},{"uid":"b228d1f8a55f81b0","name":"rest_request","source":"b228d1f8a55f81b0.yaml","type":"application/yaml","size":159},{"uid":"a2b119f0483ac12","name":"rest_response","source":"a2b119f0483ac12.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1678222366814,"stop":1678222366824,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"2df1b739c910b014","name":"stage_yaml","source":"2df1b739c910b014.yaml","type":"application/yaml","size":276},{"uid":"8e37af9563161e6e","name":"rest_request","source":"8e37af9563161e6e.yaml","type":"application/yaml","size":173},{"uid":"ba6a8b85aaed71be","name":"rest_response","source":"ba6a8b85aaed71be.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1678222366825,"stop":1678222366835,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"fd9cd0168edcd968","name":"stage_yaml","source":"fd9cd0168edcd968.yaml","type":"application/yaml","size":256},{"uid":"8036b77510f5ea5","name":"rest_request","source":"8036b77510f5ea5.yaml","type":"application/yaml","size":172},{"uid":"1444da70a94e1dc6","name":"rest_response","source":"1444da70a94e1dc6.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":78,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"3ae723872931"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":13},"items":[{"uid":"6a377f231196da87","status":"passed","time":{"start":1678218682410,"stop":1678218694125,"duration":11715}},{"uid":"ed15d939de6e6799","status":"passed","time":{"start":1676401142951,"stop":1676401150591,"duration":7640}},{"uid":"4a8d9a48b057d3fd","status":"passed","time":{"start":1676400134448,"stop":1676400142057,"duration":7609}},{"uid":"e483cd0368874830","status":"passed","time":{"start":1676324862176,"stop":1676324869810,"duration":7634}},{"uid":"6bc8a408f848ec30","status":"passed","time":{"start":1674515958342,"stop":1674515965969,"duration":7627}},{"uid":"dadd5c6a490277f1","status":"passed","time":{"start":1674506262734,"stop":1674506270612,"duration":7878}},{"uid":"fde88d0f70db11f","status":"passed","time":{"start":1674501028224,"stop":1674501035884,"duration":7660}},{"uid":"e59016a27b9d527c","status":"passed","time":{"start":1674258436574,"stop":1674258444254,"duration":7680}},{"uid":"87edd083db7e8188","status":"passed","time":{"start":1674255758279,"stop":1674255765937,"duration":7658}},{"uid":"ab766ec590b371af","status":"passed","time":{"start":1674080377404,"stop":1674080386217,"duration":8813}},{"uid":"18bdd1e6f9cbca92","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674075100168,"stop":1674075100501,"duration":333}},{"uid":"ba0b0fdecc7b1247","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674074715145,"stop":1674074715443,"duration":298}}]},"tags":[]},"source":"f764207988350c55.json","parameterValues":[]}