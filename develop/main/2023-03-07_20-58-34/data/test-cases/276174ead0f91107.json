{"uid":"276174ead0f91107","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1678221240614,"stop":1678221273240,"duration":32626},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678221240623,"stop":1678221240659,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"ba221a5be1305b43","name":"stage_yaml","source":"ba221a5be1305b43.yaml","type":"application/yaml","size":302},{"uid":"df82ee16341a2d56","name":"rest_request","source":"df82ee16341a2d56.yaml","type":"application/yaml","size":162},{"uid":"ae75cf1513727ae7","name":"rest_response","source":"ae75cf1513727ae7.yaml","type":"application/yaml","size":5745}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678221240660,"stop":1678221240674,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"79087b93262c3727","name":"stage_yaml","source":"79087b93262c3727.yaml","type":"application/yaml","size":797},{"uid":"854791acb25b5c2d","name":"rest_request","source":"854791acb25b5c2d.yaml","type":"application/yaml","size":216},{"uid":"48d5aeec47b14148","name":"rest_response","source":"48d5aeec47b14148.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1678221240675,"stop":1678221272155,"duration":31480},"status":"passed","steps":[],"attachments":[{"uid":"5618372541d81a2","name":"stage_yaml","source":"5618372541d81a2.yaml","type":"application/yaml","size":690},{"uid":"22ee7a7ea847344b","name":"rest_request","source":"22ee7a7ea847344b.yaml","type":"application/yaml","size":161},{"uid":"d4d27714cfe022f3","name":"rest_response","source":"d4d27714cfe022f3.yaml","type":"application/yaml","size":587},{"uid":"f27204e6916f6815","name":"stage_yaml","source":"f27204e6916f6815.yaml","type":"application/yaml","size":690},{"uid":"6c1a49fd0256ad0d","name":"rest_request","source":"6c1a49fd0256ad0d.yaml","type":"application/yaml","size":161},{"uid":"50003ac4d2f1d976","name":"rest_response","source":"50003ac4d2f1d976.yaml","type":"application/yaml","size":608},{"uid":"8e404031ac44658c","name":"stage_yaml","source":"8e404031ac44658c.yaml","type":"application/yaml","size":690},{"uid":"d0855a0f9a178c92","name":"rest_request","source":"d0855a0f9a178c92.yaml","type":"application/yaml","size":161},{"uid":"b03a67eea5a7ba8d","name":"rest_response","source":"b03a67eea5a7ba8d.yaml","type":"application/yaml","size":608},{"uid":"ca3b8e86cdbc7da8","name":"stage_yaml","source":"ca3b8e86cdbc7da8.yaml","type":"application/yaml","size":690},{"uid":"862412dd3d51e77a","name":"rest_request","source":"862412dd3d51e77a.yaml","type":"application/yaml","size":161},{"uid":"2d729eb1da5ea7c","name":"rest_response","source":"2d729eb1da5ea7c.yaml","type":"application/yaml","size":608},{"uid":"5651c99cefe25380","name":"stage_yaml","source":"5651c99cefe25380.yaml","type":"application/yaml","size":690},{"uid":"1ca51c923084147f","name":"rest_request","source":"1ca51c923084147f.yaml","type":"application/yaml","size":161},{"uid":"81de18465ec23f20","name":"rest_response","source":"81de18465ec23f20.yaml","type":"application/yaml","size":608},{"uid":"cb4028f8b67e81","name":"stage_yaml","source":"cb4028f8b67e81.yaml","type":"application/yaml","size":690},{"uid":"77153fe10f6c14cb","name":"rest_request","source":"77153fe10f6c14cb.yaml","type":"application/yaml","size":161},{"uid":"95e35a200109e2b2","name":"rest_response","source":"95e35a200109e2b2.yaml","type":"application/yaml","size":608},{"uid":"1f199e7265ae7e23","name":"stage_yaml","source":"1f199e7265ae7e23.yaml","type":"application/yaml","size":690},{"uid":"ae7bc6f45c77fabb","name":"rest_request","source":"ae7bc6f45c77fabb.yaml","type":"application/yaml","size":161},{"uid":"4ed80e6b4fd1f54c","name":"rest_response","source":"4ed80e6b4fd1f54c.yaml","type":"application/yaml","size":608},{"uid":"6284d175b485b307","name":"stage_yaml","source":"6284d175b485b307.yaml","type":"application/yaml","size":690},{"uid":"6fd435f5cd2f242c","name":"rest_request","source":"6fd435f5cd2f242c.yaml","type":"application/yaml","size":161},{"uid":"11e69ffccb2f3825","name":"rest_response","source":"11e69ffccb2f3825.yaml","type":"application/yaml","size":608},{"uid":"e6572484d20e015d","name":"stage_yaml","source":"e6572484d20e015d.yaml","type":"application/yaml","size":690},{"uid":"bb8ce4e2637cb3b8","name":"rest_request","source":"bb8ce4e2637cb3b8.yaml","type":"application/yaml","size":161},{"uid":"c3f736563a897713","name":"rest_response","source":"c3f736563a897713.yaml","type":"application/yaml","size":608},{"uid":"440fa3d7d3e9e123","name":"stage_yaml","source":"440fa3d7d3e9e123.yaml","type":"application/yaml","size":690},{"uid":"1a480afb7725dbb1","name":"rest_request","source":"1a480afb7725dbb1.yaml","type":"application/yaml","size":161},{"uid":"e7eda6d0d592ac50","name":"rest_response","source":"e7eda6d0d592ac50.yaml","type":"application/yaml","size":608},{"uid":"a68275605b085752","name":"stage_yaml","source":"a68275605b085752.yaml","type":"application/yaml","size":690},{"uid":"e5411f1be72a6f6a","name":"rest_request","source":"e5411f1be72a6f6a.yaml","type":"application/yaml","size":161},{"uid":"e62318de71aa3e86","name":"rest_response","source":"e62318de71aa3e86.yaml","type":"application/yaml","size":608},{"uid":"7416a5c00a259956","name":"stage_yaml","source":"7416a5c00a259956.yaml","type":"application/yaml","size":690},{"uid":"e3415cf8280e26a","name":"rest_request","source":"e3415cf8280e26a.yaml","type":"application/yaml","size":161},{"uid":"1cae1dabd0200e4f","name":"rest_response","source":"1cae1dabd0200e4f.yaml","type":"application/yaml","size":608},{"uid":"7488ff1e15935039","name":"stage_yaml","source":"7488ff1e15935039.yaml","type":"application/yaml","size":690},{"uid":"a318c13332534d87","name":"rest_request","source":"a318c13332534d87.yaml","type":"application/yaml","size":161},{"uid":"42387b60f0625e66","name":"rest_response","source":"42387b60f0625e66.yaml","type":"application/yaml","size":608},{"uid":"2fb8a7b74567849f","name":"stage_yaml","source":"2fb8a7b74567849f.yaml","type":"application/yaml","size":690},{"uid":"47e9fc85b0839c83","name":"rest_request","source":"47e9fc85b0839c83.yaml","type":"application/yaml","size":161},{"uid":"c8ae3bc5c2309eed","name":"rest_response","source":"c8ae3bc5c2309eed.yaml","type":"application/yaml","size":608},{"uid":"238d09a097cf2b39","name":"stage_yaml","source":"238d09a097cf2b39.yaml","type":"application/yaml","size":690},{"uid":"af27f8ff99fcb7bf","name":"rest_request","source":"af27f8ff99fcb7bf.yaml","type":"application/yaml","size":161},{"uid":"374b0e28d0d8afd1","name":"rest_response","source":"374b0e28d0d8afd1.yaml","type":"application/yaml","size":608},{"uid":"dfb4235e063a7d1a","name":"stage_yaml","source":"dfb4235e063a7d1a.yaml","type":"application/yaml","size":690},{"uid":"4786fc6093d065f9","name":"rest_request","source":"4786fc6093d065f9.yaml","type":"application/yaml","size":161},{"uid":"2c572bd20851786d","name":"rest_response","source":"2c572bd20851786d.yaml","type":"application/yaml","size":608},{"uid":"82bb2d17c010c5c9","name":"stage_yaml","source":"82bb2d17c010c5c9.yaml","type":"application/yaml","size":690},{"uid":"d2080d107d9cd578","name":"rest_request","source":"d2080d107d9cd578.yaml","type":"application/yaml","size":161},{"uid":"7fbea763dff557dd","name":"rest_response","source":"7fbea763dff557dd.yaml","type":"application/yaml","size":608},{"uid":"b26e8986c9f12ba9","name":"stage_yaml","source":"b26e8986c9f12ba9.yaml","type":"application/yaml","size":690},{"uid":"d4e5ef043bf4e2c9","name":"rest_request","source":"d4e5ef043bf4e2c9.yaml","type":"application/yaml","size":161},{"uid":"69ca1d979dd7588a","name":"rest_response","source":"69ca1d979dd7588a.yaml","type":"application/yaml","size":608},{"uid":"150daa94c724fd50","name":"stage_yaml","source":"150daa94c724fd50.yaml","type":"application/yaml","size":690},{"uid":"9c9017c78cf816e9","name":"rest_request","source":"9c9017c78cf816e9.yaml","type":"application/yaml","size":161},{"uid":"49c17d8a176bf6e0","name":"rest_response","source":"49c17d8a176bf6e0.yaml","type":"application/yaml","size":608},{"uid":"46867fda060f463e","name":"stage_yaml","source":"46867fda060f463e.yaml","type":"application/yaml","size":690},{"uid":"59cb110d9749880d","name":"rest_request","source":"59cb110d9749880d.yaml","type":"application/yaml","size":161},{"uid":"3a401c2847c3e937","name":"rest_response","source":"3a401c2847c3e937.yaml","type":"application/yaml","size":608},{"uid":"2f53e600d4e985c4","name":"stage_yaml","source":"2f53e600d4e985c4.yaml","type":"application/yaml","size":690},{"uid":"89cd09dc06a8cf45","name":"rest_request","source":"89cd09dc06a8cf45.yaml","type":"application/yaml","size":161},{"uid":"70451a476d946fd3","name":"rest_response","source":"70451a476d946fd3.yaml","type":"application/yaml","size":608},{"uid":"63ca69b02110ea68","name":"stage_yaml","source":"63ca69b02110ea68.yaml","type":"application/yaml","size":690},{"uid":"a38e88c74c5e09c0","name":"rest_request","source":"a38e88c74c5e09c0.yaml","type":"application/yaml","size":161},{"uid":"bba339c8d5e6c36a","name":"rest_response","source":"bba339c8d5e6c36a.yaml","type":"application/yaml","size":608},{"uid":"4f215d570d82ac44","name":"stage_yaml","source":"4f215d570d82ac44.yaml","type":"application/yaml","size":690},{"uid":"568919bacd27449b","name":"rest_request","source":"568919bacd27449b.yaml","type":"application/yaml","size":161},{"uid":"733aa0ebe12a5340","name":"rest_response","source":"733aa0ebe12a5340.yaml","type":"application/yaml","size":608},{"uid":"9622aa9c29d3ec71","name":"stage_yaml","source":"9622aa9c29d3ec71.yaml","type":"application/yaml","size":690},{"uid":"8cfdbb1acd0593cf","name":"rest_request","source":"8cfdbb1acd0593cf.yaml","type":"application/yaml","size":161},{"uid":"6eba3099ea84cd13","name":"rest_response","source":"6eba3099ea84cd13.yaml","type":"application/yaml","size":608},{"uid":"7567a7b1d325ecdb","name":"stage_yaml","source":"7567a7b1d325ecdb.yaml","type":"application/yaml","size":690},{"uid":"1cf61282d5df6ce4","name":"rest_request","source":"1cf61282d5df6ce4.yaml","type":"application/yaml","size":161},{"uid":"754b39d2857d85c9","name":"rest_response","source":"754b39d2857d85c9.yaml","type":"application/yaml","size":608},{"uid":"b3d7d1b07eb98","name":"stage_yaml","source":"b3d7d1b07eb98.yaml","type":"application/yaml","size":690},{"uid":"eb3697b30dc8a590","name":"rest_request","source":"eb3697b30dc8a590.yaml","type":"application/yaml","size":161},{"uid":"15b5ed117a832641","name":"rest_response","source":"15b5ed117a832641.yaml","type":"application/yaml","size":608},{"uid":"c39c0c64e6f2b6cc","name":"stage_yaml","source":"c39c0c64e6f2b6cc.yaml","type":"application/yaml","size":690},{"uid":"70692d2433f86a90","name":"rest_request","source":"70692d2433f86a90.yaml","type":"application/yaml","size":161},{"uid":"c8a15b1403ab9609","name":"rest_response","source":"c8a15b1403ab9609.yaml","type":"application/yaml","size":608},{"uid":"ea4c5ac5951074ff","name":"stage_yaml","source":"ea4c5ac5951074ff.yaml","type":"application/yaml","size":690},{"uid":"3e3d2790b4fca2ef","name":"rest_request","source":"3e3d2790b4fca2ef.yaml","type":"application/yaml","size":161},{"uid":"f7f13b1c3cceaeab","name":"rest_response","source":"f7f13b1c3cceaeab.yaml","type":"application/yaml","size":608},{"uid":"a7b6568cbad8a504","name":"stage_yaml","source":"a7b6568cbad8a504.yaml","type":"application/yaml","size":690},{"uid":"d383bb9196488e63","name":"rest_request","source":"d383bb9196488e63.yaml","type":"application/yaml","size":161},{"uid":"c66e7ec22fe16f1e","name":"rest_response","source":"c66e7ec22fe16f1e.yaml","type":"application/yaml","size":608},{"uid":"97aeee4ab3030d6b","name":"stage_yaml","source":"97aeee4ab3030d6b.yaml","type":"application/yaml","size":690},{"uid":"1f54bfd3faf3c918","name":"rest_request","source":"1f54bfd3faf3c918.yaml","type":"application/yaml","size":161},{"uid":"d2bb2917c1f25f03","name":"rest_response","source":"d2bb2917c1f25f03.yaml","type":"application/yaml","size":608},{"uid":"59c8b014067f083d","name":"stage_yaml","source":"59c8b014067f083d.yaml","type":"application/yaml","size":690},{"uid":"ada820298c01aa75","name":"rest_request","source":"ada820298c01aa75.yaml","type":"application/yaml","size":161},{"uid":"a2d837d067f322e6","name":"rest_response","source":"a2d837d067f322e6.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1678221272156,"stop":1678221272170,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"b51fa710623dcfe3","name":"stage_yaml","source":"b51fa710623dcfe3.yaml","type":"application/yaml","size":2405},{"uid":"321f3664c4374fe2","name":"rest_request","source":"321f3664c4374fe2.yaml","type":"application/yaml","size":161},{"uid":"57fccfbf201534ff","name":"rest_response","source":"57fccfbf201534ff.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678221272171,"stop":1678221272183,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"1aa8bde398142658","name":"stage_yaml","source":"1aa8bde398142658.yaml","type":"application/yaml","size":978},{"uid":"bff9922ed57e89a8","name":"rest_request","source":"bff9922ed57e89a8.yaml","type":"application/yaml","size":145},{"uid":"7940327605a6d57","name":"rest_response","source":"7940327605a6d57.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1678221272184,"stop":1678221272196,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"48676da46c3b5457","name":"stage_yaml","source":"48676da46c3b5457.yaml","type":"application/yaml","size":796},{"uid":"3aad4d6d292be98d","name":"rest_request","source":"3aad4d6d292be98d.yaml","type":"application/yaml","size":216},{"uid":"bcc3e0cd00ef2f1","name":"rest_response","source":"bcc3e0cd00ef2f1.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1678221272198,"stop":1678221273211,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"b0df3761366cd8a1","name":"stage_yaml","source":"b0df3761366cd8a1.yaml","type":"application/yaml","size":691},{"uid":"88993b8c55b0224a","name":"rest_request","source":"88993b8c55b0224a.yaml","type":"application/yaml","size":161},{"uid":"7dcb7842ab64d9f5","name":"rest_response","source":"7dcb7842ab64d9f5.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1678221273212,"stop":1678221273227,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"106e13890f7e9a47","name":"stage_yaml","source":"106e13890f7e9a47.yaml","type":"application/yaml","size":2355},{"uid":"9e1ba006eda42b60","name":"rest_request","source":"9e1ba006eda42b60.yaml","type":"application/yaml","size":161},{"uid":"d67495df164c537b","name":"rest_response","source":"d67495df164c537b.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1678221273228,"stop":1678221273239,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"4a6debaa324b1b77","name":"stage_yaml","source":"4a6debaa324b1b77.yaml","type":"application/yaml","size":984},{"uid":"2f0fe40959afdb8d","name":"rest_request","source":"2f0fe40959afdb8d.yaml","type":"application/yaml","size":145},{"uid":"216562d9767e2813","name":"rest_response","source":"216562d9767e2813.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"d21b2004539fa75d","name":"log","source":"d21b2004539fa75d.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"e40f99b7bd05"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"2edf96afc9964805","status":"passed","time":{"start":1678217538873,"stop":1678217571547,"duration":32674}},{"uid":"e5503ea15a5ad405","status":"passed","time":{"start":1676400622798,"stop":1676400655419,"duration":32621}},{"uid":"9a887f834114b02a","status":"passed","time":{"start":1676399614897,"stop":1676399647605,"duration":32708}},{"uid":"2f696cd3742c2c7f","status":"passed","time":{"start":1676324340845,"stop":1676324373520,"duration":32675}},{"uid":"18ddb8e7207b6d26","status":"passed","time":{"start":1674515152862,"stop":1674515155028,"duration":2166}},{"uid":"c209a7faa9f48727","status":"passed","time":{"start":1674505231278,"stop":1674505233516,"duration":2238}},{"uid":"b8d62ff7eaed3a7a","status":"passed","time":{"start":1674500043124,"stop":1674500075783,"duration":32659}},{"uid":"6554af4d534f0d81","status":"passed","time":{"start":1674257481327,"stop":1674257498775,"duration":17448}},{"uid":"ad3bc452eff1fe8b","status":"passed","time":{"start":1674254741159,"stop":1674254773826,"duration":32667}},{"uid":"80a04d3d89544206","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080275413,"stop":1674080275460,"duration":47}},{"uid":"cea5991e3551094e","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005162,"stop":1674075005194,"duration":32}},{"uid":"a5b79361066cbd0b","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074622519,"stop":1674074622555,"duration":36}}]},"tags":[]},"source":"276174ead0f91107.json","parameterValues":[]}