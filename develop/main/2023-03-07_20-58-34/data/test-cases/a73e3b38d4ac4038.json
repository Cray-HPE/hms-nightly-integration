{"uid":"a73e3b38d4ac4038","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1678222372040,"stop":1678222372351,"duration":311},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1678222372052,"stop":1678222372088,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"fc9546e439799e41","name":"stage_yaml","source":"fc9546e439799e41.yaml","type":"application/yaml","size":457},{"uid":"815d8e0871598743","name":"rest_request","source":"815d8e0871598743.yaml","type":"application/yaml","size":149},{"uid":"1fbc467b7d91b3da","name":"rest_response","source":"1fbc467b7d91b3da.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1678222372089,"stop":1678222372139,"duration":50},"status":"passed","steps":[],"attachments":[{"uid":"579aa6a4433d212","name":"stage_yaml","source":"579aa6a4433d212.yaml","type":"application/yaml","size":472},{"uid":"5156ea095535d789","name":"rest_request","source":"5156ea095535d789.yaml","type":"application/yaml","size":173},{"uid":"8b605247dcd3ca81","name":"rest_response","source":"8b605247dcd3ca81.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1678222372140,"stop":1678222372151,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"3e89f2577bd3d756","name":"stage_yaml","source":"3e89f2577bd3d756.yaml","type":"application/yaml","size":247},{"uid":"4f35fbeffe01dfa","name":"rest_request","source":"4f35fbeffe01dfa.yaml","type":"application/yaml","size":173},{"uid":"60158039754972f3","name":"rest_response","source":"60158039754972f3.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1678222372151,"stop":1678222372160,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"50352b6e7b8545c6","name":"stage_yaml","source":"50352b6e7b8545c6.yaml","type":"application/yaml","size":247},{"uid":"20297457a8bc0aad","name":"rest_request","source":"20297457a8bc0aad.yaml","type":"application/yaml","size":173},{"uid":"afa1b66d58f0c651","name":"rest_response","source":"afa1b66d58f0c651.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1678222372161,"stop":1678222372176,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"f66236ecaa5ed24","name":"stage_yaml","source":"f66236ecaa5ed24.yaml","type":"application/yaml","size":1395},{"uid":"b1ab94f6d9e37a6d","name":"rest_request","source":"b1ab94f6d9e37a6d.yaml","type":"application/yaml","size":214},{"uid":"e437b6445ff7c7f0","name":"rest_response","source":"e437b6445ff7c7f0.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1678222372177,"stop":1678222372186,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"9cf03642d25039d9","name":"stage_yaml","source":"9cf03642d25039d9.yaml","type":"application/yaml","size":251},{"uid":"82b600436c5a525a","name":"rest_request","source":"82b600436c5a525a.yaml","type":"application/yaml","size":173},{"uid":"8d3d4fe682f36e59","name":"rest_response","source":"8d3d4fe682f36e59.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1678222372187,"stop":1678222372194,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"f5585e2c90799e3c","name":"stage_yaml","source":"f5585e2c90799e3c.yaml","type":"application/yaml","size":251},{"uid":"b916c9fe985cda5a","name":"rest_request","source":"b916c9fe985cda5a.yaml","type":"application/yaml","size":173},{"uid":"df5108e4206b9821","name":"rest_response","source":"df5108e4206b9821.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1678222372195,"stop":1678222372220,"duration":25},"status":"passed","steps":[],"attachments":[{"uid":"f469382defc7113","name":"stage_yaml","source":"f469382defc7113.yaml","type":"application/yaml","size":903},{"uid":"380a4c7e46dd299e","name":"rest_request","source":"380a4c7e46dd299e.yaml","type":"application/yaml","size":286},{"uid":"c98228135f84abe1","name":"rest_response","source":"c98228135f84abe1.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1678222372221,"stop":1678222372244,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"a7138886053f5a33","name":"stage_yaml","source":"a7138886053f5a33.yaml","type":"application/yaml","size":2415},{"uid":"f29f1c72a28c4fde","name":"rest_request","source":"f29f1c72a28c4fde.yaml","type":"application/yaml","size":160},{"uid":"4acce47299c9c352","name":"rest_response","source":"4acce47299c9c352.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1678222372245,"stop":1678222372259,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"c68e8f9485a89873","name":"stage_yaml","source":"c68e8f9485a89873.yaml","type":"application/yaml","size":1466},{"uid":"6176d0688b3b8bc5","name":"rest_request","source":"6176d0688b3b8bc5.yaml","type":"application/yaml","size":218},{"uid":"35180e7153f7238f","name":"rest_response","source":"35180e7153f7238f.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1678222372260,"stop":1678222372276,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"c89aa4fc331d25c2","name":"stage_yaml","source":"c89aa4fc331d25c2.yaml","type":"application/yaml","size":1449},{"uid":"aa9d7838b80e6c6","name":"rest_request","source":"aa9d7838b80e6c6.yaml","type":"application/yaml","size":212},{"uid":"33b77472af405bd0","name":"rest_response","source":"33b77472af405bd0.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1678222372277,"stop":1678222372294,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"15fda80441605eb","name":"stage_yaml","source":"15fda80441605eb.yaml","type":"application/yaml","size":759},{"uid":"49b71b1722cea0eb","name":"rest_request","source":"49b71b1722cea0eb.yaml","type":"application/yaml","size":212},{"uid":"eacba681b0b1de8","name":"rest_response","source":"eacba681b0b1de8.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1678222372295,"stop":1678222372313,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"f0ac23085fa760ee","name":"stage_yaml","source":"f0ac23085fa760ee.yaml","type":"application/yaml","size":1477},{"uid":"ed05f61f766fb9ba","name":"rest_request","source":"ed05f61f766fb9ba.yaml","type":"application/yaml","size":212},{"uid":"36423124721cf23b","name":"rest_response","source":"36423124721cf23b.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1678222372314,"stop":1678222372323,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"ee5e981d53a1e5df","name":"stage_yaml","source":"ee5e981d53a1e5df.yaml","type":"application/yaml","size":247},{"uid":"d55f584de87e1aea","name":"rest_request","source":"d55f584de87e1aea.yaml","type":"application/yaml","size":173},{"uid":"734dc60b5688c17f","name":"rest_response","source":"734dc60b5688c17f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1678222372324,"stop":1678222372332,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"d70b5aca3f7e5781","name":"stage_yaml","source":"d70b5aca3f7e5781.yaml","type":"application/yaml","size":279},{"uid":"98105e5ee2f83ace","name":"rest_request","source":"98105e5ee2f83ace.yaml","type":"application/yaml","size":172},{"uid":"e617ff8cca10b3b3","name":"rest_response","source":"e617ff8cca10b3b3.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1678222372333,"stop":1678222372342,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"647b359807668e07","name":"stage_yaml","source":"647b359807668e07.yaml","type":"application/yaml","size":247},{"uid":"3d6d638959bfb840","name":"rest_request","source":"3d6d638959bfb840.yaml","type":"application/yaml","size":173},{"uid":"ee551b118f61a968","name":"rest_response","source":"ee551b118f61a968.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1678222372343,"stop":1678222372351,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"54e24f96850d2bf0","name":"stage_yaml","source":"54e24f96850d2bf0.yaml","type":"application/yaml","size":279},{"uid":"4e59f0adf6c2c7a0","name":"rest_request","source":"4e59f0adf6c2c7a0.yaml","type":"application/yaml","size":172},{"uid":"993c98ba9207b2fa","name":"rest_response","source":"993c98ba9207b2fa.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"46672cd32d5e"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":10},"items":[{"uid":"85abc9a55ca6ef16","status":"passed","time":{"start":1678218699413,"stop":1678218699721,"duration":308}},{"uid":"1842d17941e1070a","status":"passed","time":{"start":1674515668181,"stop":1674515668515,"duration":334}},{"uid":"22e78f499c7e01f7","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fc6d17dad30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1001, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674505831201,"stop":1674505831457,"duration":256}},{"uid":"40511fa35e2303dc","status":"passed","time":{"start":1674500620671,"stop":1674500621024,"duration":353}},{"uid":"cf66001f458ab575","status":"passed","time":{"start":1674258027431,"stop":1674258027774,"duration":343}},{"uid":"e346f5a249383d1","status":"passed","time":{"start":1674255379914,"stop":1674255380264,"duration":350}},{"uid":"b35bb70cce03f06e","status":"passed","time":{"start":1674080392244,"stop":1674080392612,"duration":368}},{"uid":"29d894711216bae8","status":"passed","time":{"start":1674075104227,"stop":1674075104612,"duration":385}},{"uid":"6017af36c03a18df","status":"passed","time":{"start":1674074718740,"stop":1674074719093,"duration":353}}]},"tags":[]},"source":"a73e3b38d4ac4038.json","parameterValues":[]}