{"uid":"89659e5150a218b","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1678221223216,"stop":1678221240609,"duration":17393},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678221223225,"stop":1678221223262,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"b2eb0141ecd6b774","name":"stage_yaml","source":"b2eb0141ecd6b774.yaml","type":"application/yaml","size":302},{"uid":"f4f2b6dcf8f6f70f","name":"rest_request","source":"f4f2b6dcf8f6f70f.yaml","type":"application/yaml","size":162},{"uid":"acda4d0433da996f","name":"rest_response","source":"acda4d0433da996f.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678221223263,"stop":1678221223277,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"16b5d2b2dd7adc46","name":"stage_yaml","source":"16b5d2b2dd7adc46.yaml","type":"application/yaml","size":775},{"uid":"28212ebf46516910","name":"rest_request","source":"28212ebf46516910.yaml","type":"application/yaml","size":211},{"uid":"c7ca781ed97cbe3f","name":"rest_response","source":"c7ca781ed97cbe3f.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678221223278,"stop":1678221224293,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"86531a66394895b3","name":"stage_yaml","source":"86531a66394895b3.yaml","type":"application/yaml","size":661},{"uid":"de8c99ea928030e3","name":"rest_request","source":"de8c99ea928030e3.yaml","type":"application/yaml","size":161},{"uid":"3bb0cecb2ed88f40","name":"rest_response","source":"3bb0cecb2ed88f40.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678221224294,"stop":1678221224309,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"d6115a74a84d6b47","name":"stage_yaml","source":"d6115a74a84d6b47.yaml","type":"application/yaml","size":2375},{"uid":"173cbf19b30a033e","name":"rest_request","source":"173cbf19b30a033e.yaml","type":"application/yaml","size":161},{"uid":"8d05c861d15a456d","name":"rest_response","source":"8d05c861d15a456d.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678221224310,"stop":1678221224321,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"8c47aceaf440c829","name":"stage_yaml","source":"8c47aceaf440c829.yaml","type":"application/yaml","size":976},{"uid":"f39ce362e249b2ce","name":"rest_request","source":"f39ce362e249b2ce.yaml","type":"application/yaml","size":145},{"uid":"f5fcbf1f6aaaf32","name":"rest_response","source":"f5fcbf1f6aaaf32.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1678221224322,"stop":1678221224333,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"6950daf8403a9f0f","name":"stage_yaml","source":"6950daf8403a9f0f.yaml","type":"application/yaml","size":795},{"uid":"9ba7cfd6d93bc4a0","name":"rest_request","source":"9ba7cfd6d93bc4a0.yaml","type":"application/yaml","size":216},{"uid":"66c8617ac60e6606","name":"rest_response","source":"66c8617ac60e6606.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678221224335,"stop":1678221240580,"duration":16245},"status":"passed","steps":[],"attachments":[{"uid":"91ebe5ec57239e01","name":"stage_yaml","source":"91ebe5ec57239e01.yaml","type":"application/yaml","size":684},{"uid":"141fba5ac1ec066b","name":"rest_request","source":"141fba5ac1ec066b.yaml","type":"application/yaml","size":161},{"uid":"308867f75d7e23cf","name":"rest_response","source":"308867f75d7e23cf.yaml","type":"application/yaml","size":585},{"uid":"c42741a997e4b3cb","name":"stage_yaml","source":"c42741a997e4b3cb.yaml","type":"application/yaml","size":684},{"uid":"1ed9885635c65c07","name":"rest_request","source":"1ed9885635c65c07.yaml","type":"application/yaml","size":161},{"uid":"f01d21f2058a6757","name":"rest_response","source":"f01d21f2058a6757.yaml","type":"application/yaml","size":606},{"uid":"ba5325d4b92f8a1c","name":"stage_yaml","source":"ba5325d4b92f8a1c.yaml","type":"application/yaml","size":684},{"uid":"8987fc5d3dc7a226","name":"rest_request","source":"8987fc5d3dc7a226.yaml","type":"application/yaml","size":161},{"uid":"aed4dd4b3820d7d1","name":"rest_response","source":"aed4dd4b3820d7d1.yaml","type":"application/yaml","size":606},{"uid":"7d5a35a4e3b7c5fb","name":"stage_yaml","source":"7d5a35a4e3b7c5fb.yaml","type":"application/yaml","size":684},{"uid":"2b5621224e8c0861","name":"rest_request","source":"2b5621224e8c0861.yaml","type":"application/yaml","size":161},{"uid":"1fc6170fee015156","name":"rest_response","source":"1fc6170fee015156.yaml","type":"application/yaml","size":606},{"uid":"1b033cb9272ccb1f","name":"stage_yaml","source":"1b033cb9272ccb1f.yaml","type":"application/yaml","size":684},{"uid":"63852e5d16f2eaa","name":"rest_request","source":"63852e5d16f2eaa.yaml","type":"application/yaml","size":161},{"uid":"f655fbfe9e138adc","name":"rest_response","source":"f655fbfe9e138adc.yaml","type":"application/yaml","size":606},{"uid":"6aa1cad4eec8b718","name":"stage_yaml","source":"6aa1cad4eec8b718.yaml","type":"application/yaml","size":684},{"uid":"59d12b413822db38","name":"rest_request","source":"59d12b413822db38.yaml","type":"application/yaml","size":161},{"uid":"70ff96490ed1ca24","name":"rest_response","source":"70ff96490ed1ca24.yaml","type":"application/yaml","size":606},{"uid":"1ddf9d89ebf8b4b5","name":"stage_yaml","source":"1ddf9d89ebf8b4b5.yaml","type":"application/yaml","size":684},{"uid":"60622bb4b01c88c0","name":"rest_request","source":"60622bb4b01c88c0.yaml","type":"application/yaml","size":161},{"uid":"1d2cadbc3222e30b","name":"rest_response","source":"1d2cadbc3222e30b.yaml","type":"application/yaml","size":606},{"uid":"83533193fd481148","name":"stage_yaml","source":"83533193fd481148.yaml","type":"application/yaml","size":684},{"uid":"9195faa70e0ac5ab","name":"rest_request","source":"9195faa70e0ac5ab.yaml","type":"application/yaml","size":161},{"uid":"29f93a44db60c46b","name":"rest_response","source":"29f93a44db60c46b.yaml","type":"application/yaml","size":606},{"uid":"55a5032678926b98","name":"stage_yaml","source":"55a5032678926b98.yaml","type":"application/yaml","size":684},{"uid":"3c33cbee912a5397","name":"rest_request","source":"3c33cbee912a5397.yaml","type":"application/yaml","size":161},{"uid":"3ede5a1c203f6c4e","name":"rest_response","source":"3ede5a1c203f6c4e.yaml","type":"application/yaml","size":606},{"uid":"172b4b2ecaee1f5c","name":"stage_yaml","source":"172b4b2ecaee1f5c.yaml","type":"application/yaml","size":684},{"uid":"f85eccb60843ae16","name":"rest_request","source":"f85eccb60843ae16.yaml","type":"application/yaml","size":161},{"uid":"3fe84d6cb6a4124","name":"rest_response","source":"3fe84d6cb6a4124.yaml","type":"application/yaml","size":606},{"uid":"18e95c341d45f8a9","name":"stage_yaml","source":"18e95c341d45f8a9.yaml","type":"application/yaml","size":684},{"uid":"b38ed45721ec62ab","name":"rest_request","source":"b38ed45721ec62ab.yaml","type":"application/yaml","size":161},{"uid":"613b0d9a622184f4","name":"rest_response","source":"613b0d9a622184f4.yaml","type":"application/yaml","size":606},{"uid":"1b2f3bc87de432cf","name":"stage_yaml","source":"1b2f3bc87de432cf.yaml","type":"application/yaml","size":684},{"uid":"250be5a43498a480","name":"rest_request","source":"250be5a43498a480.yaml","type":"application/yaml","size":161},{"uid":"82ede83c94032fba","name":"rest_response","source":"82ede83c94032fba.yaml","type":"application/yaml","size":606},{"uid":"bcbd4469bda29052","name":"stage_yaml","source":"bcbd4469bda29052.yaml","type":"application/yaml","size":684},{"uid":"6dd4a8c2c0d603a3","name":"rest_request","source":"6dd4a8c2c0d603a3.yaml","type":"application/yaml","size":161},{"uid":"5c281f1ca811dcb","name":"rest_response","source":"5c281f1ca811dcb.yaml","type":"application/yaml","size":606},{"uid":"6789875a1e4831e5","name":"stage_yaml","source":"6789875a1e4831e5.yaml","type":"application/yaml","size":684},{"uid":"c6c6c85b10960ef3","name":"rest_request","source":"c6c6c85b10960ef3.yaml","type":"application/yaml","size":161},{"uid":"18284e40ac26e265","name":"rest_response","source":"18284e40ac26e265.yaml","type":"application/yaml","size":606},{"uid":"d16df3873da85027","name":"stage_yaml","source":"d16df3873da85027.yaml","type":"application/yaml","size":684},{"uid":"9f5ba672d9e71d11","name":"rest_request","source":"9f5ba672d9e71d11.yaml","type":"application/yaml","size":161},{"uid":"87034f3ad9308152","name":"rest_response","source":"87034f3ad9308152.yaml","type":"application/yaml","size":606},{"uid":"4f043f0c1b8ae32b","name":"stage_yaml","source":"4f043f0c1b8ae32b.yaml","type":"application/yaml","size":684},{"uid":"91ac7bc624d4f6ec","name":"rest_request","source":"91ac7bc624d4f6ec.yaml","type":"application/yaml","size":161},{"uid":"c5dffcf277b3a0ee","name":"rest_response","source":"c5dffcf277b3a0ee.yaml","type":"application/yaml","size":590}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678221240581,"stop":1678221240596,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"ef8297ee8d6bf4b6","name":"stage_yaml","source":"ef8297ee8d6bf4b6.yaml","type":"application/yaml","size":2336},{"uid":"7e7b7d2c91c91290","name":"rest_request","source":"7e7b7d2c91c91290.yaml","type":"application/yaml","size":161},{"uid":"5e19824a3d4df1f2","name":"rest_response","source":"5e19824a3d4df1f2.yaml","type":"application/yaml","size":590}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1678221240597,"stop":1678221240608,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"ae0fb22d063dda31","name":"stage_yaml","source":"ae0fb22d063dda31.yaml","type":"application/yaml","size":978},{"uid":"2ef4a799596698ca","name":"rest_request","source":"2ef4a799596698ca.yaml","type":"application/yaml","size":145},{"uid":"9c991002bd2d4b54","name":"rest_response","source":"9c991002bd2d4b54.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"d380667244d975e","name":"log","source":"d380667244d975e.txt","type":"text/plain","size":57863}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"e40f99b7bd05"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"1affcd3d0686b158","status":"passed","time":{"start":1678217521440,"stop":1678217538867,"duration":17427}},{"uid":"ee8043ac6b81568d","status":"passed","time":{"start":1676400590158,"stop":1676400622792,"duration":32634}},{"uid":"e063e4c7b9ddbb6d","status":"passed","time":{"start":1676399582270,"stop":1676399614890,"duration":32620}},{"uid":"a08f0fb12f37f14b","status":"passed","time":{"start":1676324308069,"stop":1676324340838,"duration":32769}},{"uid":"80ef640ccc769ba6","status":"passed","time":{"start":1674515135445,"stop":1674515152857,"duration":17412}},{"uid":"e39f8b3abcbef727","status":"passed","time":{"start":1674505198362,"stop":1674505231270,"duration":32908}},{"uid":"d4a9140df39ed9d5","status":"passed","time":{"start":1674500025702,"stop":1674500043119,"duration":17417}},{"uid":"33e8e355e3ea7392","status":"passed","time":{"start":1674257402786,"stop":1674257481316,"duration":78530}},{"uid":"ab2961c357340a1","status":"passed","time":{"start":1674254723736,"stop":1674254741154,"duration":17418}},{"uid":"6001dae660fb87e0","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080274145,"stop":1674080275280,"duration":1135}},{"uid":"79a5f22179955b39","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005111,"stop":1674075005146,"duration":35}},{"uid":"a9725d25de83b127","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622465,"stop":1674074622502,"duration":37}}]},"tags":[]},"source":"89659e5150a218b.json","parameterValues":[]}