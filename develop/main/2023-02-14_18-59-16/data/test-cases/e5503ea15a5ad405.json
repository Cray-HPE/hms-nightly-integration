{"uid":"e5503ea15a5ad405","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1676400622798,"stop":1676400655419,"duration":32621},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676400622807,"stop":1676400622844,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"b342446d9e22316d","name":"stage_yaml","source":"b342446d9e22316d.yaml","type":"application/yaml","size":302},{"uid":"70ed92d60c0578ba","name":"rest_request","source":"70ed92d60c0578ba.yaml","type":"application/yaml","size":162},{"uid":"575d99a43fd354a","name":"rest_response","source":"575d99a43fd354a.yaml","type":"application/yaml","size":5745}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676400622845,"stop":1676400622857,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"8fafce609bcc04f1","name":"stage_yaml","source":"8fafce609bcc04f1.yaml","type":"application/yaml","size":797},{"uid":"d491f8e79fc1f384","name":"rest_request","source":"d491f8e79fc1f384.yaml","type":"application/yaml","size":216},{"uid":"724796104c1ec24","name":"rest_response","source":"724796104c1ec24.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1676400622858,"stop":1676400654333,"duration":31475},"status":"passed","steps":[],"attachments":[{"uid":"428feb126e2efdcc","name":"stage_yaml","source":"428feb126e2efdcc.yaml","type":"application/yaml","size":690},{"uid":"2d204ba61e741257","name":"rest_request","source":"2d204ba61e741257.yaml","type":"application/yaml","size":161},{"uid":"21170c2c9c46f00a","name":"rest_response","source":"21170c2c9c46f00a.yaml","type":"application/yaml","size":587},{"uid":"188a50c951f6845f","name":"stage_yaml","source":"188a50c951f6845f.yaml","type":"application/yaml","size":690},{"uid":"e169ff4ae3b05473","name":"rest_request","source":"e169ff4ae3b05473.yaml","type":"application/yaml","size":161},{"uid":"d9525d85169b6892","name":"rest_response","source":"d9525d85169b6892.yaml","type":"application/yaml","size":608},{"uid":"574f5eacb8d9f59c","name":"stage_yaml","source":"574f5eacb8d9f59c.yaml","type":"application/yaml","size":690},{"uid":"42e96ada7fe8d99c","name":"rest_request","source":"42e96ada7fe8d99c.yaml","type":"application/yaml","size":161},{"uid":"48ca9e747b15b47a","name":"rest_response","source":"48ca9e747b15b47a.yaml","type":"application/yaml","size":608},{"uid":"f4d63f5293e611df","name":"stage_yaml","source":"f4d63f5293e611df.yaml","type":"application/yaml","size":690},{"uid":"b5958a632f5fcdcb","name":"rest_request","source":"b5958a632f5fcdcb.yaml","type":"application/yaml","size":161},{"uid":"f463c39dbbf2313f","name":"rest_response","source":"f463c39dbbf2313f.yaml","type":"application/yaml","size":608},{"uid":"9a783604dc6005dc","name":"stage_yaml","source":"9a783604dc6005dc.yaml","type":"application/yaml","size":690},{"uid":"9eb8fa44c35be659","name":"rest_request","source":"9eb8fa44c35be659.yaml","type":"application/yaml","size":161},{"uid":"d0243cb79b11b2c6","name":"rest_response","source":"d0243cb79b11b2c6.yaml","type":"application/yaml","size":608},{"uid":"e2704071361a10e0","name":"stage_yaml","source":"e2704071361a10e0.yaml","type":"application/yaml","size":690},{"uid":"ee27be2a26587c29","name":"rest_request","source":"ee27be2a26587c29.yaml","type":"application/yaml","size":161},{"uid":"75b5b7510c190aad","name":"rest_response","source":"75b5b7510c190aad.yaml","type":"application/yaml","size":608},{"uid":"54a7bdcf3125757c","name":"stage_yaml","source":"54a7bdcf3125757c.yaml","type":"application/yaml","size":690},{"uid":"b2dd359189ba45e7","name":"rest_request","source":"b2dd359189ba45e7.yaml","type":"application/yaml","size":161},{"uid":"9a6216e5967e4607","name":"rest_response","source":"9a6216e5967e4607.yaml","type":"application/yaml","size":608},{"uid":"e803dea401936511","name":"stage_yaml","source":"e803dea401936511.yaml","type":"application/yaml","size":690},{"uid":"850ceaec169e2c8","name":"rest_request","source":"850ceaec169e2c8.yaml","type":"application/yaml","size":161},{"uid":"4a94b06dec534dfd","name":"rest_response","source":"4a94b06dec534dfd.yaml","type":"application/yaml","size":608},{"uid":"a2b1570ed39500e","name":"stage_yaml","source":"a2b1570ed39500e.yaml","type":"application/yaml","size":690},{"uid":"b98be8d2ff081c7d","name":"rest_request","source":"b98be8d2ff081c7d.yaml","type":"application/yaml","size":161},{"uid":"b4dabcc37016a50e","name":"rest_response","source":"b4dabcc37016a50e.yaml","type":"application/yaml","size":608},{"uid":"7ef19121b17510f9","name":"stage_yaml","source":"7ef19121b17510f9.yaml","type":"application/yaml","size":690},{"uid":"4efe742019ca8201","name":"rest_request","source":"4efe742019ca8201.yaml","type":"application/yaml","size":161},{"uid":"bdf28e516dd35830","name":"rest_response","source":"bdf28e516dd35830.yaml","type":"application/yaml","size":608},{"uid":"aaeab798a607dbdd","name":"stage_yaml","source":"aaeab798a607dbdd.yaml","type":"application/yaml","size":690},{"uid":"aa3c30aa67ce6a58","name":"rest_request","source":"aa3c30aa67ce6a58.yaml","type":"application/yaml","size":161},{"uid":"6b83b9a44790e7fb","name":"rest_response","source":"6b83b9a44790e7fb.yaml","type":"application/yaml","size":608},{"uid":"bf6351b897aead87","name":"stage_yaml","source":"bf6351b897aead87.yaml","type":"application/yaml","size":690},{"uid":"b910b866a8fcc963","name":"rest_request","source":"b910b866a8fcc963.yaml","type":"application/yaml","size":161},{"uid":"45344b36eec0140","name":"rest_response","source":"45344b36eec0140.yaml","type":"application/yaml","size":608},{"uid":"8ae63020814f24d8","name":"stage_yaml","source":"8ae63020814f24d8.yaml","type":"application/yaml","size":690},{"uid":"cf5e18acfc46b300","name":"rest_request","source":"cf5e18acfc46b300.yaml","type":"application/yaml","size":161},{"uid":"2a8a34740c7130ed","name":"rest_response","source":"2a8a34740c7130ed.yaml","type":"application/yaml","size":608},{"uid":"a3dbce3f47bb28f8","name":"stage_yaml","source":"a3dbce3f47bb28f8.yaml","type":"application/yaml","size":690},{"uid":"537d44ae229e1b07","name":"rest_request","source":"537d44ae229e1b07.yaml","type":"application/yaml","size":161},{"uid":"80bfcfc497580f66","name":"rest_response","source":"80bfcfc497580f66.yaml","type":"application/yaml","size":608},{"uid":"5025f102f503f10","name":"stage_yaml","source":"5025f102f503f10.yaml","type":"application/yaml","size":690},{"uid":"ce5a25f34f9a4f68","name":"rest_request","source":"ce5a25f34f9a4f68.yaml","type":"application/yaml","size":161},{"uid":"9e0184a65622123c","name":"rest_response","source":"9e0184a65622123c.yaml","type":"application/yaml","size":608},{"uid":"4e9963fb30c2fc3d","name":"stage_yaml","source":"4e9963fb30c2fc3d.yaml","type":"application/yaml","size":690},{"uid":"7ef8d18dc2a70d5b","name":"rest_request","source":"7ef8d18dc2a70d5b.yaml","type":"application/yaml","size":161},{"uid":"6159268ff706d85d","name":"rest_response","source":"6159268ff706d85d.yaml","type":"application/yaml","size":608},{"uid":"8c11e57b8bddf996","name":"stage_yaml","source":"8c11e57b8bddf996.yaml","type":"application/yaml","size":690},{"uid":"97c2556e0a84c102","name":"rest_request","source":"97c2556e0a84c102.yaml","type":"application/yaml","size":161},{"uid":"74c009f7f9c9d4ef","name":"rest_response","source":"74c009f7f9c9d4ef.yaml","type":"application/yaml","size":608},{"uid":"972746e6ee5bb14c","name":"stage_yaml","source":"972746e6ee5bb14c.yaml","type":"application/yaml","size":690},{"uid":"56d66e446e45ff5f","name":"rest_request","source":"56d66e446e45ff5f.yaml","type":"application/yaml","size":161},{"uid":"e556f6023a5edb75","name":"rest_response","source":"e556f6023a5edb75.yaml","type":"application/yaml","size":608},{"uid":"43b1dc1ddf45ae2d","name":"stage_yaml","source":"43b1dc1ddf45ae2d.yaml","type":"application/yaml","size":690},{"uid":"a90918042bd5fddd","name":"rest_request","source":"a90918042bd5fddd.yaml","type":"application/yaml","size":161},{"uid":"254ba5b6061b56e2","name":"rest_response","source":"254ba5b6061b56e2.yaml","type":"application/yaml","size":608},{"uid":"7a7fba4f4472b781","name":"stage_yaml","source":"7a7fba4f4472b781.yaml","type":"application/yaml","size":690},{"uid":"aaabb62f7a5d4f55","name":"rest_request","source":"aaabb62f7a5d4f55.yaml","type":"application/yaml","size":161},{"uid":"e60a6b4862efbac3","name":"rest_response","source":"e60a6b4862efbac3.yaml","type":"application/yaml","size":608},{"uid":"4f34d1030352e6a5","name":"stage_yaml","source":"4f34d1030352e6a5.yaml","type":"application/yaml","size":690},{"uid":"316e45110c53aa2c","name":"rest_request","source":"316e45110c53aa2c.yaml","type":"application/yaml","size":161},{"uid":"a810cca0107bb2d","name":"rest_response","source":"a810cca0107bb2d.yaml","type":"application/yaml","size":608},{"uid":"dc9b431a1d8c23a0","name":"stage_yaml","source":"dc9b431a1d8c23a0.yaml","type":"application/yaml","size":690},{"uid":"cba507c058101085","name":"rest_request","source":"cba507c058101085.yaml","type":"application/yaml","size":161},{"uid":"3bc653f8ee139b75","name":"rest_response","source":"3bc653f8ee139b75.yaml","type":"application/yaml","size":608},{"uid":"79da40760ad0668c","name":"stage_yaml","source":"79da40760ad0668c.yaml","type":"application/yaml","size":690},{"uid":"887059a2ee1af8fa","name":"rest_request","source":"887059a2ee1af8fa.yaml","type":"application/yaml","size":161},{"uid":"a5b2a25bfaa76500","name":"rest_response","source":"a5b2a25bfaa76500.yaml","type":"application/yaml","size":608},{"uid":"b8c2cd7b7a488d44","name":"stage_yaml","source":"b8c2cd7b7a488d44.yaml","type":"application/yaml","size":690},{"uid":"d9fc6d1b4e39a53f","name":"rest_request","source":"d9fc6d1b4e39a53f.yaml","type":"application/yaml","size":161},{"uid":"25a686c11ea77da0","name":"rest_response","source":"25a686c11ea77da0.yaml","type":"application/yaml","size":608},{"uid":"2575cadb3cf118b","name":"stage_yaml","source":"2575cadb3cf118b.yaml","type":"application/yaml","size":690},{"uid":"305d85abb0bfbdc2","name":"rest_request","source":"305d85abb0bfbdc2.yaml","type":"application/yaml","size":161},{"uid":"c2a58e1507732a5b","name":"rest_response","source":"c2a58e1507732a5b.yaml","type":"application/yaml","size":608},{"uid":"35dae66a108b9fd5","name":"stage_yaml","source":"35dae66a108b9fd5.yaml","type":"application/yaml","size":690},{"uid":"9476d9ad39b0e6ed","name":"rest_request","source":"9476d9ad39b0e6ed.yaml","type":"application/yaml","size":161},{"uid":"c08683c4a1fc4d2d","name":"rest_response","source":"c08683c4a1fc4d2d.yaml","type":"application/yaml","size":608},{"uid":"938957a3721e02fd","name":"stage_yaml","source":"938957a3721e02fd.yaml","type":"application/yaml","size":690},{"uid":"299f9d732554b18f","name":"rest_request","source":"299f9d732554b18f.yaml","type":"application/yaml","size":161},{"uid":"36452492f75b0dec","name":"rest_response","source":"36452492f75b0dec.yaml","type":"application/yaml","size":608},{"uid":"a69fef0c3e1aeff2","name":"stage_yaml","source":"a69fef0c3e1aeff2.yaml","type":"application/yaml","size":690},{"uid":"3003c552d4fa6bcb","name":"rest_request","source":"3003c552d4fa6bcb.yaml","type":"application/yaml","size":161},{"uid":"f3da5ceb4c0eda26","name":"rest_response","source":"f3da5ceb4c0eda26.yaml","type":"application/yaml","size":608},{"uid":"70e1fa948b8ed7cd","name":"stage_yaml","source":"70e1fa948b8ed7cd.yaml","type":"application/yaml","size":690},{"uid":"fbe23f1fb68a1ced","name":"rest_request","source":"fbe23f1fb68a1ced.yaml","type":"application/yaml","size":161},{"uid":"493bb637bca07af9","name":"rest_response","source":"493bb637bca07af9.yaml","type":"application/yaml","size":608},{"uid":"c077fcd9c491d8b7","name":"stage_yaml","source":"c077fcd9c491d8b7.yaml","type":"application/yaml","size":690},{"uid":"75a84ba52e97887","name":"rest_request","source":"75a84ba52e97887.yaml","type":"application/yaml","size":161},{"uid":"cc13fa5ca8c8c6c2","name":"rest_response","source":"cc13fa5ca8c8c6c2.yaml","type":"application/yaml","size":608},{"uid":"11c40e67bca0616e","name":"stage_yaml","source":"11c40e67bca0616e.yaml","type":"application/yaml","size":690},{"uid":"3e98b4321336165e","name":"rest_request","source":"3e98b4321336165e.yaml","type":"application/yaml","size":161},{"uid":"db81749e3fcfbf30","name":"rest_response","source":"db81749e3fcfbf30.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1676400654334,"stop":1676400654349,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"dbd1bf3156fc3060","name":"stage_yaml","source":"dbd1bf3156fc3060.yaml","type":"application/yaml","size":2405},{"uid":"b6e381efee3ac50a","name":"rest_request","source":"b6e381efee3ac50a.yaml","type":"application/yaml","size":161},{"uid":"306970cac8f738c3","name":"rest_response","source":"306970cac8f738c3.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676400654350,"stop":1676400654361,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"b330ffa8864c9b29","name":"stage_yaml","source":"b330ffa8864c9b29.yaml","type":"application/yaml","size":978},{"uid":"65b18d17c1c96d02","name":"rest_request","source":"65b18d17c1c96d02.yaml","type":"application/yaml","size":145},{"uid":"1872d925425ad4fc","name":"rest_response","source":"1872d925425ad4fc.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1676400654362,"stop":1676400654373,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"723bc3dcfacf3cba","name":"stage_yaml","source":"723bc3dcfacf3cba.yaml","type":"application/yaml","size":796},{"uid":"a567cfe7280c8492","name":"rest_request","source":"a567cfe7280c8492.yaml","type":"application/yaml","size":216},{"uid":"3dbffa3be76317b1","name":"rest_response","source":"3dbffa3be76317b1.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1676400654376,"stop":1676400655389,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"4aeab2176a564b9d","name":"stage_yaml","source":"4aeab2176a564b9d.yaml","type":"application/yaml","size":691},{"uid":"a95eb989f0bf5554","name":"rest_request","source":"a95eb989f0bf5554.yaml","type":"application/yaml","size":161},{"uid":"34ac4f9189407cda","name":"rest_response","source":"34ac4f9189407cda.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1676400655390,"stop":1676400655405,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b04ff280a7ebb6b8","name":"stage_yaml","source":"b04ff280a7ebb6b8.yaml","type":"application/yaml","size":2355},{"uid":"fce3b5653542ad2a","name":"rest_request","source":"fce3b5653542ad2a.yaml","type":"application/yaml","size":161},{"uid":"270651c895c9218a","name":"rest_response","source":"270651c895c9218a.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1676400655406,"stop":1676400655418,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"3fbca8a5ef95cfbf","name":"stage_yaml","source":"3fbca8a5ef95cfbf.yaml","type":"application/yaml","size":984},{"uid":"a3f5f1899832b836","name":"rest_request","source":"a3f5f1899832b836.yaml","type":"application/yaml","size":145},{"uid":"199f0227b3afc042","name":"rest_response","source":"199f0227b3afc042.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"aac2d839b4d45ce4","name":"log","source":"aac2d839b4d45ce4.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"6b00b26caac0"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"9a887f834114b02a","status":"passed","time":{"start":1676399614897,"stop":1676399647605,"duration":32708}},{"uid":"2f696cd3742c2c7f","status":"passed","time":{"start":1676324340845,"stop":1676324373520,"duration":32675}},{"uid":"18ddb8e7207b6d26","status":"passed","time":{"start":1674515152862,"stop":1674515155028,"duration":2166}},{"uid":"c209a7faa9f48727","status":"passed","time":{"start":1674505231278,"stop":1674505233516,"duration":2238}},{"uid":"b8d62ff7eaed3a7a","status":"passed","time":{"start":1674500043124,"stop":1674500075783,"duration":32659}},{"uid":"6554af4d534f0d81","status":"passed","time":{"start":1674257481327,"stop":1674257498775,"duration":17448}},{"uid":"ad3bc452eff1fe8b","status":"passed","time":{"start":1674254741159,"stop":1674254773826,"duration":32667}},{"uid":"80a04d3d89544206","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080275413,"stop":1674080275460,"duration":47}},{"uid":"cea5991e3551094e","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005162,"stop":1674075005194,"duration":32}},{"uid":"a5b79361066cbd0b","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074622519,"stop":1674074622555,"duration":36}}]},"tags":[]},"source":"e5503ea15a5ad405.json","parameterValues":[]}