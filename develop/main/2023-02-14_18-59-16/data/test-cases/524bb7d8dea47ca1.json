{"uid":"524bb7d8dea47ca1","name":"Verify transitions handles requests for nodes that are locked","fullName":"api.2-disruptive.test_transitions_negative.tavern#Verify transitions handles requests for nodes that are locked","historyId":"7c6d7722b0d558d7cf87ba61b253e04c","time":{"start":1676400572485,"stop":1676400590153,"duration":17668},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve an unlocked compute Node target from HSM to use in later stages","time":{"start":1676400572690,"stop":1676400572729,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"e8d0bcf5f32f9af3","name":"stage_yaml","source":"e8d0bcf5f32f9af3.yaml","type":"application/yaml","size":315},{"uid":"4b798122502a45da","name":"rest_request","source":"4b798122502a45da.yaml","type":"application/yaml","size":162},{"uid":"4c60bc14bbdae3cd","name":"rest_response","source":"4c60bc14bbdae3cd.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1676400572730,"stop":1676400572743,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"747d51737fb2c86f","name":"stage_yaml","source":"747d51737fb2c86f.yaml","type":"application/yaml","size":775},{"uid":"e5a29c7f3d3110ff","name":"rest_request","source":"e5a29c7f3d3110ff.yaml","type":"application/yaml","size":211},{"uid":"90ab935bb4db1321","name":"rest_response","source":"90ab935bb4db1321.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676400572746,"stop":1676400573760,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"5bd83f69cc2a5549","name":"stage_yaml","source":"5bd83f69cc2a5549.yaml","type":"application/yaml","size":661},{"uid":"2ce006eb9666aea3","name":"rest_request","source":"2ce006eb9666aea3.yaml","type":"application/yaml","size":161},{"uid":"982e4634a78553ed","name":"rest_response","source":"982e4634a78553ed.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676400573761,"stop":1676400573775,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"2b472945d0cd2c63","name":"stage_yaml","source":"2b472945d0cd2c63.yaml","type":"application/yaml","size":2375},{"uid":"ea3acfb4c385f91b","name":"rest_request","source":"ea3acfb4c385f91b.yaml","type":"application/yaml","size":161},{"uid":"e5283fe88d114232","name":"rest_response","source":"e5283fe88d114232.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1676400573776,"stop":1676400573787,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"5c4c714806003813","name":"stage_yaml","source":"5c4c714806003813.yaml","type":"application/yaml","size":976},{"uid":"cf0970d9df72d20d","name":"rest_request","source":"cf0970d9df72d20d.yaml","type":"application/yaml","size":145},{"uid":"ea53d9b339959003","name":"rest_response","source":"ea53d9b339959003.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Lock the target Node","time":{"start":1676400573788,"stop":1676400573799,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"fc03e5390385c9d7","name":"stage_yaml","source":"fc03e5390385c9d7.yaml","type":"application/yaml","size":1827},{"uid":"8e9168a61817639e","name":"rest_request","source":"8e9168a61817639e.yaml","type":"application/yaml","size":161},{"uid":"bb64dfbb6331c9eb","name":"rest_response","source":"bb64dfbb6331c9eb.yaml","type":"application/yaml","size":269}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Attempt a power transition for a locked node","time":{"start":1676400573800,"stop":1676400573812,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"46af5df66917c7d4","name":"stage_yaml","source":"46af5df66917c7d4.yaml","type":"application/yaml","size":786},{"uid":"166823bdafbc03b2","name":"rest_request","source":"166823bdafbc03b2.yaml","type":"application/yaml","size":216},{"uid":"8b696dfc157b6631","name":"rest_response","source":"8b696dfc157b6631.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the force-off transition operation has completed","time":{"start":1676400573814,"stop":1676400590124,"duration":16310},"status":"passed","steps":[],"attachments":[{"uid":"aedb2ef73407fff5","name":"stage_yaml","source":"aedb2ef73407fff5.yaml","type":"application/yaml","size":684},{"uid":"8ae041f7de2b446b","name":"rest_request","source":"8ae041f7de2b446b.yaml","type":"application/yaml","size":161},{"uid":"383f3a6ec60068fc","name":"rest_response","source":"383f3a6ec60068fc.yaml","type":"application/yaml","size":628},{"uid":"29f036fee091f0f8","name":"stage_yaml","source":"29f036fee091f0f8.yaml","type":"application/yaml","size":684},{"uid":"56258835206c578f","name":"rest_request","source":"56258835206c578f.yaml","type":"application/yaml","size":161},{"uid":"aafbdaa0cf87b9a7","name":"rest_response","source":"aafbdaa0cf87b9a7.yaml","type":"application/yaml","size":628},{"uid":"a5e93a5e2246c87a","name":"stage_yaml","source":"a5e93a5e2246c87a.yaml","type":"application/yaml","size":684},{"uid":"bdd8714563e18989","name":"rest_request","source":"bdd8714563e18989.yaml","type":"application/yaml","size":161},{"uid":"81ce08853285a9f9","name":"rest_response","source":"81ce08853285a9f9.yaml","type":"application/yaml","size":628},{"uid":"a9a233598aa722fd","name":"stage_yaml","source":"a9a233598aa722fd.yaml","type":"application/yaml","size":684},{"uid":"5ffe3fdb2837a1c1","name":"rest_request","source":"5ffe3fdb2837a1c1.yaml","type":"application/yaml","size":161},{"uid":"df7dce036a81ab3d","name":"rest_response","source":"df7dce036a81ab3d.yaml","type":"application/yaml","size":628},{"uid":"85fd736821d7fc5e","name":"stage_yaml","source":"85fd736821d7fc5e.yaml","type":"application/yaml","size":684},{"uid":"218a849100599bba","name":"rest_request","source":"218a849100599bba.yaml","type":"application/yaml","size":161},{"uid":"357e207c23fbdc5e","name":"rest_response","source":"357e207c23fbdc5e.yaml","type":"application/yaml","size":628},{"uid":"a3f911b7a1094acc","name":"stage_yaml","source":"a3f911b7a1094acc.yaml","type":"application/yaml","size":684},{"uid":"51d6070571449628","name":"rest_request","source":"51d6070571449628.yaml","type":"application/yaml","size":161},{"uid":"cc90de6b3e129eff","name":"rest_response","source":"cc90de6b3e129eff.yaml","type":"application/yaml","size":628},{"uid":"1acc979843a32ffe","name":"stage_yaml","source":"1acc979843a32ffe.yaml","type":"application/yaml","size":684},{"uid":"13e0e7631c60109f","name":"rest_request","source":"13e0e7631c60109f.yaml","type":"application/yaml","size":161},{"uid":"cf0ae9996fe4fa32","name":"rest_response","source":"cf0ae9996fe4fa32.yaml","type":"application/yaml","size":628},{"uid":"f0b5e8f0f5861997","name":"stage_yaml","source":"f0b5e8f0f5861997.yaml","type":"application/yaml","size":684},{"uid":"1eb390080b0a5a83","name":"rest_request","source":"1eb390080b0a5a83.yaml","type":"application/yaml","size":161},{"uid":"f9f091e0b3a80504","name":"rest_response","source":"f9f091e0b3a80504.yaml","type":"application/yaml","size":628},{"uid":"96d4cd2e9225191a","name":"stage_yaml","source":"96d4cd2e9225191a.yaml","type":"application/yaml","size":684},{"uid":"3b6df045d92b5cb0","name":"rest_request","source":"3b6df045d92b5cb0.yaml","type":"application/yaml","size":161},{"uid":"e79523c351722029","name":"rest_response","source":"e79523c351722029.yaml","type":"application/yaml","size":628},{"uid":"d903206f215c2a4a","name":"stage_yaml","source":"d903206f215c2a4a.yaml","type":"application/yaml","size":684},{"uid":"efe3b5e8490eae9e","name":"rest_request","source":"efe3b5e8490eae9e.yaml","type":"application/yaml","size":161},{"uid":"131125af4f3f4aa5","name":"rest_response","source":"131125af4f3f4aa5.yaml","type":"application/yaml","size":628},{"uid":"9ca1b3a73205c5b5","name":"stage_yaml","source":"9ca1b3a73205c5b5.yaml","type":"application/yaml","size":684},{"uid":"243e79d9a718255d","name":"rest_request","source":"243e79d9a718255d.yaml","type":"application/yaml","size":161},{"uid":"a0f9c6ef58786fbf","name":"rest_response","source":"a0f9c6ef58786fbf.yaml","type":"application/yaml","size":628},{"uid":"9dbf2822170b0a9","name":"stage_yaml","source":"9dbf2822170b0a9.yaml","type":"application/yaml","size":684},{"uid":"e8b5238e94b9ccb","name":"rest_request","source":"e8b5238e94b9ccb.yaml","type":"application/yaml","size":161},{"uid":"bffec2ba860dc31e","name":"rest_response","source":"bffec2ba860dc31e.yaml","type":"application/yaml","size":628},{"uid":"5dc3191e81910f0b","name":"stage_yaml","source":"5dc3191e81910f0b.yaml","type":"application/yaml","size":684},{"uid":"fbe49d5094e19752","name":"rest_request","source":"fbe49d5094e19752.yaml","type":"application/yaml","size":161},{"uid":"832a0d135f2c72f","name":"rest_response","source":"832a0d135f2c72f.yaml","type":"application/yaml","size":628},{"uid":"3433af05a35b37a0","name":"stage_yaml","source":"3433af05a35b37a0.yaml","type":"application/yaml","size":684},{"uid":"c83a819629ccca62","name":"rest_request","source":"c83a819629ccca62.yaml","type":"application/yaml","size":161},{"uid":"46230a442f8cc6f","name":"rest_response","source":"46230a442f8cc6f.yaml","type":"application/yaml","size":628},{"uid":"128819d26d73139b","name":"stage_yaml","source":"128819d26d73139b.yaml","type":"application/yaml","size":684},{"uid":"4004c51501b67a16","name":"rest_request","source":"4004c51501b67a16.yaml","type":"application/yaml","size":161},{"uid":"d9f668c7a3673fe2","name":"rest_response","source":"d9f668c7a3673fe2.yaml","type":"application/yaml","size":628},{"uid":"e9305f4f5f3dc5d2","name":"stage_yaml","source":"e9305f4f5f3dc5d2.yaml","type":"application/yaml","size":684},{"uid":"c03ba1273d015812","name":"rest_request","source":"c03ba1273d015812.yaml","type":"application/yaml","size":161},{"uid":"6a6cf78669b1705d","name":"rest_response","source":"6a6cf78669b1705d.yaml","type":"application/yaml","size":626}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed on transition data","time":{"start":1676400590125,"stop":1676400590140,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"406b40dac1dfcc92","name":"stage_yaml","source":"406b40dac1dfcc92.yaml","type":"application/yaml","size":2504},{"uid":"f75bb013e69bf4c9","name":"rest_request","source":"f75bb013e69bf4c9.yaml","type":"application/yaml","size":161},{"uid":"48e731ebc85e0a4f","name":"rest_response","source":"48e731ebc85e0a4f.yaml","type":"application/yaml","size":626}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Unlock the target Node","time":{"start":1676400590141,"stop":1676400590153,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"df80485870afb1e2","name":"stage_yaml","source":"df80485870afb1e2.yaml","type":"application/yaml","size":1806},{"uid":"39566d72ff7e730a","name":"rest_request","source":"39566d72ff7e730a.yaml","type":"application/yaml","size":163},{"uid":"92c6ce809398ef4f","name":"rest_response","source":"92c6ce809398ef4f.yaml","type":"application/yaml","size":269}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"39fc6211dae1544c","name":"log","source":"39fc6211dae1544c.txt","type":"text/plain","size":58229}],"parameters":[],"stepsCount":10,"attachmentsCount":76,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"6b00b26caac0"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_negative.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"7191dc41182dc671","status":"passed","time":{"start":1676399564667,"stop":1676399582265,"duration":17598}},{"uid":"686bc8c6ae3cf7cf","status":"passed","time":{"start":1676324290437,"stop":1676324308063,"duration":17626}},{"uid":"bacab20c1e514b64","status":"passed","time":{"start":1674515117838,"stop":1674515135440,"duration":17602}},{"uid":"cc9fe7fcfc685a13","status":"passed","time":{"start":1674505180537,"stop":1674505198356,"duration":17819}},{"uid":"6fb764d586a0e14","status":"passed","time":{"start":1674499977432,"stop":1674500025694,"duration":48262}},{"uid":"a0f038c91214aee7","status":"passed","time":{"start":1674257354500,"stop":1674257402777,"duration":48277}},{"uid":"bbfabe38b46339e6","status":"passed","time":{"start":1674254706103,"stop":1674254723731,"duration":17628}},{"uid":"318472f36b61d0f3","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Attempt a power transition for a locked node' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080272630,"stop":1674080274031,"duration":1401}},{"uid":"a7f015ba074dc5e1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075004783,"stop":1674075005092,"duration":309}},{"uid":"518fd334076fbc0b","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622168,"stop":1674074622447,"duration":279}}]},"tags":[]},"source":"524bb7d8dea47ca1.json","parameterValues":[]}