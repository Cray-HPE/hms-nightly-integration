{"uid":"c86146dec7c16d1e","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1676400949598,"stop":1676400982240,"duration":32642},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676400949607,"stop":1676400949644,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"bc8a0e0c6804120","name":"stage_yaml","source":"bc8a0e0c6804120.yaml","type":"application/yaml","size":302},{"uid":"2b9959d26588830","name":"rest_request","source":"2b9959d26588830.yaml","type":"application/yaml","size":162},{"uid":"8d9845f59849e731","name":"rest_response","source":"8d9845f59849e731.yaml","type":"application/yaml","size":5749}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676400949645,"stop":1676400949658,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"d7197f6c4a831b11","name":"stage_yaml","source":"d7197f6c4a831b11.yaml","type":"application/yaml","size":797},{"uid":"fed483c0038adad","name":"rest_request","source":"fed483c0038adad.yaml","type":"application/yaml","size":216},{"uid":"61c09bc87cae157a","name":"rest_response","source":"61c09bc87cae157a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676400949661,"stop":1676400981144,"duration":31483},"status":"passed","steps":[],"attachments":[{"uid":"2e772843aa273fc5","name":"stage_yaml","source":"2e772843aa273fc5.yaml","type":"application/yaml","size":682},{"uid":"76f3b2ab5e6f7369","name":"rest_request","source":"76f3b2ab5e6f7369.yaml","type":"application/yaml","size":161},{"uid":"cfe6c49487f65201","name":"rest_response","source":"cfe6c49487f65201.yaml","type":"application/yaml","size":587},{"uid":"f6ad799d46e51f32","name":"stage_yaml","source":"f6ad799d46e51f32.yaml","type":"application/yaml","size":682},{"uid":"9d074f6f42c7795d","name":"rest_request","source":"9d074f6f42c7795d.yaml","type":"application/yaml","size":161},{"uid":"d4c0ec02226ea337","name":"rest_response","source":"d4c0ec02226ea337.yaml","type":"application/yaml","size":608},{"uid":"226d347d36cbcadf","name":"stage_yaml","source":"226d347d36cbcadf.yaml","type":"application/yaml","size":682},{"uid":"839a6c6d64197761","name":"rest_request","source":"839a6c6d64197761.yaml","type":"application/yaml","size":161},{"uid":"57f2571082ccde5b","name":"rest_response","source":"57f2571082ccde5b.yaml","type":"application/yaml","size":608},{"uid":"dae43c66df5110e3","name":"stage_yaml","source":"dae43c66df5110e3.yaml","type":"application/yaml","size":682},{"uid":"f082d5c87113dc98","name":"rest_request","source":"f082d5c87113dc98.yaml","type":"application/yaml","size":161},{"uid":"fbcc1da25dd08709","name":"rest_response","source":"fbcc1da25dd08709.yaml","type":"application/yaml","size":608},{"uid":"c5a09b41c4912ae5","name":"stage_yaml","source":"c5a09b41c4912ae5.yaml","type":"application/yaml","size":682},{"uid":"5026760371beba46","name":"rest_request","source":"5026760371beba46.yaml","type":"application/yaml","size":161},{"uid":"80d92e9ee33a3e21","name":"rest_response","source":"80d92e9ee33a3e21.yaml","type":"application/yaml","size":608},{"uid":"e823bb59d60e6148","name":"stage_yaml","source":"e823bb59d60e6148.yaml","type":"application/yaml","size":682},{"uid":"536b83ba1da143db","name":"rest_request","source":"536b83ba1da143db.yaml","type":"application/yaml","size":161},{"uid":"2db3614f5cc83e70","name":"rest_response","source":"2db3614f5cc83e70.yaml","type":"application/yaml","size":608},{"uid":"e337397e8f42f6c4","name":"stage_yaml","source":"e337397e8f42f6c4.yaml","type":"application/yaml","size":682},{"uid":"e3d4740c9f546a07","name":"rest_request","source":"e3d4740c9f546a07.yaml","type":"application/yaml","size":161},{"uid":"c55b87520e9a916e","name":"rest_response","source":"c55b87520e9a916e.yaml","type":"application/yaml","size":608},{"uid":"f29fd5d72d5216b8","name":"stage_yaml","source":"f29fd5d72d5216b8.yaml","type":"application/yaml","size":682},{"uid":"ac9d43a6ede1e6bc","name":"rest_request","source":"ac9d43a6ede1e6bc.yaml","type":"application/yaml","size":161},{"uid":"c54d7a712e49c7e9","name":"rest_response","source":"c54d7a712e49c7e9.yaml","type":"application/yaml","size":608},{"uid":"952a01fb26f0cf56","name":"stage_yaml","source":"952a01fb26f0cf56.yaml","type":"application/yaml","size":682},{"uid":"3f937e2268d01762","name":"rest_request","source":"3f937e2268d01762.yaml","type":"application/yaml","size":161},{"uid":"11efe2bb2b89c0e","name":"rest_response","source":"11efe2bb2b89c0e.yaml","type":"application/yaml","size":608},{"uid":"26453171a234d92b","name":"stage_yaml","source":"26453171a234d92b.yaml","type":"application/yaml","size":682},{"uid":"999f393d411dcda8","name":"rest_request","source":"999f393d411dcda8.yaml","type":"application/yaml","size":161},{"uid":"6c8a186845a481a","name":"rest_response","source":"6c8a186845a481a.yaml","type":"application/yaml","size":608},{"uid":"c2d050ed2dc670b","name":"stage_yaml","source":"c2d050ed2dc670b.yaml","type":"application/yaml","size":682},{"uid":"1ae72855bc294d22","name":"rest_request","source":"1ae72855bc294d22.yaml","type":"application/yaml","size":161},{"uid":"e63dd4462e7d28cd","name":"rest_response","source":"e63dd4462e7d28cd.yaml","type":"application/yaml","size":608},{"uid":"34a3be2ae24b9b38","name":"stage_yaml","source":"34a3be2ae24b9b38.yaml","type":"application/yaml","size":682},{"uid":"22a158e21e094043","name":"rest_request","source":"22a158e21e094043.yaml","type":"application/yaml","size":161},{"uid":"ce03f7e6183486e9","name":"rest_response","source":"ce03f7e6183486e9.yaml","type":"application/yaml","size":608},{"uid":"9d0334512c4b0292","name":"stage_yaml","source":"9d0334512c4b0292.yaml","type":"application/yaml","size":682},{"uid":"edd12c9156e3146e","name":"rest_request","source":"edd12c9156e3146e.yaml","type":"application/yaml","size":161},{"uid":"57c9d4d4d1d18e18","name":"rest_response","source":"57c9d4d4d1d18e18.yaml","type":"application/yaml","size":608},{"uid":"60857c6ea8aa9165","name":"stage_yaml","source":"60857c6ea8aa9165.yaml","type":"application/yaml","size":682},{"uid":"e6798ea3ced9237f","name":"rest_request","source":"e6798ea3ced9237f.yaml","type":"application/yaml","size":161},{"uid":"b2e275f9705a2e0","name":"rest_response","source":"b2e275f9705a2e0.yaml","type":"application/yaml","size":608},{"uid":"d29b1bdd4b59ce3e","name":"stage_yaml","source":"d29b1bdd4b59ce3e.yaml","type":"application/yaml","size":682},{"uid":"87c077b392a3cfa0","name":"rest_request","source":"87c077b392a3cfa0.yaml","type":"application/yaml","size":161},{"uid":"327169a2ae83645b","name":"rest_response","source":"327169a2ae83645b.yaml","type":"application/yaml","size":608},{"uid":"df862c226b4a0c7b","name":"stage_yaml","source":"df862c226b4a0c7b.yaml","type":"application/yaml","size":682},{"uid":"f3706c1bfd1a6728","name":"rest_request","source":"f3706c1bfd1a6728.yaml","type":"application/yaml","size":161},{"uid":"34022eeb54905396","name":"rest_response","source":"34022eeb54905396.yaml","type":"application/yaml","size":608},{"uid":"3ceefc16abd90e10","name":"stage_yaml","source":"3ceefc16abd90e10.yaml","type":"application/yaml","size":682},{"uid":"54931f9025ba3691","name":"rest_request","source":"54931f9025ba3691.yaml","type":"application/yaml","size":161},{"uid":"e22d499f52f2aaa4","name":"rest_response","source":"e22d499f52f2aaa4.yaml","type":"application/yaml","size":608},{"uid":"836c1a0bf7285574","name":"stage_yaml","source":"836c1a0bf7285574.yaml","type":"application/yaml","size":682},{"uid":"1fe05b62954984a5","name":"rest_request","source":"1fe05b62954984a5.yaml","type":"application/yaml","size":161},{"uid":"7302f219feead2e8","name":"rest_response","source":"7302f219feead2e8.yaml","type":"application/yaml","size":608},{"uid":"5d351d2bf1acbf85","name":"stage_yaml","source":"5d351d2bf1acbf85.yaml","type":"application/yaml","size":682},{"uid":"7630bdc9953c773e","name":"rest_request","source":"7630bdc9953c773e.yaml","type":"application/yaml","size":161},{"uid":"efe570cac01a8b92","name":"rest_response","source":"efe570cac01a8b92.yaml","type":"application/yaml","size":608},{"uid":"737a300376bb24d8","name":"stage_yaml","source":"737a300376bb24d8.yaml","type":"application/yaml","size":682},{"uid":"24e1fe0d6bc3254c","name":"rest_request","source":"24e1fe0d6bc3254c.yaml","type":"application/yaml","size":161},{"uid":"c61f5220674123e6","name":"rest_response","source":"c61f5220674123e6.yaml","type":"application/yaml","size":608},{"uid":"cfb2b71b91433636","name":"stage_yaml","source":"cfb2b71b91433636.yaml","type":"application/yaml","size":682},{"uid":"30f461fba4f749fb","name":"rest_request","source":"30f461fba4f749fb.yaml","type":"application/yaml","size":161},{"uid":"f53c3b399f8952d1","name":"rest_response","source":"f53c3b399f8952d1.yaml","type":"application/yaml","size":608},{"uid":"4c3b326ece1ac166","name":"stage_yaml","source":"4c3b326ece1ac166.yaml","type":"application/yaml","size":682},{"uid":"1b5202f42e83d775","name":"rest_request","source":"1b5202f42e83d775.yaml","type":"application/yaml","size":161},{"uid":"60004cc7bd14f253","name":"rest_response","source":"60004cc7bd14f253.yaml","type":"application/yaml","size":608},{"uid":"69f13255a121061e","name":"stage_yaml","source":"69f13255a121061e.yaml","type":"application/yaml","size":682},{"uid":"5ac8c7f59dd05337","name":"rest_request","source":"5ac8c7f59dd05337.yaml","type":"application/yaml","size":161},{"uid":"534de2a2cebd85e0","name":"rest_response","source":"534de2a2cebd85e0.yaml","type":"application/yaml","size":608},{"uid":"8b0ee4d151912ec4","name":"stage_yaml","source":"8b0ee4d151912ec4.yaml","type":"application/yaml","size":682},{"uid":"786a33547837c7da","name":"rest_request","source":"786a33547837c7da.yaml","type":"application/yaml","size":161},{"uid":"8e71dad955cbf9f6","name":"rest_response","source":"8e71dad955cbf9f6.yaml","type":"application/yaml","size":608},{"uid":"5cf7ea61a69f1740","name":"stage_yaml","source":"5cf7ea61a69f1740.yaml","type":"application/yaml","size":682},{"uid":"bdb401cdf8177ef2","name":"rest_request","source":"bdb401cdf8177ef2.yaml","type":"application/yaml","size":161},{"uid":"8180fcb4a2d287e4","name":"rest_response","source":"8180fcb4a2d287e4.yaml","type":"application/yaml","size":608},{"uid":"ef648fe89a52e2e9","name":"stage_yaml","source":"ef648fe89a52e2e9.yaml","type":"application/yaml","size":682},{"uid":"34629cf39965db1","name":"rest_request","source":"34629cf39965db1.yaml","type":"application/yaml","size":161},{"uid":"cfa7a436468d0dfe","name":"rest_response","source":"cfa7a436468d0dfe.yaml","type":"application/yaml","size":608},{"uid":"b5c7b29421281c9a","name":"stage_yaml","source":"b5c7b29421281c9a.yaml","type":"application/yaml","size":682},{"uid":"fcaeffb9d981a1c5","name":"rest_request","source":"fcaeffb9d981a1c5.yaml","type":"application/yaml","size":161},{"uid":"3aeb2521d605ac02","name":"rest_response","source":"3aeb2521d605ac02.yaml","type":"application/yaml","size":608},{"uid":"11940d77d15580b8","name":"stage_yaml","source":"11940d77d15580b8.yaml","type":"application/yaml","size":682},{"uid":"83ccef97c63fda9e","name":"rest_request","source":"83ccef97c63fda9e.yaml","type":"application/yaml","size":161},{"uid":"5ac12bf01a7ce69","name":"rest_response","source":"5ac12bf01a7ce69.yaml","type":"application/yaml","size":608},{"uid":"23fbb541ce51cf43","name":"stage_yaml","source":"23fbb541ce51cf43.yaml","type":"application/yaml","size":682},{"uid":"8f28377b0cabb8d7","name":"rest_request","source":"8f28377b0cabb8d7.yaml","type":"application/yaml","size":161},{"uid":"373f4465936980fc","name":"rest_response","source":"373f4465936980fc.yaml","type":"application/yaml","size":608},{"uid":"795269d3f07b8f7c","name":"stage_yaml","source":"795269d3f07b8f7c.yaml","type":"application/yaml","size":682},{"uid":"fd6d03592b2c5a2e","name":"rest_request","source":"fd6d03592b2c5a2e.yaml","type":"application/yaml","size":161},{"uid":"155b357053cf1c43","name":"rest_response","source":"155b357053cf1c43.yaml","type":"application/yaml","size":608},{"uid":"cde3e123186b9cd2","name":"stage_yaml","source":"cde3e123186b9cd2.yaml","type":"application/yaml","size":682},{"uid":"2d9109db2c3b400f","name":"rest_request","source":"2d9109db2c3b400f.yaml","type":"application/yaml","size":161},{"uid":"fa0603dfa47a1de4","name":"rest_response","source":"fa0603dfa47a1de4.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1676400981145,"stop":1676400981161,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"565e1b8d9061ef1f","name":"stage_yaml","source":"565e1b8d9061ef1f.yaml","type":"application/yaml","size":2389},{"uid":"ed13ec468fc34fa2","name":"rest_request","source":"ed13ec468fc34fa2.yaml","type":"application/yaml","size":161},{"uid":"242d3d598cd8ddc8","name":"rest_response","source":"242d3d598cd8ddc8.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676400981162,"stop":1676400981174,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"8c91548c75d618cd","name":"stage_yaml","source":"8c91548c75d618cd.yaml","type":"application/yaml","size":978},{"uid":"b81f035bfdb418a9","name":"rest_request","source":"b81f035bfdb418a9.yaml","type":"application/yaml","size":145},{"uid":"5808875e90fd9c64","name":"rest_response","source":"5808875e90fd9c64.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1676400981175,"stop":1676400981189,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"4b653d801c6fe58d","name":"stage_yaml","source":"4b653d801c6fe58d.yaml","type":"application/yaml","size":763},{"uid":"2190008879f8c699","name":"rest_request","source":"2190008879f8c699.yaml","type":"application/yaml","size":211},{"uid":"81759ac56632fe73","name":"rest_response","source":"81759ac56632fe73.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1676400981190,"stop":1676400981204,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"fb05f56db7b40b5e","name":"stage_yaml","source":"fb05f56db7b40b5e.yaml","type":"application/yaml","size":534},{"uid":"190d0c41490e6a61","name":"rest_request","source":"190d0c41490e6a61.yaml","type":"application/yaml","size":164},{"uid":"44a65494dd6e4218","name":"rest_response","source":"44a65494dd6e4218.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1676400981205,"stop":1676400982220,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"5c327a7d2fbbd915","name":"stage_yaml","source":"5c327a7d2fbbd915.yaml","type":"application/yaml","size":703},{"uid":"f5aba615bfcfbb7e","name":"rest_request","source":"f5aba615bfcfbb7e.yaml","type":"application/yaml","size":161},{"uid":"3e5479ffd73c6715","name":"rest_response","source":"3e5479ffd73c6715.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1676400982221,"stop":1676400982239,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"465ac76c8d884221","name":"stage_yaml","source":"465ac76c8d884221.yaml","type":"application/yaml","size":2481},{"uid":"65194515b3683d07","name":"rest_request","source":"65194515b3683d07.yaml","type":"application/yaml","size":161},{"uid":"f771580653a2ddc9","name":"rest_response","source":"f771580653a2ddc9.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"7a6c4ecb8f3a4abf","name":"log","source":"7a6c4ecb8f3a4abf.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"6b00b26caac0"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"39eac9a40cbdb3c7","status":"passed","time":{"start":1676399956477,"stop":1676399989102,"duration":32625}},{"uid":"7d14d510db4f3ad6","status":"passed","time":{"start":1676324668777,"stop":1676324701439,"duration":32662}},{"uid":"7d77006b0367179f","status":"passed","time":{"start":1674515479474,"stop":1674515481658,"duration":2184}},{"uid":"42251583897b70fe","status":"passed","time":{"start":1674505607794,"stop":1674505625373,"duration":17579}},{"uid":"8457d14d68377bd0","status":"passed","time":{"start":1674500431023,"stop":1674500463694,"duration":32671}},{"uid":"4657babf55609585","status":"passed","time":{"start":1674257839299,"stop":1674257872071,"duration":32772}},{"uid":"61f114104b193ad3","status":"passed","time":{"start":1674255098685,"stop":1674255146652,"duration":47967}},{"uid":"7e69fbb5c356d59","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080284700,"stop":1674080284747,"duration":47}},{"uid":"787905fa4e3a30e0","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005693,"stop":1674075005733,"duration":40}},{"uid":"f46c206fec567553","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623022,"stop":1674074623054,"duration":32}}]},"tags":[]},"source":"c86146dec7c16d1e.json","parameterValues":[]}