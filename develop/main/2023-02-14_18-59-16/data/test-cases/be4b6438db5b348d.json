{"uid":"be4b6438db5b348d","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1676401045550,"stop":1676401078169,"duration":32619},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676401045559,"stop":1676401045597,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"7736ca2ef5d682f5","name":"stage_yaml","source":"7736ca2ef5d682f5.yaml","type":"application/yaml","size":302},{"uid":"a0c4e003e8ab5751","name":"rest_request","source":"a0c4e003e8ab5751.yaml","type":"application/yaml","size":162},{"uid":"a9f67bcf14832936","name":"rest_response","source":"a9f67bcf14832936.yaml","type":"application/yaml","size":5750}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676401045598,"stop":1676401045612,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"d9e61a9e32a764b1","name":"stage_yaml","source":"d9e61a9e32a764b1.yaml","type":"application/yaml","size":797},{"uid":"587a78cd6c2f3709","name":"rest_request","source":"587a78cd6c2f3709.yaml","type":"application/yaml","size":216},{"uid":"1674f2708d3e57f2","name":"rest_response","source":"1674f2708d3e57f2.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676401045613,"stop":1676401077095,"duration":31482},"status":"passed","steps":[],"attachments":[{"uid":"caae3148e9db3ea6","name":"stage_yaml","source":"caae3148e9db3ea6.yaml","type":"application/yaml","size":682},{"uid":"c9b40507b6891a37","name":"rest_request","source":"c9b40507b6891a37.yaml","type":"application/yaml","size":161},{"uid":"b13e412398e5088b","name":"rest_response","source":"b13e412398e5088b.yaml","type":"application/yaml","size":587},{"uid":"8570f215ba2db416","name":"stage_yaml","source":"8570f215ba2db416.yaml","type":"application/yaml","size":682},{"uid":"18ad38dd1aab015a","name":"rest_request","source":"18ad38dd1aab015a.yaml","type":"application/yaml","size":161},{"uid":"5ae0d592876747d1","name":"rest_response","source":"5ae0d592876747d1.yaml","type":"application/yaml","size":608},{"uid":"15a0a85becdbfb45","name":"stage_yaml","source":"15a0a85becdbfb45.yaml","type":"application/yaml","size":682},{"uid":"88dff2eab071ef95","name":"rest_request","source":"88dff2eab071ef95.yaml","type":"application/yaml","size":161},{"uid":"5536b3e5eba69839","name":"rest_response","source":"5536b3e5eba69839.yaml","type":"application/yaml","size":608},{"uid":"825cbab703539d86","name":"stage_yaml","source":"825cbab703539d86.yaml","type":"application/yaml","size":682},{"uid":"e8624f85328489d8","name":"rest_request","source":"e8624f85328489d8.yaml","type":"application/yaml","size":161},{"uid":"da3dd1e5cf96d0d5","name":"rest_response","source":"da3dd1e5cf96d0d5.yaml","type":"application/yaml","size":608},{"uid":"74f38700d2cd2fb8","name":"stage_yaml","source":"74f38700d2cd2fb8.yaml","type":"application/yaml","size":682},{"uid":"833324c25380f741","name":"rest_request","source":"833324c25380f741.yaml","type":"application/yaml","size":161},{"uid":"fbc1a65ed591bf1c","name":"rest_response","source":"fbc1a65ed591bf1c.yaml","type":"application/yaml","size":608},{"uid":"17ef7116ca35a774","name":"stage_yaml","source":"17ef7116ca35a774.yaml","type":"application/yaml","size":682},{"uid":"ebadf44fdc388764","name":"rest_request","source":"ebadf44fdc388764.yaml","type":"application/yaml","size":161},{"uid":"9c6cabe67e2d3940","name":"rest_response","source":"9c6cabe67e2d3940.yaml","type":"application/yaml","size":608},{"uid":"6158f22a2f5c6aa4","name":"stage_yaml","source":"6158f22a2f5c6aa4.yaml","type":"application/yaml","size":682},{"uid":"c257670b9bc4286c","name":"rest_request","source":"c257670b9bc4286c.yaml","type":"application/yaml","size":161},{"uid":"e2a0bc16fdea4b8c","name":"rest_response","source":"e2a0bc16fdea4b8c.yaml","type":"application/yaml","size":608},{"uid":"a23b21db2a7c60d8","name":"stage_yaml","source":"a23b21db2a7c60d8.yaml","type":"application/yaml","size":682},{"uid":"f2ee886fbd5e37f6","name":"rest_request","source":"f2ee886fbd5e37f6.yaml","type":"application/yaml","size":161},{"uid":"3b45d711161a0f89","name":"rest_response","source":"3b45d711161a0f89.yaml","type":"application/yaml","size":608},{"uid":"88d387ffd91a5613","name":"stage_yaml","source":"88d387ffd91a5613.yaml","type":"application/yaml","size":682},{"uid":"6959b46b0b060729","name":"rest_request","source":"6959b46b0b060729.yaml","type":"application/yaml","size":161},{"uid":"85c462e0eb28b54b","name":"rest_response","source":"85c462e0eb28b54b.yaml","type":"application/yaml","size":608},{"uid":"4e70b64bd2797efa","name":"stage_yaml","source":"4e70b64bd2797efa.yaml","type":"application/yaml","size":682},{"uid":"95ee9f737de9421f","name":"rest_request","source":"95ee9f737de9421f.yaml","type":"application/yaml","size":161},{"uid":"d2fc1c56809e7988","name":"rest_response","source":"d2fc1c56809e7988.yaml","type":"application/yaml","size":608},{"uid":"a1c155f46ed6bf84","name":"stage_yaml","source":"a1c155f46ed6bf84.yaml","type":"application/yaml","size":682},{"uid":"c3c257a6d7f4193f","name":"rest_request","source":"c3c257a6d7f4193f.yaml","type":"application/yaml","size":161},{"uid":"830c101836ad22e4","name":"rest_response","source":"830c101836ad22e4.yaml","type":"application/yaml","size":608},{"uid":"a515632212d06d9a","name":"stage_yaml","source":"a515632212d06d9a.yaml","type":"application/yaml","size":682},{"uid":"cbace73815e07f13","name":"rest_request","source":"cbace73815e07f13.yaml","type":"application/yaml","size":161},{"uid":"cc0feb572ca5fe01","name":"rest_response","source":"cc0feb572ca5fe01.yaml","type":"application/yaml","size":608},{"uid":"16e6a336161938b1","name":"stage_yaml","source":"16e6a336161938b1.yaml","type":"application/yaml","size":682},{"uid":"7494a19cc4af3b2c","name":"rest_request","source":"7494a19cc4af3b2c.yaml","type":"application/yaml","size":161},{"uid":"889ef6b6ddbd1e7","name":"rest_response","source":"889ef6b6ddbd1e7.yaml","type":"application/yaml","size":608},{"uid":"2c0382bb34eee9e2","name":"stage_yaml","source":"2c0382bb34eee9e2.yaml","type":"application/yaml","size":682},{"uid":"5f446a318e636cc4","name":"rest_request","source":"5f446a318e636cc4.yaml","type":"application/yaml","size":161},{"uid":"4f9ad08664152d65","name":"rest_response","source":"4f9ad08664152d65.yaml","type":"application/yaml","size":608},{"uid":"72b762d2cb7c2f05","name":"stage_yaml","source":"72b762d2cb7c2f05.yaml","type":"application/yaml","size":682},{"uid":"58ae61f935283b7b","name":"rest_request","source":"58ae61f935283b7b.yaml","type":"application/yaml","size":161},{"uid":"26145682dd21578c","name":"rest_response","source":"26145682dd21578c.yaml","type":"application/yaml","size":608},{"uid":"4523a3e7d2d4e7ef","name":"stage_yaml","source":"4523a3e7d2d4e7ef.yaml","type":"application/yaml","size":682},{"uid":"a89dcf6198364d68","name":"rest_request","source":"a89dcf6198364d68.yaml","type":"application/yaml","size":161},{"uid":"cd9bef1bb4235ffe","name":"rest_response","source":"cd9bef1bb4235ffe.yaml","type":"application/yaml","size":608},{"uid":"b747128b1f99cf7c","name":"stage_yaml","source":"b747128b1f99cf7c.yaml","type":"application/yaml","size":682},{"uid":"30ac03131ee0d3a9","name":"rest_request","source":"30ac03131ee0d3a9.yaml","type":"application/yaml","size":161},{"uid":"e595d2215be344d0","name":"rest_response","source":"e595d2215be344d0.yaml","type":"application/yaml","size":608},{"uid":"8db3c70420d17ae4","name":"stage_yaml","source":"8db3c70420d17ae4.yaml","type":"application/yaml","size":682},{"uid":"bfc3fe72340f39e","name":"rest_request","source":"bfc3fe72340f39e.yaml","type":"application/yaml","size":161},{"uid":"c69b5b104e3aef04","name":"rest_response","source":"c69b5b104e3aef04.yaml","type":"application/yaml","size":608},{"uid":"b7fceda835d8a022","name":"stage_yaml","source":"b7fceda835d8a022.yaml","type":"application/yaml","size":682},{"uid":"3cf90454c4c647ed","name":"rest_request","source":"3cf90454c4c647ed.yaml","type":"application/yaml","size":161},{"uid":"d9f182017c6e5a54","name":"rest_response","source":"d9f182017c6e5a54.yaml","type":"application/yaml","size":608},{"uid":"309fd2013dab6f61","name":"stage_yaml","source":"309fd2013dab6f61.yaml","type":"application/yaml","size":682},{"uid":"21bd5a77149b7b13","name":"rest_request","source":"21bd5a77149b7b13.yaml","type":"application/yaml","size":161},{"uid":"3f7f3e0ffa003ed5","name":"rest_response","source":"3f7f3e0ffa003ed5.yaml","type":"application/yaml","size":608},{"uid":"c11951da1219fdce","name":"stage_yaml","source":"c11951da1219fdce.yaml","type":"application/yaml","size":682},{"uid":"3a6de3c200a4642f","name":"rest_request","source":"3a6de3c200a4642f.yaml","type":"application/yaml","size":161},{"uid":"d2ee3b078e671f40","name":"rest_response","source":"d2ee3b078e671f40.yaml","type":"application/yaml","size":608},{"uid":"690214a5caa37534","name":"stage_yaml","source":"690214a5caa37534.yaml","type":"application/yaml","size":682},{"uid":"fd38ec5252c8e164","name":"rest_request","source":"fd38ec5252c8e164.yaml","type":"application/yaml","size":161},{"uid":"70a1e32af16822e7","name":"rest_response","source":"70a1e32af16822e7.yaml","type":"application/yaml","size":608},{"uid":"4fb47c08bb5a63dd","name":"stage_yaml","source":"4fb47c08bb5a63dd.yaml","type":"application/yaml","size":682},{"uid":"349b489a10039037","name":"rest_request","source":"349b489a10039037.yaml","type":"application/yaml","size":161},{"uid":"ae6c10d30701fa38","name":"rest_response","source":"ae6c10d30701fa38.yaml","type":"application/yaml","size":608},{"uid":"d295bac39fb981f","name":"stage_yaml","source":"d295bac39fb981f.yaml","type":"application/yaml","size":682},{"uid":"ccb489ae808d2b81","name":"rest_request","source":"ccb489ae808d2b81.yaml","type":"application/yaml","size":161},{"uid":"4c8c80705fc432c5","name":"rest_response","source":"4c8c80705fc432c5.yaml","type":"application/yaml","size":608},{"uid":"4750697950495667","name":"stage_yaml","source":"4750697950495667.yaml","type":"application/yaml","size":682},{"uid":"4fa8278bb1312ff7","name":"rest_request","source":"4fa8278bb1312ff7.yaml","type":"application/yaml","size":161},{"uid":"b89ccbf394d5c4b1","name":"rest_response","source":"b89ccbf394d5c4b1.yaml","type":"application/yaml","size":608},{"uid":"66ffcccabd20a9b3","name":"stage_yaml","source":"66ffcccabd20a9b3.yaml","type":"application/yaml","size":682},{"uid":"d86b25a454c5e63b","name":"rest_request","source":"d86b25a454c5e63b.yaml","type":"application/yaml","size":161},{"uid":"198fa60f46e7031c","name":"rest_response","source":"198fa60f46e7031c.yaml","type":"application/yaml","size":608},{"uid":"36b4615d9d6cc37d","name":"stage_yaml","source":"36b4615d9d6cc37d.yaml","type":"application/yaml","size":682},{"uid":"2aeb01c36fdc1183","name":"rest_request","source":"2aeb01c36fdc1183.yaml","type":"application/yaml","size":161},{"uid":"136d3fe08498bbf5","name":"rest_response","source":"136d3fe08498bbf5.yaml","type":"application/yaml","size":608},{"uid":"f78e58acdcaee01b","name":"stage_yaml","source":"f78e58acdcaee01b.yaml","type":"application/yaml","size":682},{"uid":"f7735db8775b5c6c","name":"rest_request","source":"f7735db8775b5c6c.yaml","type":"application/yaml","size":161},{"uid":"899637dad6f74f16","name":"rest_response","source":"899637dad6f74f16.yaml","type":"application/yaml","size":608},{"uid":"5e4cd8363d4d1b3f","name":"stage_yaml","source":"5e4cd8363d4d1b3f.yaml","type":"application/yaml","size":682},{"uid":"447e41d873c80922","name":"rest_request","source":"447e41d873c80922.yaml","type":"application/yaml","size":161},{"uid":"351bc784009a2d1c","name":"rest_response","source":"351bc784009a2d1c.yaml","type":"application/yaml","size":608},{"uid":"6cdf0126c4aed29b","name":"stage_yaml","source":"6cdf0126c4aed29b.yaml","type":"application/yaml","size":682},{"uid":"31a71469da715f07","name":"rest_request","source":"31a71469da715f07.yaml","type":"application/yaml","size":161},{"uid":"26ff854c5616f23a","name":"rest_response","source":"26ff854c5616f23a.yaml","type":"application/yaml","size":608},{"uid":"8e38939ce87473fa","name":"stage_yaml","source":"8e38939ce87473fa.yaml","type":"application/yaml","size":682},{"uid":"12eab94cb10cc68e","name":"rest_request","source":"12eab94cb10cc68e.yaml","type":"application/yaml","size":161},{"uid":"1247e4babe0c8d9c","name":"rest_response","source":"1247e4babe0c8d9c.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1676401077096,"stop":1676401077111,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"c25fa02f10f975ce","name":"stage_yaml","source":"c25fa02f10f975ce.yaml","type":"application/yaml","size":2395},{"uid":"62d4ac599660d9ac","name":"rest_request","source":"62d4ac599660d9ac.yaml","type":"application/yaml","size":161},{"uid":"1d9d4eca33baebc1","name":"rest_response","source":"1d9d4eca33baebc1.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676401077112,"stop":1676401077123,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"64c674a0d8f837e6","name":"stage_yaml","source":"64c674a0d8f837e6.yaml","type":"application/yaml","size":978},{"uid":"1f9a52f343d3cc70","name":"rest_request","source":"1f9a52f343d3cc70.yaml","type":"application/yaml","size":145},{"uid":"ac2ce405bd060663","name":"rest_response","source":"ac2ce405bd060663.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1676401077124,"stop":1676401077137,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"849c564d1232f995","name":"stage_yaml","source":"849c564d1232f995.yaml","type":"application/yaml","size":816},{"uid":"f6ffdfc5fc4139ed","name":"rest_request","source":"f6ffdfc5fc4139ed.yaml","type":"application/yaml","size":219},{"uid":"e095a254ebfefd2","name":"rest_response","source":"e095a254ebfefd2.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1676401077139,"stop":1676401078153,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"ae6bb0c6ca207345","name":"stage_yaml","source":"ae6bb0c6ca207345.yaml","type":"application/yaml","size":693},{"uid":"e8ebf2d898916916","name":"rest_request","source":"e8ebf2d898916916.yaml","type":"application/yaml","size":161},{"uid":"cc4e1cfd0f510962","name":"rest_response","source":"cc4e1cfd0f510962.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1676401078154,"stop":1676401078169,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"23f58e2a9465690f","name":"stage_yaml","source":"23f58e2a9465690f.yaml","type":"application/yaml","size":2549},{"uid":"5d887763134a506f","name":"rest_request","source":"5d887763134a506f.yaml","type":"application/yaml","size":161},{"uid":"bb1565449282e9a9","name":"rest_response","source":"bb1565449282e9a9.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"2d4be7c44a08ce45","name":"log","source":"2d4be7c44a08ce45.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"6b00b26caac0"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"56e8f7fd60dbbc7f","status":"passed","time":{"start":1676400037143,"stop":1676400069726,"duration":32583}},{"uid":"dadcf9b04d98696f","status":"passed","time":{"start":1676324764693,"stop":1676324797333,"duration":32640}},{"uid":"e68cd2560b96d8bc","status":"passed","time":{"start":1674515544898,"stop":1674515577491,"duration":32593}},{"uid":"75bc9fe4ff46b849","status":"passed","time":{"start":1674505718646,"stop":1674505720853,"duration":2207}},{"uid":"7994173b87f76ee4","status":"passed","time":{"start":1674500526963,"stop":1674500529126,"duration":2163}},{"uid":"d3c1fd66308b1580","status":"passed","time":{"start":1674257934555,"stop":1674257936714,"duration":2159}},{"uid":"7378a7cdf4d39cac","status":"passed","time":{"start":1674255255677,"stop":1674255273083,"duration":17406}},{"uid":"fc16bb501e6af1dd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080286390,"stop":1674080286435,"duration":45}},{"uid":"34e35d6cba29643d","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005824,"stop":1674075005855,"duration":31}},{"uid":"424446345afae529","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623136,"stop":1674074623166,"duration":30}}]},"tags":[]},"source":"be4b6438db5b348d.json","parameterValues":[]}