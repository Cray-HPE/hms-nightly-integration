{"uid":"ee8043ac6b81568d","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1676400590158,"stop":1676400622792,"duration":32634},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676400590167,"stop":1676400590204,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"9bb9cf2bf98d958e","name":"stage_yaml","source":"9bb9cf2bf98d958e.yaml","type":"application/yaml","size":302},{"uid":"fb0f41bb59d109f4","name":"rest_request","source":"fb0f41bb59d109f4.yaml","type":"application/yaml","size":162},{"uid":"3da6b4b0d4dd27f9","name":"rest_response","source":"3da6b4b0d4dd27f9.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1676400590205,"stop":1676400590217,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"d877f333a9cefe63","name":"stage_yaml","source":"d877f333a9cefe63.yaml","type":"application/yaml","size":775},{"uid":"1f71f3d5b64de70a","name":"rest_request","source":"1f71f3d5b64de70a.yaml","type":"application/yaml","size":211},{"uid":"b188c9eb16959ae0","name":"rest_response","source":"b188c9eb16959ae0.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676400590220,"stop":1676400591235,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"6fdea84685510a9a","name":"stage_yaml","source":"6fdea84685510a9a.yaml","type":"application/yaml","size":661},{"uid":"cffa639e28597017","name":"rest_request","source":"cffa639e28597017.yaml","type":"application/yaml","size":161},{"uid":"b6dc165f8d5608ba","name":"rest_response","source":"b6dc165f8d5608ba.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676400591236,"stop":1676400591251,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"3474eb8d21d8091c","name":"stage_yaml","source":"3474eb8d21d8091c.yaml","type":"application/yaml","size":2375},{"uid":"b16f472b12113f9c","name":"rest_request","source":"b16f472b12113f9c.yaml","type":"application/yaml","size":161},{"uid":"9f9a1f89acdeee88","name":"rest_response","source":"9f9a1f89acdeee88.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1676400591252,"stop":1676400591264,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"7943ca99a0fe2268","name":"stage_yaml","source":"7943ca99a0fe2268.yaml","type":"application/yaml","size":976},{"uid":"30d7d8a8925def8c","name":"rest_request","source":"30d7d8a8925def8c.yaml","type":"application/yaml","size":145},{"uid":"47bcbfffa60b5f97","name":"rest_response","source":"47bcbfffa60b5f97.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1676400591264,"stop":1676400591276,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"488b958f8cc470ed","name":"stage_yaml","source":"488b958f8cc470ed.yaml","type":"application/yaml","size":795},{"uid":"9ce1f9a37248283a","name":"rest_request","source":"9ce1f9a37248283a.yaml","type":"application/yaml","size":216},{"uid":"a144ba8cfba30563","name":"rest_response","source":"a144ba8cfba30563.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1676400591278,"stop":1676400622761,"duration":31483},"status":"passed","steps":[],"attachments":[{"uid":"8200c287513b5c62","name":"stage_yaml","source":"8200c287513b5c62.yaml","type":"application/yaml","size":684},{"uid":"c4317d0d86d99a71","name":"rest_request","source":"c4317d0d86d99a71.yaml","type":"application/yaml","size":161},{"uid":"cd65154c027a0e74","name":"rest_response","source":"cd65154c027a0e74.yaml","type":"application/yaml","size":572},{"uid":"154398df58118bfc","name":"stage_yaml","source":"154398df58118bfc.yaml","type":"application/yaml","size":684},{"uid":"edad8987ae95d7bc","name":"rest_request","source":"edad8987ae95d7bc.yaml","type":"application/yaml","size":161},{"uid":"e8fd168ea194a6b1","name":"rest_response","source":"e8fd168ea194a6b1.yaml","type":"application/yaml","size":608},{"uid":"3b45e1289bb0074a","name":"stage_yaml","source":"3b45e1289bb0074a.yaml","type":"application/yaml","size":684},{"uid":"ee4c8935c0160b85","name":"rest_request","source":"ee4c8935c0160b85.yaml","type":"application/yaml","size":161},{"uid":"eb526830201ae553","name":"rest_response","source":"eb526830201ae553.yaml","type":"application/yaml","size":608},{"uid":"af01bfd6af7ff275","name":"stage_yaml","source":"af01bfd6af7ff275.yaml","type":"application/yaml","size":684},{"uid":"fc393d76225743ca","name":"rest_request","source":"fc393d76225743ca.yaml","type":"application/yaml","size":161},{"uid":"169deac5c849847","name":"rest_response","source":"169deac5c849847.yaml","type":"application/yaml","size":608},{"uid":"81b822495d8f33f4","name":"stage_yaml","source":"81b822495d8f33f4.yaml","type":"application/yaml","size":684},{"uid":"802961c586835f4","name":"rest_request","source":"802961c586835f4.yaml","type":"application/yaml","size":161},{"uid":"179184885dc7dcf2","name":"rest_response","source":"179184885dc7dcf2.yaml","type":"application/yaml","size":608},{"uid":"eb13ac66d3a5c4e0","name":"stage_yaml","source":"eb13ac66d3a5c4e0.yaml","type":"application/yaml","size":684},{"uid":"88ee6b7a1ea73e4d","name":"rest_request","source":"88ee6b7a1ea73e4d.yaml","type":"application/yaml","size":161},{"uid":"8ce763781f6c41c0","name":"rest_response","source":"8ce763781f6c41c0.yaml","type":"application/yaml","size":608},{"uid":"827c94a68a423f81","name":"stage_yaml","source":"827c94a68a423f81.yaml","type":"application/yaml","size":684},{"uid":"3ff5e981f3215e81","name":"rest_request","source":"3ff5e981f3215e81.yaml","type":"application/yaml","size":161},{"uid":"1c937a0e8c9a6994","name":"rest_response","source":"1c937a0e8c9a6994.yaml","type":"application/yaml","size":608},{"uid":"5db2bfcdc02cafe3","name":"stage_yaml","source":"5db2bfcdc02cafe3.yaml","type":"application/yaml","size":684},{"uid":"e4952c1f4f60472c","name":"rest_request","source":"e4952c1f4f60472c.yaml","type":"application/yaml","size":161},{"uid":"e01f2e66b748d5d4","name":"rest_response","source":"e01f2e66b748d5d4.yaml","type":"application/yaml","size":608},{"uid":"5ca957ed5d45077e","name":"stage_yaml","source":"5ca957ed5d45077e.yaml","type":"application/yaml","size":684},{"uid":"956655b43720306b","name":"rest_request","source":"956655b43720306b.yaml","type":"application/yaml","size":161},{"uid":"fbbb2220ce078d7","name":"rest_response","source":"fbbb2220ce078d7.yaml","type":"application/yaml","size":608},{"uid":"7b8200831802f5bf","name":"stage_yaml","source":"7b8200831802f5bf.yaml","type":"application/yaml","size":684},{"uid":"7811ba816688b563","name":"rest_request","source":"7811ba816688b563.yaml","type":"application/yaml","size":161},{"uid":"a582af534a98bbbd","name":"rest_response","source":"a582af534a98bbbd.yaml","type":"application/yaml","size":608},{"uid":"6bef273a1eae5b72","name":"stage_yaml","source":"6bef273a1eae5b72.yaml","type":"application/yaml","size":684},{"uid":"80621e1818325ad5","name":"rest_request","source":"80621e1818325ad5.yaml","type":"application/yaml","size":161},{"uid":"ab92ad8d057b4e8c","name":"rest_response","source":"ab92ad8d057b4e8c.yaml","type":"application/yaml","size":608},{"uid":"fb1105699c780962","name":"stage_yaml","source":"fb1105699c780962.yaml","type":"application/yaml","size":684},{"uid":"2865b1ff4eca0273","name":"rest_request","source":"2865b1ff4eca0273.yaml","type":"application/yaml","size":161},{"uid":"4de1ec6b2314d9e","name":"rest_response","source":"4de1ec6b2314d9e.yaml","type":"application/yaml","size":608},{"uid":"5eeb04569c720494","name":"stage_yaml","source":"5eeb04569c720494.yaml","type":"application/yaml","size":684},{"uid":"29ad6bb37d67edf1","name":"rest_request","source":"29ad6bb37d67edf1.yaml","type":"application/yaml","size":161},{"uid":"bbf7ca97b95873d3","name":"rest_response","source":"bbf7ca97b95873d3.yaml","type":"application/yaml","size":608},{"uid":"6f1915f78bb90c67","name":"stage_yaml","source":"6f1915f78bb90c67.yaml","type":"application/yaml","size":684},{"uid":"115d9caff5e0ab25","name":"rest_request","source":"115d9caff5e0ab25.yaml","type":"application/yaml","size":161},{"uid":"867eea7b9c429449","name":"rest_response","source":"867eea7b9c429449.yaml","type":"application/yaml","size":608},{"uid":"363b054107b4d697","name":"stage_yaml","source":"363b054107b4d697.yaml","type":"application/yaml","size":684},{"uid":"210c67de71f43d28","name":"rest_request","source":"210c67de71f43d28.yaml","type":"application/yaml","size":161},{"uid":"77e069949e079de3","name":"rest_response","source":"77e069949e079de3.yaml","type":"application/yaml","size":608},{"uid":"a438dd9df3fe8c8b","name":"stage_yaml","source":"a438dd9df3fe8c8b.yaml","type":"application/yaml","size":684},{"uid":"9b3d0df76462f90c","name":"rest_request","source":"9b3d0df76462f90c.yaml","type":"application/yaml","size":161},{"uid":"d5a88548a0d9325f","name":"rest_response","source":"d5a88548a0d9325f.yaml","type":"application/yaml","size":608},{"uid":"561c80d4cfd5003b","name":"stage_yaml","source":"561c80d4cfd5003b.yaml","type":"application/yaml","size":684},{"uid":"28197e15f6f447c5","name":"rest_request","source":"28197e15f6f447c5.yaml","type":"application/yaml","size":161},{"uid":"5865c8473846d416","name":"rest_response","source":"5865c8473846d416.yaml","type":"application/yaml","size":608},{"uid":"27c591d7176ad76a","name":"stage_yaml","source":"27c591d7176ad76a.yaml","type":"application/yaml","size":684},{"uid":"a28f3239888a40da","name":"rest_request","source":"a28f3239888a40da.yaml","type":"application/yaml","size":161},{"uid":"49e0e3945995c310","name":"rest_response","source":"49e0e3945995c310.yaml","type":"application/yaml","size":608},{"uid":"bdd37eb6165ea0bb","name":"stage_yaml","source":"bdd37eb6165ea0bb.yaml","type":"application/yaml","size":684},{"uid":"a5ab0af4778c94c2","name":"rest_request","source":"a5ab0af4778c94c2.yaml","type":"application/yaml","size":161},{"uid":"b6b5ebc254f65c82","name":"rest_response","source":"b6b5ebc254f65c82.yaml","type":"application/yaml","size":608},{"uid":"929c94faf78b3749","name":"stage_yaml","source":"929c94faf78b3749.yaml","type":"application/yaml","size":684},{"uid":"5c731b8bf9def049","name":"rest_request","source":"5c731b8bf9def049.yaml","type":"application/yaml","size":161},{"uid":"62a8b7c7ff891e4f","name":"rest_response","source":"62a8b7c7ff891e4f.yaml","type":"application/yaml","size":608},{"uid":"fc81bc533ebe14ec","name":"stage_yaml","source":"fc81bc533ebe14ec.yaml","type":"application/yaml","size":684},{"uid":"c17a15b72c590415","name":"rest_request","source":"c17a15b72c590415.yaml","type":"application/yaml","size":161},{"uid":"a71ced8826bb39aa","name":"rest_response","source":"a71ced8826bb39aa.yaml","type":"application/yaml","size":608},{"uid":"9c9977aaa0e394f","name":"stage_yaml","source":"9c9977aaa0e394f.yaml","type":"application/yaml","size":684},{"uid":"9e327c2be712597","name":"rest_request","source":"9e327c2be712597.yaml","type":"application/yaml","size":161},{"uid":"546c995a85b9b14f","name":"rest_response","source":"546c995a85b9b14f.yaml","type":"application/yaml","size":608},{"uid":"d623a403f8300a0f","name":"stage_yaml","source":"d623a403f8300a0f.yaml","type":"application/yaml","size":684},{"uid":"919b11ab339f8155","name":"rest_request","source":"919b11ab339f8155.yaml","type":"application/yaml","size":161},{"uid":"26aed6278569b192","name":"rest_response","source":"26aed6278569b192.yaml","type":"application/yaml","size":608},{"uid":"180777c08b0ab544","name":"stage_yaml","source":"180777c08b0ab544.yaml","type":"application/yaml","size":684},{"uid":"7be8da92d6500494","name":"rest_request","source":"7be8da92d6500494.yaml","type":"application/yaml","size":161},{"uid":"c4816e708b52f417","name":"rest_response","source":"c4816e708b52f417.yaml","type":"application/yaml","size":608},{"uid":"51346a53f8b77e13","name":"stage_yaml","source":"51346a53f8b77e13.yaml","type":"application/yaml","size":684},{"uid":"67170aeab8351901","name":"rest_request","source":"67170aeab8351901.yaml","type":"application/yaml","size":161},{"uid":"281c12fc65ff7ed1","name":"rest_response","source":"281c12fc65ff7ed1.yaml","type":"application/yaml","size":608},{"uid":"1eca4e6864d3ea3b","name":"stage_yaml","source":"1eca4e6864d3ea3b.yaml","type":"application/yaml","size":684},{"uid":"ac9120caa4852544","name":"rest_request","source":"ac9120caa4852544.yaml","type":"application/yaml","size":161},{"uid":"451dbec073761a1d","name":"rest_response","source":"451dbec073761a1d.yaml","type":"application/yaml","size":608},{"uid":"44d36b88a3ffc7bc","name":"stage_yaml","source":"44d36b88a3ffc7bc.yaml","type":"application/yaml","size":684},{"uid":"6247a09c0df32ba7","name":"rest_request","source":"6247a09c0df32ba7.yaml","type":"application/yaml","size":161},{"uid":"f55950dcf4e15d97","name":"rest_response","source":"f55950dcf4e15d97.yaml","type":"application/yaml","size":608},{"uid":"c89cb82fa24b2bca","name":"stage_yaml","source":"c89cb82fa24b2bca.yaml","type":"application/yaml","size":684},{"uid":"1dcc786873704dcd","name":"rest_request","source":"1dcc786873704dcd.yaml","type":"application/yaml","size":161},{"uid":"6f76fe4ae89da0b1","name":"rest_response","source":"6f76fe4ae89da0b1.yaml","type":"application/yaml","size":608},{"uid":"aaaf10aa66a2e68b","name":"stage_yaml","source":"aaaf10aa66a2e68b.yaml","type":"application/yaml","size":684},{"uid":"d30c79d47b4b6a2b","name":"rest_request","source":"d30c79d47b4b6a2b.yaml","type":"application/yaml","size":161},{"uid":"e52f9cb59d6eb564","name":"rest_response","source":"e52f9cb59d6eb564.yaml","type":"application/yaml","size":608},{"uid":"631bda8d9974535f","name":"stage_yaml","source":"631bda8d9974535f.yaml","type":"application/yaml","size":684},{"uid":"b6650d5e12178ad","name":"rest_request","source":"b6650d5e12178ad.yaml","type":"application/yaml","size":161},{"uid":"ab1ea6fc3bf80a","name":"rest_response","source":"ab1ea6fc3bf80a.yaml","type":"application/yaml","size":608},{"uid":"bd10709707124770","name":"stage_yaml","source":"bd10709707124770.yaml","type":"application/yaml","size":684},{"uid":"70a4d4e2254c0bd2","name":"rest_request","source":"70a4d4e2254c0bd2.yaml","type":"application/yaml","size":161},{"uid":"e6e491b49cbabdbf","name":"rest_response","source":"e6e491b49cbabdbf.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1676400622762,"stop":1676400622778,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"272ea059fd423e3b","name":"stage_yaml","source":"272ea059fd423e3b.yaml","type":"application/yaml","size":2336},{"uid":"c61020a12122b5f","name":"rest_request","source":"c61020a12122b5f.yaml","type":"application/yaml","size":161},{"uid":"22b60bda1acadee0","name":"rest_response","source":"22b60bda1acadee0.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1676400622779,"stop":1676400622792,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"a28e94731cb5dbf","name":"stage_yaml","source":"a28e94731cb5dbf.yaml","type":"application/yaml","size":978},{"uid":"844b35aa6aec8460","name":"rest_request","source":"844b35aa6aec8460.yaml","type":"application/yaml","size":145},{"uid":"578a8e02de75eb78","name":"rest_response","source":"578a8e02de75eb78.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"d0885920fd5031df","name":"log","source":"d0885920fd5031df.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"6b00b26caac0"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"e063e4c7b9ddbb6d","status":"passed","time":{"start":1676399582270,"stop":1676399614890,"duration":32620}},{"uid":"a08f0fb12f37f14b","status":"passed","time":{"start":1676324308069,"stop":1676324340838,"duration":32769}},{"uid":"80ef640ccc769ba6","status":"passed","time":{"start":1674515135445,"stop":1674515152857,"duration":17412}},{"uid":"e39f8b3abcbef727","status":"passed","time":{"start":1674505198362,"stop":1674505231270,"duration":32908}},{"uid":"d4a9140df39ed9d5","status":"passed","time":{"start":1674500025702,"stop":1674500043119,"duration":17417}},{"uid":"33e8e355e3ea7392","status":"passed","time":{"start":1674257402786,"stop":1674257481316,"duration":78530}},{"uid":"ab2961c357340a1","status":"passed","time":{"start":1674254723736,"stop":1674254741154,"duration":17418}},{"uid":"6001dae660fb87e0","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080274145,"stop":1674080275280,"duration":1135}},{"uid":"79a5f22179955b39","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005111,"stop":1674075005146,"duration":35}},{"uid":"a9725d25de83b127","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622465,"stop":1674074622502,"duration":37}}]},"tags":[]},"source":"ee8043ac6b81568d.json","parameterValues":[]}