{"uid":"61704ade98b87efe","name":"Verify transitions powers off a ComputeModule that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a ComputeModule that is powered on","historyId":"f1bb6e85db6771d7f52a9148f7e0fa62","time":{"start":1676400720675,"stop":1676400738115,"duration":17440},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a ComputeModule from HSM to be used in later stages","time":{"start":1676400720684,"stop":1676400720699,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"892d6830ed324eb4","name":"stage_yaml","source":"892d6830ed324eb4.yaml","type":"application/yaml","size":296},{"uid":"be21c97c21270b3d","name":"rest_request","source":"be21c97c21270b3d.yaml","type":"application/yaml","size":145},{"uid":"d311740b6b1000d7","name":"rest_response","source":"d311740b6b1000d7.yaml","type":"application/yaml","size":1304}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target ComputeModule on to prepare it for the test case","time":{"start":1676400720700,"stop":1676400720712,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"11fa2ad63197a909","name":"stage_yaml","source":"11fa2ad63197a909.yaml","type":"application/yaml","size":794},{"uid":"906044e555b7e943","name":"rest_request","source":"906044e555b7e943.yaml","type":"application/yaml","size":207},{"uid":"260a6cf3af5aab6d","name":"rest_response","source":"260a6cf3af5aab6d.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676400720714,"stop":1676400721728,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"cba1cafd47510cca","name":"stage_yaml","source":"cba1cafd47510cca.yaml","type":"application/yaml","size":661},{"uid":"4d27e74ab31e46f","name":"rest_request","source":"4d27e74ab31e46f.yaml","type":"application/yaml","size":161},{"uid":"6686cc36356bff82","name":"rest_response","source":"6686cc36356bff82.yaml","type":"application/yaml","size":587}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676400721729,"stop":1676400721744,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"a81aa54479990799","name":"stage_yaml","source":"a81aa54479990799.yaml","type":"application/yaml","size":2385},{"uid":"3bf488c458854206","name":"rest_request","source":"3bf488c458854206.yaml","type":"application/yaml","size":161},{"uid":"6a38cacf12a57358","name":"rest_response","source":"6a38cacf12a57358.yaml","type":"application/yaml","size":587}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target ComputeModule is powered on using power-status","time":{"start":1676400721745,"stop":1676400721756,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"29ddf5c83ca9455","name":"stage_yaml","source":"29ddf5c83ca9455.yaml","type":"application/yaml","size":1005},{"uid":"c4454708813da95","name":"rest_request","source":"c4454708813da95.yaml","type":"application/yaml","size":141},{"uid":"72e604f2b5f0237a","name":"rest_response","source":"72e604f2b5f0237a.yaml","type":"application/yaml","size":434}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target ComputeModule off with a force-off transition","time":{"start":1676400721757,"stop":1676400721769,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"8316c1cc6a9dd448","name":"stage_yaml","source":"8316c1cc6a9dd448.yaml","type":"application/yaml","size":814},{"uid":"53dfc5f4147b7669","name":"rest_request","source":"53dfc5f4147b7669.yaml","type":"application/yaml","size":212},{"uid":"f7500b1a9b9faa4b","name":"rest_response","source":"f7500b1a9b9faa4b.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1676400721772,"stop":1676400738084,"duration":16312},"status":"passed","steps":[],"attachments":[{"uid":"d27d8ef040b64e3f","name":"stage_yaml","source":"d27d8ef040b64e3f.yaml","type":"application/yaml","size":684},{"uid":"f98451de4ea96bcd","name":"rest_request","source":"f98451de4ea96bcd.yaml","type":"application/yaml","size":161},{"uid":"3f91028d45a91f8f","name":"rest_response","source":"3f91028d45a91f8f.yaml","type":"application/yaml","size":583},{"uid":"ed17b7974a4bd111","name":"stage_yaml","source":"ed17b7974a4bd111.yaml","type":"application/yaml","size":684},{"uid":"2fdc80b6a51665d6","name":"rest_request","source":"2fdc80b6a51665d6.yaml","type":"application/yaml","size":161},{"uid":"bfb05169a2c2ae5e","name":"rest_response","source":"bfb05169a2c2ae5e.yaml","type":"application/yaml","size":604},{"uid":"6dc354f40976fcd","name":"stage_yaml","source":"6dc354f40976fcd.yaml","type":"application/yaml","size":684},{"uid":"27a86a14eb69148f","name":"rest_request","source":"27a86a14eb69148f.yaml","type":"application/yaml","size":161},{"uid":"95fd15024cbe4b81","name":"rest_response","source":"95fd15024cbe4b81.yaml","type":"application/yaml","size":604},{"uid":"6ecfaf81c7a46c91","name":"stage_yaml","source":"6ecfaf81c7a46c91.yaml","type":"application/yaml","size":684},{"uid":"3aa0308e6ab0c018","name":"rest_request","source":"3aa0308e6ab0c018.yaml","type":"application/yaml","size":161},{"uid":"d210a0d06c64f4cf","name":"rest_response","source":"d210a0d06c64f4cf.yaml","type":"application/yaml","size":604},{"uid":"afbd1c07eafa7944","name":"stage_yaml","source":"afbd1c07eafa7944.yaml","type":"application/yaml","size":684},{"uid":"d3b09223b58386a1","name":"rest_request","source":"d3b09223b58386a1.yaml","type":"application/yaml","size":161},{"uid":"68a740f775a299f9","name":"rest_response","source":"68a740f775a299f9.yaml","type":"application/yaml","size":604},{"uid":"6811af61d4361a5e","name":"stage_yaml","source":"6811af61d4361a5e.yaml","type":"application/yaml","size":684},{"uid":"712f3abb6679eada","name":"rest_request","source":"712f3abb6679eada.yaml","type":"application/yaml","size":161},{"uid":"ad3a8f6526772f47","name":"rest_response","source":"ad3a8f6526772f47.yaml","type":"application/yaml","size":604},{"uid":"9a01ce5da3646a93","name":"stage_yaml","source":"9a01ce5da3646a93.yaml","type":"application/yaml","size":684},{"uid":"cc4d882ecb3a1788","name":"rest_request","source":"cc4d882ecb3a1788.yaml","type":"application/yaml","size":161},{"uid":"55eae3eae4f0a52c","name":"rest_response","source":"55eae3eae4f0a52c.yaml","type":"application/yaml","size":604},{"uid":"70757dd0743f95b5","name":"stage_yaml","source":"70757dd0743f95b5.yaml","type":"application/yaml","size":684},{"uid":"df8c35699d0ebc21","name":"rest_request","source":"df8c35699d0ebc21.yaml","type":"application/yaml","size":161},{"uid":"5936d40afec4e1bf","name":"rest_response","source":"5936d40afec4e1bf.yaml","type":"application/yaml","size":604},{"uid":"f35df70b37d3e93c","name":"stage_yaml","source":"f35df70b37d3e93c.yaml","type":"application/yaml","size":684},{"uid":"55844e612fe5c28d","name":"rest_request","source":"55844e612fe5c28d.yaml","type":"application/yaml","size":161},{"uid":"b7cc6ab2c1a3dffc","name":"rest_response","source":"b7cc6ab2c1a3dffc.yaml","type":"application/yaml","size":604},{"uid":"37e775bb2b7cda5e","name":"stage_yaml","source":"37e775bb2b7cda5e.yaml","type":"application/yaml","size":684},{"uid":"8ff8ad717b0f42f6","name":"rest_request","source":"8ff8ad717b0f42f6.yaml","type":"application/yaml","size":161},{"uid":"157e4bede617a86f","name":"rest_response","source":"157e4bede617a86f.yaml","type":"application/yaml","size":604},{"uid":"c4638993bce38f37","name":"stage_yaml","source":"c4638993bce38f37.yaml","type":"application/yaml","size":684},{"uid":"bcd5e9efd7898a98","name":"rest_request","source":"bcd5e9efd7898a98.yaml","type":"application/yaml","size":161},{"uid":"177fa6f8d2428274","name":"rest_response","source":"177fa6f8d2428274.yaml","type":"application/yaml","size":604},{"uid":"bf26f245ab48db77","name":"stage_yaml","source":"bf26f245ab48db77.yaml","type":"application/yaml","size":684},{"uid":"e1ddb63355c89ae0","name":"rest_request","source":"e1ddb63355c89ae0.yaml","type":"application/yaml","size":161},{"uid":"fd2d49af7cce232a","name":"rest_response","source":"fd2d49af7cce232a.yaml","type":"application/yaml","size":604},{"uid":"146a42c83114d474","name":"stage_yaml","source":"146a42c83114d474.yaml","type":"application/yaml","size":684},{"uid":"192f33fd4fae512d","name":"rest_request","source":"192f33fd4fae512d.yaml","type":"application/yaml","size":161},{"uid":"a55a2545d069230a","name":"rest_response","source":"a55a2545d069230a.yaml","type":"application/yaml","size":604},{"uid":"517ab2682ea776f3","name":"stage_yaml","source":"517ab2682ea776f3.yaml","type":"application/yaml","size":684},{"uid":"d43d23be32cfb87f","name":"rest_request","source":"d43d23be32cfb87f.yaml","type":"application/yaml","size":161},{"uid":"b1af6dfa48a57264","name":"rest_response","source":"b1af6dfa48a57264.yaml","type":"application/yaml","size":604},{"uid":"8803cfd47715c66b","name":"stage_yaml","source":"8803cfd47715c66b.yaml","type":"application/yaml","size":684},{"uid":"6e4fb50ab1fba1b6","name":"rest_request","source":"6e4fb50ab1fba1b6.yaml","type":"application/yaml","size":161},{"uid":"9d834c3dba2b9d8d","name":"rest_response","source":"9d834c3dba2b9d8d.yaml","type":"application/yaml","size":604},{"uid":"18a1dc417525c8ae","name":"stage_yaml","source":"18a1dc417525c8ae.yaml","type":"application/yaml","size":684},{"uid":"6b4343da7afb2fa0","name":"rest_request","source":"6b4343da7afb2fa0.yaml","type":"application/yaml","size":161},{"uid":"e761dc004e801e18","name":"rest_response","source":"e761dc004e801e18.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1676400738085,"stop":1676400738101,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"5b5e5b632e2ee03","name":"stage_yaml","source":"5b5e5b632e2ee03.yaml","type":"application/yaml","size":2346},{"uid":"a7d17e1f5c03cd67","name":"rest_request","source":"a7d17e1f5c03cd67.yaml","type":"application/yaml","size":161},{"uid":"e9bacc615bdb41b9","name":"rest_response","source":"e9bacc615bdb41b9.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target ComputeModule is powered off using power-status","time":{"start":1676400738102,"stop":1676400738114,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"a487ac9d5fbe2860","name":"stage_yaml","source":"a487ac9d5fbe2860.yaml","type":"application/yaml","size":1007},{"uid":"26e1aece489b5f49","name":"rest_request","source":"26e1aece489b5f49.yaml","type":"application/yaml","size":141},{"uid":"1fa018967aad8ad0","name":"rest_response","source":"1fa018967aad8ad0.yaml","type":"application/yaml","size":435}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"57059cb5f3734100","name":"log","source":"57059cb5f3734100.txt","type":"text/plain","size":57833}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"6b00b26caac0"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"74297dbbe45d8fdc","status":"passed","time":{"start":1676399712857,"stop":1676399745455,"duration":32598}},{"uid":"430e8da183a79426","status":"passed","time":{"start":1676324438975,"stop":1676324456374,"duration":17399}},{"uid":"caf1adcd1885160a","status":"passed","time":{"start":1674515235621,"stop":1674515298692,"duration":63071}},{"uid":"e8123918c2f3b990","status":"passed","time":{"start":1674505330117,"stop":1674505393691,"duration":63574}},{"uid":"38e78f078ffa679e","status":"passed","time":{"start":1674500156434,"stop":1674500219557,"duration":63123}},{"uid":"66d7f65e4f39048f","status":"passed","time":{"start":1674257594808,"stop":1674257658055,"duration":63247}},{"uid":"f22da882bc595a31","status":"passed","time":{"start":1674254854503,"stop":1674254887145,"duration":32642}},{"uid":"7e9424f0e5edc2e4","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target ComputeModule off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080278093,"stop":1674080279225,"duration":1132}},{"uid":"fbec65fd7792ec60","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005310,"stop":1674075005347,"duration":37}},{"uid":"69162b911b72cac9","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622666,"stop":1674074622700,"duration":34}}]},"tags":[]},"source":"61704ade98b87efe.json","parameterValues":[]}