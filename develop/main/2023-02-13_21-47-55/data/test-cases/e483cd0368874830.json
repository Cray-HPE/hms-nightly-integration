{"uid":"e483cd0368874830","name":"Verify power-cap for a single node","fullName":"api.4-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"c6d875da97f650251a49a7570403f1b8","time":{"start":1676324862176,"stop":1676324869810,"duration":7634},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676324862375,"stop":1676324862414,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"d7a5d9dffce20cdc","name":"stage_yaml","source":"d7a5d9dffce20cdc.yaml","type":"application/yaml","size":333},{"uid":"6cba3b7b27402f64","name":"rest_request","source":"6cba3b7b27402f64.yaml","type":"application/yaml","size":149},{"uid":"a28d01cda163b016","name":"rest_response","source":"a28d01cda163b016.yaml","type":"application/yaml","size":5754}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1676324862415,"stop":1676324862424,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"f808ac1f6963aa1c","name":"stage_yaml","source":"f808ac1f6963aa1c.yaml","type":"application/yaml","size":228},{"uid":"437c5d0a99b3ead3","name":"rest_request","source":"437c5d0a99b3ead3.yaml","type":"application/yaml","size":173},{"uid":"4dc0c2c8bf3c5526","name":"rest_response","source":"4dc0c2c8bf3c5526.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1676324862425,"stop":1676324862434,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"26e5a9d87c207718","name":"stage_yaml","source":"26e5a9d87c207718.yaml","type":"application/yaml","size":231},{"uid":"dc264a8a951341b4","name":"rest_request","source":"dc264a8a951341b4.yaml","type":"application/yaml","size":173},{"uid":"2a1c8b0a63d98b2c","name":"rest_response","source":"2a1c8b0a63d98b2c.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1676324862435,"stop":1676324862448,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"9136dd7fc9384de1","name":"stage_yaml","source":"9136dd7fc9384de1.yaml","type":"application/yaml","size":543},{"uid":"5e4f23ceb1c8738f","name":"rest_request","source":"5e4f23ceb1c8738f.yaml","type":"application/yaml","size":166},{"uid":"e08679a35f746551","name":"rest_response","source":"e08679a35f746551.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1676324862450,"stop":1676324863463,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"15e6aa2d6b4185e0","name":"stage_yaml","source":"15e6aa2d6b4185e0.yaml","type":"application/yaml","size":661},{"uid":"fb3b88a1e63d31e1","name":"rest_request","source":"fb3b88a1e63d31e1.yaml","type":"application/yaml","size":159},{"uid":"f38b3460a5a3c482","name":"rest_response","source":"f38b3460a5a3c482.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1676324863464,"stop":1676324863483,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"88db59983204eedc","name":"stage_yaml","source":"88db59983204eedc.yaml","type":"application/yaml","size":3543},{"uid":"ec7ecac9ad3537e8","name":"rest_request","source":"ec7ecac9ad3537e8.yaml","type":"application/yaml","size":159},{"uid":"39cfa43c0e4a0fda","name":"rest_response","source":"39cfa43c0e4a0fda.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1676324863484,"stop":1676324863496,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"989069fcd7a2e8ab","name":"stage_yaml","source":"989069fcd7a2e8ab.yaml","type":"application/yaml","size":639},{"uid":"1a5a37fedf7b4a1f","name":"rest_request","source":"1a5a37fedf7b4a1f.yaml","type":"application/yaml","size":229},{"uid":"6a923b83e0647cd6","name":"rest_response","source":"6a923b83e0647cd6.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1676324863498,"stop":1676324864513,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"a5744af62f22f751","name":"stage_yaml","source":"a5744af62f22f751.yaml","type":"application/yaml","size":679},{"uid":"73253816cd3b94cd","name":"rest_request","source":"73253816cd3b94cd.yaml","type":"application/yaml","size":159},{"uid":"a3d5d61cf2343cfc","name":"rest_response","source":"a3d5d61cf2343cfc.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1676324864515,"stop":1676324864533,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"f6e26b9f6c22abb6","name":"stage_yaml","source":"f6e26b9f6c22abb6.yaml","type":"application/yaml","size":3157},{"uid":"2dae5231f583f733","name":"rest_request","source":"2dae5231f583f733.yaml","type":"application/yaml","size":159},{"uid":"5edaf1e0a3667e62","name":"rest_response","source":"5edaf1e0a3667e62.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1676324864534,"stop":1676324864546,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"105357c3b9e872ad","name":"stage_yaml","source":"105357c3b9e872ad.yaml","type":"application/yaml","size":639},{"uid":"85b63bf2e41ae33","name":"rest_request","source":"85b63bf2e41ae33.yaml","type":"application/yaml","size":229},{"uid":"342195452eee17d","name":"rest_response","source":"342195452eee17d.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1676324864548,"stop":1676324865563,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"86fdd10944f65928","name":"stage_yaml","source":"86fdd10944f65928.yaml","type":"application/yaml","size":679},{"uid":"9857a3d5a474ab2b","name":"rest_request","source":"9857a3d5a474ab2b.yaml","type":"application/yaml","size":159},{"uid":"2ab7685ea54e994f","name":"rest_response","source":"2ab7685ea54e994f.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1676324865565,"stop":1676324865585,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"8371e758143add01","name":"stage_yaml","source":"8371e758143add01.yaml","type":"application/yaml","size":3157},{"uid":"19afe9eaf7d6570b","name":"rest_request","source":"19afe9eaf7d6570b.yaml","type":"application/yaml","size":159},{"uid":"760a2a4efc0b1907","name":"rest_response","source":"760a2a4efc0b1907.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1676324865587,"stop":1676324865601,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"e9f4e17d23dbf89f","name":"stage_yaml","source":"e9f4e17d23dbf89f.yaml","type":"application/yaml","size":639},{"uid":"763f1188bc8e0ea8","name":"rest_request","source":"763f1188bc8e0ea8.yaml","type":"application/yaml","size":233},{"uid":"bcbf0f484b810d84","name":"rest_response","source":"bcbf0f484b810d84.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1676324865603,"stop":1676324866616,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"ee7ff3d7e61e4f5b","name":"stage_yaml","source":"ee7ff3d7e61e4f5b.yaml","type":"application/yaml","size":685},{"uid":"22699fd5a670cf4","name":"rest_request","source":"22699fd5a670cf4.yaml","type":"application/yaml","size":159},{"uid":"d1e7b4de05710b6b","name":"rest_response","source":"d1e7b4de05710b6b.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1676324866617,"stop":1676324866633,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"4369f2f460085131","name":"stage_yaml","source":"4369f2f460085131.yaml","type":"application/yaml","size":2234},{"uid":"2900547da0ba1a4d","name":"rest_request","source":"2900547da0ba1a4d.yaml","type":"application/yaml","size":159},{"uid":"51bad452d9b5aa2","name":"rest_response","source":"51bad452d9b5aa2.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1676324866635,"stop":1676324866649,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"9d31fc9f9edb149d","name":"stage_yaml","source":"9d31fc9f9edb149d.yaml","type":"application/yaml","size":631},{"uid":"7331575bde1961bd","name":"rest_request","source":"7331575bde1961bd.yaml","type":"application/yaml","size":227},{"uid":"79fcffbc3956ca3c","name":"rest_response","source":"79fcffbc3956ca3c.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1676324866651,"stop":1676324867665,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"8c4b9d0df7a6bb82","name":"stage_yaml","source":"8c4b9d0df7a6bb82.yaml","type":"application/yaml","size":685},{"uid":"317120572ff3e2bc","name":"rest_request","source":"317120572ff3e2bc.yaml","type":"application/yaml","size":159},{"uid":"5a5a31e8e7ad3644","name":"rest_response","source":"5a5a31e8e7ad3644.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1676324867667,"stop":1676324867685,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"777442dd04f1e537","name":"stage_yaml","source":"777442dd04f1e537.yaml","type":"application/yaml","size":2230},{"uid":"5dd7c3f88fbdaaa7","name":"rest_request","source":"5dd7c3f88fbdaaa7.yaml","type":"application/yaml","size":159},{"uid":"e304a30637de2a2e","name":"rest_response","source":"e304a30637de2a2e.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1676324867686,"stop":1676324867698,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"43b38718fae58873","name":"stage_yaml","source":"43b38718fae58873.yaml","type":"application/yaml","size":599},{"uid":"2fd5e663437eebac","name":"rest_request","source":"2fd5e663437eebac.yaml","type":"application/yaml","size":227},{"uid":"7052a7a31d46977e","name":"rest_response","source":"7052a7a31d46977e.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1676324867701,"stop":1676324868716,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"3f8fbe7944110250","name":"stage_yaml","source":"3f8fbe7944110250.yaml","type":"application/yaml","size":679},{"uid":"ae7ea52a2114e873","name":"rest_request","source":"ae7ea52a2114e873.yaml","type":"application/yaml","size":159},{"uid":"cdbe57d48883c846","name":"rest_response","source":"cdbe57d48883c846.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1676324868717,"stop":1676324868736,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"ce8366c0ce6df54d","name":"stage_yaml","source":"ce8366c0ce6df54d.yaml","type":"application/yaml","size":3125},{"uid":"c31baed77ac7ac14","name":"rest_request","source":"c31baed77ac7ac14.yaml","type":"application/yaml","size":159},{"uid":"29c880809744ffa2","name":"rest_response","source":"29c880809744ffa2.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1676324868737,"stop":1676324868750,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"3a784df17bacc7c4","name":"stage_yaml","source":"3a784df17bacc7c4.yaml","type":"application/yaml","size":640},{"uid":"5b79e8b3f3f003eb","name":"rest_request","source":"5b79e8b3f3f003eb.yaml","type":"application/yaml","size":227},{"uid":"be902cb188e7caa7","name":"rest_response","source":"be902cb188e7caa7.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1676324868752,"stop":1676324869768,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"1c7261b056b6b0b8","name":"stage_yaml","source":"1c7261b056b6b0b8.yaml","type":"application/yaml","size":680},{"uid":"4e0c7f4cf14183b9","name":"rest_request","source":"4e0c7f4cf14183b9.yaml","type":"application/yaml","size":159},{"uid":"9c843cfa7f2e6bb2","name":"rest_response","source":"9c843cfa7f2e6bb2.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1676324869769,"stop":1676324869787,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"773ec7e024169c4f","name":"stage_yaml","source":"773ec7e024169c4f.yaml","type":"application/yaml","size":3160},{"uid":"116431a3de1db07c","name":"rest_request","source":"116431a3de1db07c.yaml","type":"application/yaml","size":159},{"uid":"ef1431aa23a26dda","name":"rest_response","source":"ef1431aa23a26dda.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1676324869788,"stop":1676324869799,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"43969de153a00757","name":"stage_yaml","source":"43969de153a00757.yaml","type":"application/yaml","size":276},{"uid":"567ed8e3e5c2d0d7","name":"rest_request","source":"567ed8e3e5c2d0d7.yaml","type":"application/yaml","size":173},{"uid":"46064335bd7e9966","name":"rest_response","source":"46064335bd7e9966.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1676324869800,"stop":1676324869810,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"cf442131a2c0cb7","name":"stage_yaml","source":"cf442131a2c0cb7.yaml","type":"application/yaml","size":256},{"uid":"66d2c92feea330bf","name":"rest_request","source":"66d2c92feea330bf.yaml","type":"application/yaml","size":172},{"uid":"5325b27c1b8b10bf","name":"rest_response","source":"5325b27c1b8b10bf.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":78,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"6be7469c228d"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":9},"items":[{"uid":"6bc8a408f848ec30","status":"passed","time":{"start":1674515958342,"stop":1674515965969,"duration":7627}},{"uid":"dadd5c6a490277f1","status":"passed","time":{"start":1674506262734,"stop":1674506270612,"duration":7878}},{"uid":"fde88d0f70db11f","status":"passed","time":{"start":1674501028224,"stop":1674501035884,"duration":7660}},{"uid":"e59016a27b9d527c","status":"passed","time":{"start":1674258436574,"stop":1674258444254,"duration":7680}},{"uid":"87edd083db7e8188","status":"passed","time":{"start":1674255758279,"stop":1674255765937,"duration":7658}},{"uid":"ab766ec590b371af","status":"passed","time":{"start":1674080377404,"stop":1674080386217,"duration":8813}},{"uid":"18bdd1e6f9cbca92","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674075100168,"stop":1674075100501,"duration":333}},{"uid":"ba0b0fdecc7b1247","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674074715145,"stop":1674074715443,"duration":298}}]},"tags":[]},"source":"e483cd0368874830.json","parameterValues":[]}