{"uid":"7d14d510db4f3ad6","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1676324668777,"stop":1676324701439,"duration":32662},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676324668786,"stop":1676324668822,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"7d040e21987f07ea","name":"stage_yaml","source":"7d040e21987f07ea.yaml","type":"application/yaml","size":302},{"uid":"2eaf936e7fdefc57","name":"rest_request","source":"2eaf936e7fdefc57.yaml","type":"application/yaml","size":162},{"uid":"a7a24df7a97da685","name":"rest_response","source":"a7a24df7a97da685.yaml","type":"application/yaml","size":5752}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676324668823,"stop":1676324668836,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"20249f408b2887c7","name":"stage_yaml","source":"20249f408b2887c7.yaml","type":"application/yaml","size":797},{"uid":"7f2fddc6bf34052e","name":"rest_request","source":"7f2fddc6bf34052e.yaml","type":"application/yaml","size":216},{"uid":"7a124b38eec676c5","name":"rest_response","source":"7a124b38eec676c5.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676324668837,"stop":1676324700348,"duration":31511},"status":"passed","steps":[],"attachments":[{"uid":"90b3946b5db7c4aa","name":"stage_yaml","source":"90b3946b5db7c4aa.yaml","type":"application/yaml","size":682},{"uid":"c2efc6100d6918ea","name":"rest_request","source":"c2efc6100d6918ea.yaml","type":"application/yaml","size":161},{"uid":"7cf0435db46bb00f","name":"rest_response","source":"7cf0435db46bb00f.yaml","type":"application/yaml","size":572},{"uid":"cecb83f3d24f4cea","name":"stage_yaml","source":"cecb83f3d24f4cea.yaml","type":"application/yaml","size":682},{"uid":"a2c2698844ae046e","name":"rest_request","source":"a2c2698844ae046e.yaml","type":"application/yaml","size":161},{"uid":"8e78c034830d3249","name":"rest_response","source":"8e78c034830d3249.yaml","type":"application/yaml","size":608},{"uid":"b2bea9c4de91e464","name":"stage_yaml","source":"b2bea9c4de91e464.yaml","type":"application/yaml","size":682},{"uid":"fbc0f600b45ce618","name":"rest_request","source":"fbc0f600b45ce618.yaml","type":"application/yaml","size":161},{"uid":"55f4e7e46b7ac258","name":"rest_response","source":"55f4e7e46b7ac258.yaml","type":"application/yaml","size":608},{"uid":"120297d4dd52d4bc","name":"stage_yaml","source":"120297d4dd52d4bc.yaml","type":"application/yaml","size":682},{"uid":"1e04f66d73c8e670","name":"rest_request","source":"1e04f66d73c8e670.yaml","type":"application/yaml","size":161},{"uid":"c418fbf7287c6b1c","name":"rest_response","source":"c418fbf7287c6b1c.yaml","type":"application/yaml","size":608},{"uid":"29572ee8cf718b9f","name":"stage_yaml","source":"29572ee8cf718b9f.yaml","type":"application/yaml","size":682},{"uid":"88cf30c831fb7cb9","name":"rest_request","source":"88cf30c831fb7cb9.yaml","type":"application/yaml","size":161},{"uid":"e5f01024b9d47f77","name":"rest_response","source":"e5f01024b9d47f77.yaml","type":"application/yaml","size":608},{"uid":"247a3ace2f045c5e","name":"stage_yaml","source":"247a3ace2f045c5e.yaml","type":"application/yaml","size":682},{"uid":"3b526fb1a6590e19","name":"rest_request","source":"3b526fb1a6590e19.yaml","type":"application/yaml","size":161},{"uid":"3f09717d765e512a","name":"rest_response","source":"3f09717d765e512a.yaml","type":"application/yaml","size":608},{"uid":"b355014f7f3d3c00","name":"stage_yaml","source":"b355014f7f3d3c00.yaml","type":"application/yaml","size":682},{"uid":"f4e8d550fd749d85","name":"rest_request","source":"f4e8d550fd749d85.yaml","type":"application/yaml","size":161},{"uid":"d8caef43a3f480cc","name":"rest_response","source":"d8caef43a3f480cc.yaml","type":"application/yaml","size":608},{"uid":"3c2be1dc6b82b289","name":"stage_yaml","source":"3c2be1dc6b82b289.yaml","type":"application/yaml","size":682},{"uid":"4fa1a789f9f5794b","name":"rest_request","source":"4fa1a789f9f5794b.yaml","type":"application/yaml","size":161},{"uid":"89ded60b9ca12e13","name":"rest_response","source":"89ded60b9ca12e13.yaml","type":"application/yaml","size":608},{"uid":"b3ad0e83bca71fc7","name":"stage_yaml","source":"b3ad0e83bca71fc7.yaml","type":"application/yaml","size":682},{"uid":"9cc544670456a2b0","name":"rest_request","source":"9cc544670456a2b0.yaml","type":"application/yaml","size":161},{"uid":"7656eb6c428a1a6e","name":"rest_response","source":"7656eb6c428a1a6e.yaml","type":"application/yaml","size":608},{"uid":"e1ec00044ba05015","name":"stage_yaml","source":"e1ec00044ba05015.yaml","type":"application/yaml","size":682},{"uid":"e25690cc71332b68","name":"rest_request","source":"e25690cc71332b68.yaml","type":"application/yaml","size":161},{"uid":"50b391949d016e41","name":"rest_response","source":"50b391949d016e41.yaml","type":"application/yaml","size":608},{"uid":"35b1fffa35829139","name":"stage_yaml","source":"35b1fffa35829139.yaml","type":"application/yaml","size":682},{"uid":"b64b41155ca5d3b8","name":"rest_request","source":"b64b41155ca5d3b8.yaml","type":"application/yaml","size":161},{"uid":"9a1040d72c8e7885","name":"rest_response","source":"9a1040d72c8e7885.yaml","type":"application/yaml","size":608},{"uid":"f34e0bb1ff37042c","name":"stage_yaml","source":"f34e0bb1ff37042c.yaml","type":"application/yaml","size":682},{"uid":"40c9a4e2807ec98","name":"rest_request","source":"40c9a4e2807ec98.yaml","type":"application/yaml","size":161},{"uid":"869b0ec57a55dbf1","name":"rest_response","source":"869b0ec57a55dbf1.yaml","type":"application/yaml","size":608},{"uid":"6f0dca51da0775ca","name":"stage_yaml","source":"6f0dca51da0775ca.yaml","type":"application/yaml","size":682},{"uid":"82e73de9555aabd6","name":"rest_request","source":"82e73de9555aabd6.yaml","type":"application/yaml","size":161},{"uid":"3447fb60fd8eae48","name":"rest_response","source":"3447fb60fd8eae48.yaml","type":"application/yaml","size":608},{"uid":"1d318fafe86e6e48","name":"stage_yaml","source":"1d318fafe86e6e48.yaml","type":"application/yaml","size":682},{"uid":"423fb9dae25719e","name":"rest_request","source":"423fb9dae25719e.yaml","type":"application/yaml","size":161},{"uid":"f949ca96ee6bcedb","name":"rest_response","source":"f949ca96ee6bcedb.yaml","type":"application/yaml","size":608},{"uid":"89743b5b6e948c38","name":"stage_yaml","source":"89743b5b6e948c38.yaml","type":"application/yaml","size":682},{"uid":"80838a288e25759","name":"rest_request","source":"80838a288e25759.yaml","type":"application/yaml","size":161},{"uid":"98a852a5dcf451ec","name":"rest_response","source":"98a852a5dcf451ec.yaml","type":"application/yaml","size":608},{"uid":"5901aac549950d8d","name":"stage_yaml","source":"5901aac549950d8d.yaml","type":"application/yaml","size":682},{"uid":"a0a2b4578c04cb95","name":"rest_request","source":"a0a2b4578c04cb95.yaml","type":"application/yaml","size":161},{"uid":"90b2f72fe074f27","name":"rest_response","source":"90b2f72fe074f27.yaml","type":"application/yaml","size":608},{"uid":"9b61bb24443192d5","name":"stage_yaml","source":"9b61bb24443192d5.yaml","type":"application/yaml","size":682},{"uid":"86b429e2b9c0ff61","name":"rest_request","source":"86b429e2b9c0ff61.yaml","type":"application/yaml","size":161},{"uid":"bcff7f3c44926272","name":"rest_response","source":"bcff7f3c44926272.yaml","type":"application/yaml","size":608},{"uid":"2df46e6a38d8b60c","name":"stage_yaml","source":"2df46e6a38d8b60c.yaml","type":"application/yaml","size":682},{"uid":"2f85e46914e2e444","name":"rest_request","source":"2f85e46914e2e444.yaml","type":"application/yaml","size":161},{"uid":"3827ba3ae5b0c844","name":"rest_response","source":"3827ba3ae5b0c844.yaml","type":"application/yaml","size":608},{"uid":"8c03dfb8e6bc3881","name":"stage_yaml","source":"8c03dfb8e6bc3881.yaml","type":"application/yaml","size":682},{"uid":"36792599b017a61f","name":"rest_request","source":"36792599b017a61f.yaml","type":"application/yaml","size":161},{"uid":"1fb66041b2a4c8d9","name":"rest_response","source":"1fb66041b2a4c8d9.yaml","type":"application/yaml","size":608},{"uid":"e10481924365fce6","name":"stage_yaml","source":"e10481924365fce6.yaml","type":"application/yaml","size":682},{"uid":"52507b3e0030bbb1","name":"rest_request","source":"52507b3e0030bbb1.yaml","type":"application/yaml","size":161},{"uid":"6a9d52cb4701f179","name":"rest_response","source":"6a9d52cb4701f179.yaml","type":"application/yaml","size":608},{"uid":"41cb85150cf500df","name":"stage_yaml","source":"41cb85150cf500df.yaml","type":"application/yaml","size":682},{"uid":"a8e543005cbc5178","name":"rest_request","source":"a8e543005cbc5178.yaml","type":"application/yaml","size":161},{"uid":"ae1b7aabcfde7e7d","name":"rest_response","source":"ae1b7aabcfde7e7d.yaml","type":"application/yaml","size":608},{"uid":"54ec9c3803b7892c","name":"stage_yaml","source":"54ec9c3803b7892c.yaml","type":"application/yaml","size":682},{"uid":"af046c4b58a1f3f1","name":"rest_request","source":"af046c4b58a1f3f1.yaml","type":"application/yaml","size":161},{"uid":"ac3a4d12a9bfbf97","name":"rest_response","source":"ac3a4d12a9bfbf97.yaml","type":"application/yaml","size":608},{"uid":"a6cb145805df7f5a","name":"stage_yaml","source":"a6cb145805df7f5a.yaml","type":"application/yaml","size":682},{"uid":"994036da1c02a8f1","name":"rest_request","source":"994036da1c02a8f1.yaml","type":"application/yaml","size":161},{"uid":"591997c90a6c1a7d","name":"rest_response","source":"591997c90a6c1a7d.yaml","type":"application/yaml","size":608},{"uid":"2634e6b95909714a","name":"stage_yaml","source":"2634e6b95909714a.yaml","type":"application/yaml","size":682},{"uid":"8327643c42ade800","name":"rest_request","source":"8327643c42ade800.yaml","type":"application/yaml","size":161},{"uid":"b9a597b9dcc2436c","name":"rest_response","source":"b9a597b9dcc2436c.yaml","type":"application/yaml","size":608},{"uid":"cf52ebca4e03acff","name":"stage_yaml","source":"cf52ebca4e03acff.yaml","type":"application/yaml","size":682},{"uid":"acffcafcf6c01645","name":"rest_request","source":"acffcafcf6c01645.yaml","type":"application/yaml","size":161},{"uid":"f54cf3d6029669d2","name":"rest_response","source":"f54cf3d6029669d2.yaml","type":"application/yaml","size":608},{"uid":"a0e3df5d54928bf6","name":"stage_yaml","source":"a0e3df5d54928bf6.yaml","type":"application/yaml","size":682},{"uid":"5d687ddec7f855ea","name":"rest_request","source":"5d687ddec7f855ea.yaml","type":"application/yaml","size":161},{"uid":"87425946f787d56","name":"rest_response","source":"87425946f787d56.yaml","type":"application/yaml","size":608},{"uid":"8750b3435d76785","name":"stage_yaml","source":"8750b3435d76785.yaml","type":"application/yaml","size":682},{"uid":"22a93cac995a85d7","name":"rest_request","source":"22a93cac995a85d7.yaml","type":"application/yaml","size":161},{"uid":"b34fdc492096a182","name":"rest_response","source":"b34fdc492096a182.yaml","type":"application/yaml","size":608},{"uid":"594946fd7f02490a","name":"stage_yaml","source":"594946fd7f02490a.yaml","type":"application/yaml","size":682},{"uid":"f4070ba182927dcf","name":"rest_request","source":"f4070ba182927dcf.yaml","type":"application/yaml","size":161},{"uid":"cb2ad50e3a62e99c","name":"rest_response","source":"cb2ad50e3a62e99c.yaml","type":"application/yaml","size":608},{"uid":"6723f19ad494cbb2","name":"stage_yaml","source":"6723f19ad494cbb2.yaml","type":"application/yaml","size":682},{"uid":"b07e198c674c46d5","name":"rest_request","source":"b07e198c674c46d5.yaml","type":"application/yaml","size":161},{"uid":"73c2954f060ae2d8","name":"rest_response","source":"73c2954f060ae2d8.yaml","type":"application/yaml","size":608},{"uid":"9834094023bfd4ee","name":"stage_yaml","source":"9834094023bfd4ee.yaml","type":"application/yaml","size":682},{"uid":"9ceb81f46b59024c","name":"rest_request","source":"9ceb81f46b59024c.yaml","type":"application/yaml","size":161},{"uid":"5436d347c229cce","name":"rest_response","source":"5436d347c229cce.yaml","type":"application/yaml","size":608},{"uid":"c3a43ade938e7b65","name":"stage_yaml","source":"c3a43ade938e7b65.yaml","type":"application/yaml","size":682},{"uid":"a71b797bca0a6629","name":"rest_request","source":"a71b797bca0a6629.yaml","type":"application/yaml","size":161},{"uid":"83a05af6c2ad0cd7","name":"rest_response","source":"83a05af6c2ad0cd7.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1676324700349,"stop":1676324700365,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"3b760cff8518d2e1","name":"stage_yaml","source":"3b760cff8518d2e1.yaml","type":"application/yaml","size":2389},{"uid":"c3e4de79283074bf","name":"rest_request","source":"c3e4de79283074bf.yaml","type":"application/yaml","size":161},{"uid":"634ad2349010a2a","name":"rest_response","source":"634ad2349010a2a.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676324700366,"stop":1676324700377,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"827f9b66f2a9ff78","name":"stage_yaml","source":"827f9b66f2a9ff78.yaml","type":"application/yaml","size":978},{"uid":"39dc01444834f6d3","name":"rest_request","source":"39dc01444834f6d3.yaml","type":"application/yaml","size":145},{"uid":"2fed8fe6ea1437ce","name":"rest_response","source":"2fed8fe6ea1437ce.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1676324700378,"stop":1676324700390,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"d9930bf9fd61f91c","name":"stage_yaml","source":"d9930bf9fd61f91c.yaml","type":"application/yaml","size":763},{"uid":"431197d557df70bb","name":"rest_request","source":"431197d557df70bb.yaml","type":"application/yaml","size":211},{"uid":"1db6a61c7f7220de","name":"rest_response","source":"1db6a61c7f7220de.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1676324700391,"stop":1676324700406,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"a81ff65b52449cb0","name":"stage_yaml","source":"a81ff65b52449cb0.yaml","type":"application/yaml","size":534},{"uid":"24c20e9985e4c6cc","name":"rest_request","source":"24c20e9985e4c6cc.yaml","type":"application/yaml","size":164},{"uid":"cbb7a55896f9484e","name":"rest_response","source":"cbb7a55896f9484e.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1676324700408,"stop":1676324701422,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"5e1495932798e89b","name":"stage_yaml","source":"5e1495932798e89b.yaml","type":"application/yaml","size":703},{"uid":"61f6b6349c64e370","name":"rest_request","source":"61f6b6349c64e370.yaml","type":"application/yaml","size":161},{"uid":"c399398a545b8a08","name":"rest_response","source":"c399398a545b8a08.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1676324701423,"stop":1676324701438,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"9edacd62db8ab90","name":"stage_yaml","source":"9edacd62db8ab90.yaml","type":"application/yaml","size":2481},{"uid":"feedbdcf9bdf7bf","name":"rest_request","source":"feedbdcf9bdf7bf.yaml","type":"application/yaml","size":161},{"uid":"2ee69e59275a1e19","name":"rest_response","source":"2ee69e59275a1e19.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"97f5a1ec9faf6a9c","name":"log","source":"97f5a1ec9faf6a9c.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"eef637db695a"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"7d77006b0367179f","status":"passed","time":{"start":1674515479474,"stop":1674515481658,"duration":2184}},{"uid":"42251583897b70fe","status":"passed","time":{"start":1674505607794,"stop":1674505625373,"duration":17579}},{"uid":"8457d14d68377bd0","status":"passed","time":{"start":1674500431023,"stop":1674500463694,"duration":32671}},{"uid":"4657babf55609585","status":"passed","time":{"start":1674257839299,"stop":1674257872071,"duration":32772}},{"uid":"61f114104b193ad3","status":"passed","time":{"start":1674255098685,"stop":1674255146652,"duration":47967}},{"uid":"7e69fbb5c356d59","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080284700,"stop":1674080284747,"duration":47}},{"uid":"787905fa4e3a30e0","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005693,"stop":1674075005733,"duration":40}},{"uid":"f46c206fec567553","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623022,"stop":1674074623054,"duration":32}}]},"tags":[]},"source":"7d14d510db4f3ad6.json","parameterValues":[]}