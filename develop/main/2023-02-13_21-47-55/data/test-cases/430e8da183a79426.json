{"uid":"430e8da183a79426","name":"Verify transitions powers off a ComputeModule that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a ComputeModule that is powered on","historyId":"f1bb6e85db6771d7f52a9148f7e0fa62","time":{"start":1676324438975,"stop":1676324456374,"duration":17399},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a ComputeModule from HSM to be used in later stages","time":{"start":1676324438984,"stop":1676324438999,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"869029702f13822b","name":"stage_yaml","source":"869029702f13822b.yaml","type":"application/yaml","size":296},{"uid":"a6a64cc6a65d129d","name":"rest_request","source":"a6a64cc6a65d129d.yaml","type":"application/yaml","size":145},{"uid":"dc92e17cc76773f","name":"rest_response","source":"dc92e17cc76773f.yaml","type":"application/yaml","size":1304}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target ComputeModule on to prepare it for the test case","time":{"start":1676324439000,"stop":1676324439012,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"885517855b7839f9","name":"stage_yaml","source":"885517855b7839f9.yaml","type":"application/yaml","size":794},{"uid":"9233ce1f1b18881","name":"rest_request","source":"9233ce1f1b18881.yaml","type":"application/yaml","size":207},{"uid":"1331ca68c4021cb","name":"rest_response","source":"1331ca68c4021cb.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676324439015,"stop":1676324440027,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"ae6a708d813aa1f5","name":"stage_yaml","source":"ae6a708d813aa1f5.yaml","type":"application/yaml","size":661},{"uid":"86f83d1794c99697","name":"rest_request","source":"86f83d1794c99697.yaml","type":"application/yaml","size":161},{"uid":"ab15b3d60a1425d0","name":"rest_response","source":"ab15b3d60a1425d0.yaml","type":"application/yaml","size":585}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676324440029,"stop":1676324440045,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"ccec5386cabe77f5","name":"stage_yaml","source":"ccec5386cabe77f5.yaml","type":"application/yaml","size":2385},{"uid":"7b6114443ccaf654","name":"rest_request","source":"7b6114443ccaf654.yaml","type":"application/yaml","size":161},{"uid":"538d8af8f61b5d1","name":"rest_response","source":"538d8af8f61b5d1.yaml","type":"application/yaml","size":585}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target ComputeModule is powered on using power-status","time":{"start":1676324440046,"stop":1676324440059,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"22d766636ce78a7a","name":"stage_yaml","source":"22d766636ce78a7a.yaml","type":"application/yaml","size":1005},{"uid":"1b75cf30743b95e5","name":"rest_request","source":"1b75cf30743b95e5.yaml","type":"application/yaml","size":141},{"uid":"ed487a1ae03504de","name":"rest_response","source":"ed487a1ae03504de.yaml","type":"application/yaml","size":434}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target ComputeModule off with a force-off transition","time":{"start":1676324440060,"stop":1676324440072,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"4b3e6ac2c554a89b","name":"stage_yaml","source":"4b3e6ac2c554a89b.yaml","type":"application/yaml","size":814},{"uid":"ce358ffa4c73a145","name":"rest_request","source":"ce358ffa4c73a145.yaml","type":"application/yaml","size":212},{"uid":"e305659e68d4d2cc","name":"rest_response","source":"e305659e68d4d2cc.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1676324440074,"stop":1676324456343,"duration":16269},"status":"passed","steps":[],"attachments":[{"uid":"d9c58bb0157bff50","name":"stage_yaml","source":"d9c58bb0157bff50.yaml","type":"application/yaml","size":684},{"uid":"635b530481ee3e08","name":"rest_request","source":"635b530481ee3e08.yaml","type":"application/yaml","size":161},{"uid":"ff0833082f33c395","name":"rest_response","source":"ff0833082f33c395.yaml","type":"application/yaml","size":568},{"uid":"fcdbcdd54f1f8207","name":"stage_yaml","source":"fcdbcdd54f1f8207.yaml","type":"application/yaml","size":684},{"uid":"d0fafe906cccbda3","name":"rest_request","source":"d0fafe906cccbda3.yaml","type":"application/yaml","size":161},{"uid":"5150864e487e2f11","name":"rest_response","source":"5150864e487e2f11.yaml","type":"application/yaml","size":604},{"uid":"a238c4c316609ca9","name":"stage_yaml","source":"a238c4c316609ca9.yaml","type":"application/yaml","size":684},{"uid":"dbe985fcc9bb4153","name":"rest_request","source":"dbe985fcc9bb4153.yaml","type":"application/yaml","size":161},{"uid":"3bf311540097ac18","name":"rest_response","source":"3bf311540097ac18.yaml","type":"application/yaml","size":604},{"uid":"f3ee467692a88f0a","name":"stage_yaml","source":"f3ee467692a88f0a.yaml","type":"application/yaml","size":684},{"uid":"521afefcc0e42e2d","name":"rest_request","source":"521afefcc0e42e2d.yaml","type":"application/yaml","size":161},{"uid":"8b5a5dbadec5fb5f","name":"rest_response","source":"8b5a5dbadec5fb5f.yaml","type":"application/yaml","size":604},{"uid":"362ed5c92604bc2b","name":"stage_yaml","source":"362ed5c92604bc2b.yaml","type":"application/yaml","size":684},{"uid":"5b0e681f650cc671","name":"rest_request","source":"5b0e681f650cc671.yaml","type":"application/yaml","size":161},{"uid":"87e41182b049c125","name":"rest_response","source":"87e41182b049c125.yaml","type":"application/yaml","size":604},{"uid":"2e319d42ddb1ea54","name":"stage_yaml","source":"2e319d42ddb1ea54.yaml","type":"application/yaml","size":684},{"uid":"82009f86e75fb34b","name":"rest_request","source":"82009f86e75fb34b.yaml","type":"application/yaml","size":161},{"uid":"70a118a341004da1","name":"rest_response","source":"70a118a341004da1.yaml","type":"application/yaml","size":604},{"uid":"b6152d4ccbe82ee8","name":"stage_yaml","source":"b6152d4ccbe82ee8.yaml","type":"application/yaml","size":684},{"uid":"bd1e9464f9d72c3f","name":"rest_request","source":"bd1e9464f9d72c3f.yaml","type":"application/yaml","size":161},{"uid":"4a06872ff7a79fd3","name":"rest_response","source":"4a06872ff7a79fd3.yaml","type":"application/yaml","size":604},{"uid":"f0b3ec27addfd9a7","name":"stage_yaml","source":"f0b3ec27addfd9a7.yaml","type":"application/yaml","size":684},{"uid":"7d8183d262528c59","name":"rest_request","source":"7d8183d262528c59.yaml","type":"application/yaml","size":161},{"uid":"b72046302b727578","name":"rest_response","source":"b72046302b727578.yaml","type":"application/yaml","size":604},{"uid":"8a05c6bbde0dee9e","name":"stage_yaml","source":"8a05c6bbde0dee9e.yaml","type":"application/yaml","size":684},{"uid":"ad9113e1688071f0","name":"rest_request","source":"ad9113e1688071f0.yaml","type":"application/yaml","size":161},{"uid":"9269cc80f2c31dea","name":"rest_response","source":"9269cc80f2c31dea.yaml","type":"application/yaml","size":604},{"uid":"e94f30d9d6185842","name":"stage_yaml","source":"e94f30d9d6185842.yaml","type":"application/yaml","size":684},{"uid":"97e7f92ead6dede6","name":"rest_request","source":"97e7f92ead6dede6.yaml","type":"application/yaml","size":161},{"uid":"e24f7f295f78992f","name":"rest_response","source":"e24f7f295f78992f.yaml","type":"application/yaml","size":604},{"uid":"82501e09f008bcb0","name":"stage_yaml","source":"82501e09f008bcb0.yaml","type":"application/yaml","size":684},{"uid":"d6f7f6be25bb73a6","name":"rest_request","source":"d6f7f6be25bb73a6.yaml","type":"application/yaml","size":161},{"uid":"3f8d5a58fc2c0860","name":"rest_response","source":"3f8d5a58fc2c0860.yaml","type":"application/yaml","size":604},{"uid":"e8c2316723882396","name":"stage_yaml","source":"e8c2316723882396.yaml","type":"application/yaml","size":684},{"uid":"728ea0b0d1cd6b8f","name":"rest_request","source":"728ea0b0d1cd6b8f.yaml","type":"application/yaml","size":161},{"uid":"ca9eeee37d31cb51","name":"rest_response","source":"ca9eeee37d31cb51.yaml","type":"application/yaml","size":604},{"uid":"a3521f87aebe642d","name":"stage_yaml","source":"a3521f87aebe642d.yaml","type":"application/yaml","size":684},{"uid":"48616f383552205c","name":"rest_request","source":"48616f383552205c.yaml","type":"application/yaml","size":161},{"uid":"8455d2fde6becdbd","name":"rest_response","source":"8455d2fde6becdbd.yaml","type":"application/yaml","size":604},{"uid":"eed4f3fcdce023a","name":"stage_yaml","source":"eed4f3fcdce023a.yaml","type":"application/yaml","size":684},{"uid":"18bceed6d9f67829","name":"rest_request","source":"18bceed6d9f67829.yaml","type":"application/yaml","size":161},{"uid":"5e0be6234ca4b2b0","name":"rest_response","source":"5e0be6234ca4b2b0.yaml","type":"application/yaml","size":604},{"uid":"e8bf0c678ead785c","name":"stage_yaml","source":"e8bf0c678ead785c.yaml","type":"application/yaml","size":684},{"uid":"8acc8421bf94e7aa","name":"rest_request","source":"8acc8421bf94e7aa.yaml","type":"application/yaml","size":161},{"uid":"76a0f12d419b71b9","name":"rest_response","source":"76a0f12d419b71b9.yaml","type":"application/yaml","size":604},{"uid":"91dd46932b54ec57","name":"stage_yaml","source":"91dd46932b54ec57.yaml","type":"application/yaml","size":684},{"uid":"c79a2e2e26856ef2","name":"rest_request","source":"c79a2e2e26856ef2.yaml","type":"application/yaml","size":161},{"uid":"f5e10472729ca5e","name":"rest_response","source":"f5e10472729ca5e.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1676324456344,"stop":1676324456360,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"8ec10abfd1545f47","name":"stage_yaml","source":"8ec10abfd1545f47.yaml","type":"application/yaml","size":2346},{"uid":"e6b7e23e61802e10","name":"rest_request","source":"e6b7e23e61802e10.yaml","type":"application/yaml","size":161},{"uid":"2fc0baa4230929fb","name":"rest_response","source":"2fc0baa4230929fb.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target ComputeModule is powered off using power-status","time":{"start":1676324456361,"stop":1676324456373,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"b37fcc6fd2ecdaf8","name":"stage_yaml","source":"b37fcc6fd2ecdaf8.yaml","type":"application/yaml","size":1007},{"uid":"45db68df8beba540","name":"rest_request","source":"45db68df8beba540.yaml","type":"application/yaml","size":141},{"uid":"bcf696c49ddd72ab","name":"rest_response","source":"bcf696c49ddd72ab.yaml","type":"application/yaml","size":435}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"ab71dd2cb2696dc2","name":"log","source":"ab71dd2cb2696dc2.txt","type":"text/plain","size":57818}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"eef637db695a"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"caf1adcd1885160a","status":"passed","time":{"start":1674515235621,"stop":1674515298692,"duration":63071}},{"uid":"e8123918c2f3b990","status":"passed","time":{"start":1674505330117,"stop":1674505393691,"duration":63574}},{"uid":"38e78f078ffa679e","status":"passed","time":{"start":1674500156434,"stop":1674500219557,"duration":63123}},{"uid":"66d7f65e4f39048f","status":"passed","time":{"start":1674257594808,"stop":1674257658055,"duration":63247}},{"uid":"f22da882bc595a31","status":"passed","time":{"start":1674254854503,"stop":1674254887145,"duration":32642}},{"uid":"7e9424f0e5edc2e4","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target ComputeModule off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080278093,"stop":1674080279225,"duration":1132}},{"uid":"fbec65fd7792ec60","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005310,"stop":1674075005347,"duration":37}},{"uid":"69162b911b72cac9","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622666,"stop":1674074622700,"duration":34}}]},"tags":[]},"source":"430e8da183a79426.json","parameterValues":[]}