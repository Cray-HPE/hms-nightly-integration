{"uid":"dadcf9b04d98696f","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1676324764693,"stop":1676324797333,"duration":32640},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676324764701,"stop":1676324764737,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"541cf51359af5ff6","name":"stage_yaml","source":"541cf51359af5ff6.yaml","type":"application/yaml","size":302},{"uid":"d952358b2259b5fa","name":"rest_request","source":"d952358b2259b5fa.yaml","type":"application/yaml","size":162},{"uid":"83ecab9431cd22b4","name":"rest_response","source":"83ecab9431cd22b4.yaml","type":"application/yaml","size":5753}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676324764738,"stop":1676324764752,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"e069c2cb0dc98d8e","name":"stage_yaml","source":"e069c2cb0dc98d8e.yaml","type":"application/yaml","size":797},{"uid":"9dd7724678c2c3f5","name":"rest_request","source":"9dd7724678c2c3f5.yaml","type":"application/yaml","size":216},{"uid":"eab451533f218b1d","name":"rest_response","source":"eab451533f218b1d.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676324764754,"stop":1676324796254,"duration":31500},"status":"passed","steps":[],"attachments":[{"uid":"f43878fbdfb5080e","name":"stage_yaml","source":"f43878fbdfb5080e.yaml","type":"application/yaml","size":682},{"uid":"f8959a927655297e","name":"rest_request","source":"f8959a927655297e.yaml","type":"application/yaml","size":161},{"uid":"6091525edd25a65a","name":"rest_response","source":"6091525edd25a65a.yaml","type":"application/yaml","size":570},{"uid":"268d1397e64119fd","name":"stage_yaml","source":"268d1397e64119fd.yaml","type":"application/yaml","size":682},{"uid":"9fff86a87a2655c4","name":"rest_request","source":"9fff86a87a2655c4.yaml","type":"application/yaml","size":161},{"uid":"f83a8c97a0c69af7","name":"rest_response","source":"f83a8c97a0c69af7.yaml","type":"application/yaml","size":606},{"uid":"985d8456178dd9ac","name":"stage_yaml","source":"985d8456178dd9ac.yaml","type":"application/yaml","size":682},{"uid":"6c79fddb58935dea","name":"rest_request","source":"6c79fddb58935dea.yaml","type":"application/yaml","size":161},{"uid":"a6a159e618900d1e","name":"rest_response","source":"a6a159e618900d1e.yaml","type":"application/yaml","size":606},{"uid":"9bd3a42046d81de9","name":"stage_yaml","source":"9bd3a42046d81de9.yaml","type":"application/yaml","size":682},{"uid":"b8c10d89471a5936","name":"rest_request","source":"b8c10d89471a5936.yaml","type":"application/yaml","size":161},{"uid":"37feaf3e8625f42f","name":"rest_response","source":"37feaf3e8625f42f.yaml","type":"application/yaml","size":606},{"uid":"b7f51586bead4b68","name":"stage_yaml","source":"b7f51586bead4b68.yaml","type":"application/yaml","size":682},{"uid":"23674234bc8eee07","name":"rest_request","source":"23674234bc8eee07.yaml","type":"application/yaml","size":161},{"uid":"369b3c0c0d8771aa","name":"rest_response","source":"369b3c0c0d8771aa.yaml","type":"application/yaml","size":606},{"uid":"96d2bf9ff8160e40","name":"stage_yaml","source":"96d2bf9ff8160e40.yaml","type":"application/yaml","size":682},{"uid":"cb42d71d9875cbed","name":"rest_request","source":"cb42d71d9875cbed.yaml","type":"application/yaml","size":161},{"uid":"ab171bc532869f3a","name":"rest_response","source":"ab171bc532869f3a.yaml","type":"application/yaml","size":606},{"uid":"739420617fe8de24","name":"stage_yaml","source":"739420617fe8de24.yaml","type":"application/yaml","size":682},{"uid":"2e689089fd9b9977","name":"rest_request","source":"2e689089fd9b9977.yaml","type":"application/yaml","size":161},{"uid":"476a58ea4e5c9b95","name":"rest_response","source":"476a58ea4e5c9b95.yaml","type":"application/yaml","size":606},{"uid":"dcd6a35470fc6446","name":"stage_yaml","source":"dcd6a35470fc6446.yaml","type":"application/yaml","size":682},{"uid":"e0704aaa7c3ddbe6","name":"rest_request","source":"e0704aaa7c3ddbe6.yaml","type":"application/yaml","size":161},{"uid":"218ec6d575afdb02","name":"rest_response","source":"218ec6d575afdb02.yaml","type":"application/yaml","size":606},{"uid":"71f41b947acd5fde","name":"stage_yaml","source":"71f41b947acd5fde.yaml","type":"application/yaml","size":682},{"uid":"ac402d121fc78e26","name":"rest_request","source":"ac402d121fc78e26.yaml","type":"application/yaml","size":161},{"uid":"888fd009d3f44bdf","name":"rest_response","source":"888fd009d3f44bdf.yaml","type":"application/yaml","size":606},{"uid":"72e43ecdea17c653","name":"stage_yaml","source":"72e43ecdea17c653.yaml","type":"application/yaml","size":682},{"uid":"afec892baace84c3","name":"rest_request","source":"afec892baace84c3.yaml","type":"application/yaml","size":161},{"uid":"cdd578bc11af3c50","name":"rest_response","source":"cdd578bc11af3c50.yaml","type":"application/yaml","size":606},{"uid":"8d32b6e6d60d5fe7","name":"stage_yaml","source":"8d32b6e6d60d5fe7.yaml","type":"application/yaml","size":682},{"uid":"140b11f334a83198","name":"rest_request","source":"140b11f334a83198.yaml","type":"application/yaml","size":161},{"uid":"5ff77a085ac31a8b","name":"rest_response","source":"5ff77a085ac31a8b.yaml","type":"application/yaml","size":606},{"uid":"4725de5ab291630e","name":"stage_yaml","source":"4725de5ab291630e.yaml","type":"application/yaml","size":682},{"uid":"86add317fd7b5e76","name":"rest_request","source":"86add317fd7b5e76.yaml","type":"application/yaml","size":161},{"uid":"e40a57eaec7c683e","name":"rest_response","source":"e40a57eaec7c683e.yaml","type":"application/yaml","size":606},{"uid":"de5ba0f89dfdb964","name":"stage_yaml","source":"de5ba0f89dfdb964.yaml","type":"application/yaml","size":682},{"uid":"8ef74d1b4f4a3f37","name":"rest_request","source":"8ef74d1b4f4a3f37.yaml","type":"application/yaml","size":161},{"uid":"451692232ad088f6","name":"rest_response","source":"451692232ad088f6.yaml","type":"application/yaml","size":606},{"uid":"868e80e3119a8819","name":"stage_yaml","source":"868e80e3119a8819.yaml","type":"application/yaml","size":682},{"uid":"4f223b315fd4d304","name":"rest_request","source":"4f223b315fd4d304.yaml","type":"application/yaml","size":161},{"uid":"58560f2e3216795d","name":"rest_response","source":"58560f2e3216795d.yaml","type":"application/yaml","size":606},{"uid":"b2dc8fb64e1d4ecc","name":"stage_yaml","source":"b2dc8fb64e1d4ecc.yaml","type":"application/yaml","size":682},{"uid":"5d63199456e40baf","name":"rest_request","source":"5d63199456e40baf.yaml","type":"application/yaml","size":161},{"uid":"73587c0fb23d1685","name":"rest_response","source":"73587c0fb23d1685.yaml","type":"application/yaml","size":606},{"uid":"cd3f597d2513402a","name":"stage_yaml","source":"cd3f597d2513402a.yaml","type":"application/yaml","size":682},{"uid":"f64eca8633eac13b","name":"rest_request","source":"f64eca8633eac13b.yaml","type":"application/yaml","size":161},{"uid":"bc19136a0371f2e4","name":"rest_response","source":"bc19136a0371f2e4.yaml","type":"application/yaml","size":606},{"uid":"7edee311735481fa","name":"stage_yaml","source":"7edee311735481fa.yaml","type":"application/yaml","size":682},{"uid":"c9ebecb28a10f786","name":"rest_request","source":"c9ebecb28a10f786.yaml","type":"application/yaml","size":161},{"uid":"855549e91346aee","name":"rest_response","source":"855549e91346aee.yaml","type":"application/yaml","size":606},{"uid":"be5395fea4be0aec","name":"stage_yaml","source":"be5395fea4be0aec.yaml","type":"application/yaml","size":682},{"uid":"9de0a5d061629645","name":"rest_request","source":"9de0a5d061629645.yaml","type":"application/yaml","size":161},{"uid":"c4fe490e1ad45a85","name":"rest_response","source":"c4fe490e1ad45a85.yaml","type":"application/yaml","size":606},{"uid":"675f8642f47459ac","name":"stage_yaml","source":"675f8642f47459ac.yaml","type":"application/yaml","size":682},{"uid":"512728259d31af11","name":"rest_request","source":"512728259d31af11.yaml","type":"application/yaml","size":161},{"uid":"c2177474bcc3ce0","name":"rest_response","source":"c2177474bcc3ce0.yaml","type":"application/yaml","size":606},{"uid":"face1c5a2c590a5f","name":"stage_yaml","source":"face1c5a2c590a5f.yaml","type":"application/yaml","size":682},{"uid":"6ad05a7519f6bc63","name":"rest_request","source":"6ad05a7519f6bc63.yaml","type":"application/yaml","size":161},{"uid":"bf7666db4f0a5d","name":"rest_response","source":"bf7666db4f0a5d.yaml","type":"application/yaml","size":606},{"uid":"68a0f18f2c2bdf8","name":"stage_yaml","source":"68a0f18f2c2bdf8.yaml","type":"application/yaml","size":682},{"uid":"67d8bbff5305e53c","name":"rest_request","source":"67d8bbff5305e53c.yaml","type":"application/yaml","size":161},{"uid":"78e96f45fa018fe","name":"rest_response","source":"78e96f45fa018fe.yaml","type":"application/yaml","size":606},{"uid":"15ee46519e6c9a32","name":"stage_yaml","source":"15ee46519e6c9a32.yaml","type":"application/yaml","size":682},{"uid":"fd63be33c4c0a712","name":"rest_request","source":"fd63be33c4c0a712.yaml","type":"application/yaml","size":161},{"uid":"bbd2abdd2c3b890d","name":"rest_response","source":"bbd2abdd2c3b890d.yaml","type":"application/yaml","size":606},{"uid":"f20c082083f3069d","name":"stage_yaml","source":"f20c082083f3069d.yaml","type":"application/yaml","size":682},{"uid":"cde45a1c41a0d803","name":"rest_request","source":"cde45a1c41a0d803.yaml","type":"application/yaml","size":161},{"uid":"8eaa55fd07c99019","name":"rest_response","source":"8eaa55fd07c99019.yaml","type":"application/yaml","size":606},{"uid":"c9300756bb929355","name":"stage_yaml","source":"c9300756bb929355.yaml","type":"application/yaml","size":682},{"uid":"17e5a4467f33a466","name":"rest_request","source":"17e5a4467f33a466.yaml","type":"application/yaml","size":161},{"uid":"a2c4cadf37a00bf7","name":"rest_response","source":"a2c4cadf37a00bf7.yaml","type":"application/yaml","size":606},{"uid":"c62a2c34b13d94d9","name":"stage_yaml","source":"c62a2c34b13d94d9.yaml","type":"application/yaml","size":682},{"uid":"6ad5ddb7ba1bb5e6","name":"rest_request","source":"6ad5ddb7ba1bb5e6.yaml","type":"application/yaml","size":161},{"uid":"2c198de0e170f09d","name":"rest_response","source":"2c198de0e170f09d.yaml","type":"application/yaml","size":606},{"uid":"aa1baa59956ade7c","name":"stage_yaml","source":"aa1baa59956ade7c.yaml","type":"application/yaml","size":682},{"uid":"eb4e6e3a1298b557","name":"rest_request","source":"eb4e6e3a1298b557.yaml","type":"application/yaml","size":161},{"uid":"7bdfd333dd8fda7c","name":"rest_response","source":"7bdfd333dd8fda7c.yaml","type":"application/yaml","size":606},{"uid":"5975f3c43fb5cf8a","name":"stage_yaml","source":"5975f3c43fb5cf8a.yaml","type":"application/yaml","size":682},{"uid":"71fd8293dc084e0d","name":"rest_request","source":"71fd8293dc084e0d.yaml","type":"application/yaml","size":161},{"uid":"46e3e30d1ac85599","name":"rest_response","source":"46e3e30d1ac85599.yaml","type":"application/yaml","size":606},{"uid":"141d5667111ed612","name":"stage_yaml","source":"141d5667111ed612.yaml","type":"application/yaml","size":682},{"uid":"3d86007d10c706c","name":"rest_request","source":"3d86007d10c706c.yaml","type":"application/yaml","size":161},{"uid":"38e38c5e8a2f233f","name":"rest_response","source":"38e38c5e8a2f233f.yaml","type":"application/yaml","size":606},{"uid":"8d9530aa12213b30","name":"stage_yaml","source":"8d9530aa12213b30.yaml","type":"application/yaml","size":682},{"uid":"3a9396e449e1ac62","name":"rest_request","source":"3a9396e449e1ac62.yaml","type":"application/yaml","size":161},{"uid":"220d097d84e8681e","name":"rest_response","source":"220d097d84e8681e.yaml","type":"application/yaml","size":606},{"uid":"2fe6a70f3a50a88c","name":"stage_yaml","source":"2fe6a70f3a50a88c.yaml","type":"application/yaml","size":682},{"uid":"e61c2b26dbe5f8b1","name":"rest_request","source":"e61c2b26dbe5f8b1.yaml","type":"application/yaml","size":161},{"uid":"3d6e76ce6c02dfe7","name":"rest_response","source":"3d6e76ce6c02dfe7.yaml","type":"application/yaml","size":606},{"uid":"15e2f655cd805343","name":"stage_yaml","source":"15e2f655cd805343.yaml","type":"application/yaml","size":682},{"uid":"3ee470f96cf3e56e","name":"rest_request","source":"3ee470f96cf3e56e.yaml","type":"application/yaml","size":161},{"uid":"92dbc1f3ef89554","name":"rest_response","source":"92dbc1f3ef89554.yaml","type":"application/yaml","size":590}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1676324796255,"stop":1676324796270,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"824e703293f37158","name":"stage_yaml","source":"824e703293f37158.yaml","type":"application/yaml","size":2395},{"uid":"297651b4d5b87fd9","name":"rest_request","source":"297651b4d5b87fd9.yaml","type":"application/yaml","size":161},{"uid":"e9f2e5b3b4ab6952","name":"rest_response","source":"e9f2e5b3b4ab6952.yaml","type":"application/yaml","size":590}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676324796271,"stop":1676324796287,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"284ada01d89da518","name":"stage_yaml","source":"284ada01d89da518.yaml","type":"application/yaml","size":978},{"uid":"366d7924605e25","name":"rest_request","source":"366d7924605e25.yaml","type":"application/yaml","size":145},{"uid":"dd927660174d803c","name":"rest_response","source":"dd927660174d803c.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1676324796288,"stop":1676324796300,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"81ce6b5f76d78ec4","name":"stage_yaml","source":"81ce6b5f76d78ec4.yaml","type":"application/yaml","size":816},{"uid":"827bbdd8109c1a70","name":"rest_request","source":"827bbdd8109c1a70.yaml","type":"application/yaml","size":219},{"uid":"73e5cd6da4e6ac32","name":"rest_response","source":"73e5cd6da4e6ac32.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1676324796302,"stop":1676324797316,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"5186f9d91da5ca85","name":"stage_yaml","source":"5186f9d91da5ca85.yaml","type":"application/yaml","size":693},{"uid":"2ed60a0e4e3b9ffc","name":"rest_request","source":"2ed60a0e4e3b9ffc.yaml","type":"application/yaml","size":161},{"uid":"1bcac221fc4df845","name":"rest_response","source":"1bcac221fc4df845.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1676324797317,"stop":1676324797332,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"67ab7924eb8c2dc0","name":"stage_yaml","source":"67ab7924eb8c2dc0.yaml","type":"application/yaml","size":2549},{"uid":"56d7cb781589605c","name":"rest_request","source":"56d7cb781589605c.yaml","type":"application/yaml","size":161},{"uid":"1aa9fa756e73a972","name":"rest_response","source":"1aa9fa756e73a972.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"d36f90d1ebcecf55","name":"log","source":"d36f90d1ebcecf55.txt","type":"text/plain","size":115733}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"eef637db695a"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"e68cd2560b96d8bc","status":"passed","time":{"start":1674515544898,"stop":1674515577491,"duration":32593}},{"uid":"75bc9fe4ff46b849","status":"passed","time":{"start":1674505718646,"stop":1674505720853,"duration":2207}},{"uid":"7994173b87f76ee4","status":"passed","time":{"start":1674500526963,"stop":1674500529126,"duration":2163}},{"uid":"d3c1fd66308b1580","status":"passed","time":{"start":1674257934555,"stop":1674257936714,"duration":2159}},{"uid":"7378a7cdf4d39cac","status":"passed","time":{"start":1674255255677,"stop":1674255273083,"duration":17406}},{"uid":"fc16bb501e6af1dd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080286390,"stop":1674080286435,"duration":45}},{"uid":"34e35d6cba29643d","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005824,"stop":1674075005855,"duration":31}},{"uid":"424446345afae529","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623136,"stop":1674074623166,"duration":30}}]},"tags":[]},"source":"dadcf9b04d98696f.json","parameterValues":[]}