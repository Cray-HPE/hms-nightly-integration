{"uid":"2f696cd3742c2c7f","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1676324340845,"stop":1676324373520,"duration":32675},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676324340854,"stop":1676324340890,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"f58d284acc2a139a","name":"stage_yaml","source":"f58d284acc2a139a.yaml","type":"application/yaml","size":302},{"uid":"a62cecfb9d0cacb0","name":"rest_request","source":"a62cecfb9d0cacb0.yaml","type":"application/yaml","size":162},{"uid":"309767d55b314e05","name":"rest_response","source":"309767d55b314e05.yaml","type":"application/yaml","size":5745}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676324340891,"stop":1676324340905,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"63860619a6ecf0a1","name":"stage_yaml","source":"63860619a6ecf0a1.yaml","type":"application/yaml","size":797},{"uid":"a12580556c43b904","name":"rest_request","source":"a12580556c43b904.yaml","type":"application/yaml","size":216},{"uid":"41c22650e078b683","name":"rest_response","source":"41c22650e078b683.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1676324340907,"stop":1676324372427,"duration":31520},"status":"passed","steps":[],"attachments":[{"uid":"80ab5d0d39c37cd0","name":"stage_yaml","source":"80ab5d0d39c37cd0.yaml","type":"application/yaml","size":690},{"uid":"8407a0868d171a0b","name":"rest_request","source":"8407a0868d171a0b.yaml","type":"application/yaml","size":161},{"uid":"3c169d69c4bbfce4","name":"rest_response","source":"3c169d69c4bbfce4.yaml","type":"application/yaml","size":587},{"uid":"df4e5ba7d084a361","name":"stage_yaml","source":"df4e5ba7d084a361.yaml","type":"application/yaml","size":690},{"uid":"dfe4eea37b734ced","name":"rest_request","source":"dfe4eea37b734ced.yaml","type":"application/yaml","size":161},{"uid":"a2d0ae5bd7ee7a1d","name":"rest_response","source":"a2d0ae5bd7ee7a1d.yaml","type":"application/yaml","size":608},{"uid":"f9db64dafe54c638","name":"stage_yaml","source":"f9db64dafe54c638.yaml","type":"application/yaml","size":690},{"uid":"38d453ce6a5e96c8","name":"rest_request","source":"38d453ce6a5e96c8.yaml","type":"application/yaml","size":161},{"uid":"5585380bbe512645","name":"rest_response","source":"5585380bbe512645.yaml","type":"application/yaml","size":608},{"uid":"88fdcc55cc9a51f0","name":"stage_yaml","source":"88fdcc55cc9a51f0.yaml","type":"application/yaml","size":690},{"uid":"2fbaa323d922f78c","name":"rest_request","source":"2fbaa323d922f78c.yaml","type":"application/yaml","size":161},{"uid":"6955c6bb9b6d23de","name":"rest_response","source":"6955c6bb9b6d23de.yaml","type":"application/yaml","size":608},{"uid":"364c4bd372ddc5e7","name":"stage_yaml","source":"364c4bd372ddc5e7.yaml","type":"application/yaml","size":690},{"uid":"f0394f419130c683","name":"rest_request","source":"f0394f419130c683.yaml","type":"application/yaml","size":161},{"uid":"7dbfc340a2b6ae86","name":"rest_response","source":"7dbfc340a2b6ae86.yaml","type":"application/yaml","size":608},{"uid":"49ea46a9bff0d2cc","name":"stage_yaml","source":"49ea46a9bff0d2cc.yaml","type":"application/yaml","size":690},{"uid":"6f9765536f49685e","name":"rest_request","source":"6f9765536f49685e.yaml","type":"application/yaml","size":161},{"uid":"1e313f20dd289c15","name":"rest_response","source":"1e313f20dd289c15.yaml","type":"application/yaml","size":608},{"uid":"941c906a463e3282","name":"stage_yaml","source":"941c906a463e3282.yaml","type":"application/yaml","size":690},{"uid":"c95fc21c14819aea","name":"rest_request","source":"c95fc21c14819aea.yaml","type":"application/yaml","size":161},{"uid":"ce46784276a0afd7","name":"rest_response","source":"ce46784276a0afd7.yaml","type":"application/yaml","size":608},{"uid":"9af6384431cc5a9","name":"stage_yaml","source":"9af6384431cc5a9.yaml","type":"application/yaml","size":690},{"uid":"d7fa636181361e3b","name":"rest_request","source":"d7fa636181361e3b.yaml","type":"application/yaml","size":161},{"uid":"32f4dec06f6aa7ed","name":"rest_response","source":"32f4dec06f6aa7ed.yaml","type":"application/yaml","size":608},{"uid":"11f530781af867f","name":"stage_yaml","source":"11f530781af867f.yaml","type":"application/yaml","size":690},{"uid":"6b41626e2e14579b","name":"rest_request","source":"6b41626e2e14579b.yaml","type":"application/yaml","size":161},{"uid":"4c1d763e6c86a013","name":"rest_response","source":"4c1d763e6c86a013.yaml","type":"application/yaml","size":608},{"uid":"7c7c3e96b72bd3d4","name":"stage_yaml","source":"7c7c3e96b72bd3d4.yaml","type":"application/yaml","size":690},{"uid":"64f91e2c3685a3b0","name":"rest_request","source":"64f91e2c3685a3b0.yaml","type":"application/yaml","size":161},{"uid":"5337b53923cdf1c3","name":"rest_response","source":"5337b53923cdf1c3.yaml","type":"application/yaml","size":608},{"uid":"cf22187fb68f7802","name":"stage_yaml","source":"cf22187fb68f7802.yaml","type":"application/yaml","size":690},{"uid":"d8ec51986abb527b","name":"rest_request","source":"d8ec51986abb527b.yaml","type":"application/yaml","size":161},{"uid":"a0066d0c6d04eb90","name":"rest_response","source":"a0066d0c6d04eb90.yaml","type":"application/yaml","size":608},{"uid":"a7f03d2428705634","name":"stage_yaml","source":"a7f03d2428705634.yaml","type":"application/yaml","size":690},{"uid":"db87a3f03e4722af","name":"rest_request","source":"db87a3f03e4722af.yaml","type":"application/yaml","size":161},{"uid":"d5d50505cc2860f8","name":"rest_response","source":"d5d50505cc2860f8.yaml","type":"application/yaml","size":608},{"uid":"547a1601dc9ba03f","name":"stage_yaml","source":"547a1601dc9ba03f.yaml","type":"application/yaml","size":690},{"uid":"dc103d6d36c2be00","name":"rest_request","source":"dc103d6d36c2be00.yaml","type":"application/yaml","size":161},{"uid":"f01a9f406d3e68a9","name":"rest_response","source":"f01a9f406d3e68a9.yaml","type":"application/yaml","size":608},{"uid":"30841171afad5e25","name":"stage_yaml","source":"30841171afad5e25.yaml","type":"application/yaml","size":690},{"uid":"3496f63a4f2ce794","name":"rest_request","source":"3496f63a4f2ce794.yaml","type":"application/yaml","size":161},{"uid":"f3a3de3c0119c673","name":"rest_response","source":"f3a3de3c0119c673.yaml","type":"application/yaml","size":608},{"uid":"beadec840fb5883f","name":"stage_yaml","source":"beadec840fb5883f.yaml","type":"application/yaml","size":690},{"uid":"3b93508d3476b79c","name":"rest_request","source":"3b93508d3476b79c.yaml","type":"application/yaml","size":161},{"uid":"e1648e11f19eb935","name":"rest_response","source":"e1648e11f19eb935.yaml","type":"application/yaml","size":608},{"uid":"ade4fac677e2c5c4","name":"stage_yaml","source":"ade4fac677e2c5c4.yaml","type":"application/yaml","size":690},{"uid":"1d4cd0462fb7d2d","name":"rest_request","source":"1d4cd0462fb7d2d.yaml","type":"application/yaml","size":161},{"uid":"ac052e266d1a1bc7","name":"rest_response","source":"ac052e266d1a1bc7.yaml","type":"application/yaml","size":608},{"uid":"345f66a706101e72","name":"stage_yaml","source":"345f66a706101e72.yaml","type":"application/yaml","size":690},{"uid":"ff3942201eed0030","name":"rest_request","source":"ff3942201eed0030.yaml","type":"application/yaml","size":161},{"uid":"3307d73fc670a81","name":"rest_response","source":"3307d73fc670a81.yaml","type":"application/yaml","size":608},{"uid":"f244f1c90abd04da","name":"stage_yaml","source":"f244f1c90abd04da.yaml","type":"application/yaml","size":690},{"uid":"6ea05e4facffbd29","name":"rest_request","source":"6ea05e4facffbd29.yaml","type":"application/yaml","size":161},{"uid":"d2beea4e9fa7cca0","name":"rest_response","source":"d2beea4e9fa7cca0.yaml","type":"application/yaml","size":608},{"uid":"756fe3d20ebe8d9b","name":"stage_yaml","source":"756fe3d20ebe8d9b.yaml","type":"application/yaml","size":690},{"uid":"8bfdb0f43aca5ef6","name":"rest_request","source":"8bfdb0f43aca5ef6.yaml","type":"application/yaml","size":161},{"uid":"be88393e0a3f938a","name":"rest_response","source":"be88393e0a3f938a.yaml","type":"application/yaml","size":608},{"uid":"90b92db573910faa","name":"stage_yaml","source":"90b92db573910faa.yaml","type":"application/yaml","size":690},{"uid":"c9efbed9c9ccda78","name":"rest_request","source":"c9efbed9c9ccda78.yaml","type":"application/yaml","size":161},{"uid":"4b049bdbf3043657","name":"rest_response","source":"4b049bdbf3043657.yaml","type":"application/yaml","size":608},{"uid":"32c794b9f35bd8b3","name":"stage_yaml","source":"32c794b9f35bd8b3.yaml","type":"application/yaml","size":690},{"uid":"d7b17e6f69b50697","name":"rest_request","source":"d7b17e6f69b50697.yaml","type":"application/yaml","size":161},{"uid":"9f9a23277a50e2d8","name":"rest_response","source":"9f9a23277a50e2d8.yaml","type":"application/yaml","size":608},{"uid":"e57caa52fd1418c1","name":"stage_yaml","source":"e57caa52fd1418c1.yaml","type":"application/yaml","size":690},{"uid":"99c2de9db9f32530","name":"rest_request","source":"99c2de9db9f32530.yaml","type":"application/yaml","size":161},{"uid":"fabb80c354ff874a","name":"rest_response","source":"fabb80c354ff874a.yaml","type":"application/yaml","size":608},{"uid":"11de979ae1498865","name":"stage_yaml","source":"11de979ae1498865.yaml","type":"application/yaml","size":690},{"uid":"aefb2566f126d6fb","name":"rest_request","source":"aefb2566f126d6fb.yaml","type":"application/yaml","size":161},{"uid":"e9a5170555158a79","name":"rest_response","source":"e9a5170555158a79.yaml","type":"application/yaml","size":608},{"uid":"57780b18eb80c135","name":"stage_yaml","source":"57780b18eb80c135.yaml","type":"application/yaml","size":690},{"uid":"796de23d1ca6dea0","name":"rest_request","source":"796de23d1ca6dea0.yaml","type":"application/yaml","size":161},{"uid":"5a4c675e4028cbb6","name":"rest_response","source":"5a4c675e4028cbb6.yaml","type":"application/yaml","size":608},{"uid":"50cbd316db13de56","name":"stage_yaml","source":"50cbd316db13de56.yaml","type":"application/yaml","size":690},{"uid":"8b2ccbe10b6fdc0b","name":"rest_request","source":"8b2ccbe10b6fdc0b.yaml","type":"application/yaml","size":161},{"uid":"995a924240660ef8","name":"rest_response","source":"995a924240660ef8.yaml","type":"application/yaml","size":608},{"uid":"e2b3db4763cb76aa","name":"stage_yaml","source":"e2b3db4763cb76aa.yaml","type":"application/yaml","size":690},{"uid":"7ab03df1dc0571b5","name":"rest_request","source":"7ab03df1dc0571b5.yaml","type":"application/yaml","size":161},{"uid":"29b24fd1c96645ed","name":"rest_response","source":"29b24fd1c96645ed.yaml","type":"application/yaml","size":608},{"uid":"127b3c3dbe7cd55f","name":"stage_yaml","source":"127b3c3dbe7cd55f.yaml","type":"application/yaml","size":690},{"uid":"44881ab0a46389f","name":"rest_request","source":"44881ab0a46389f.yaml","type":"application/yaml","size":161},{"uid":"caa47a81efc3a6b4","name":"rest_response","source":"caa47a81efc3a6b4.yaml","type":"application/yaml","size":608},{"uid":"6a548ef89da55a86","name":"stage_yaml","source":"6a548ef89da55a86.yaml","type":"application/yaml","size":690},{"uid":"242bf6e4602cabd5","name":"rest_request","source":"242bf6e4602cabd5.yaml","type":"application/yaml","size":161},{"uid":"954783ac4aa26c2f","name":"rest_response","source":"954783ac4aa26c2f.yaml","type":"application/yaml","size":608},{"uid":"9f5e86b71c564bd7","name":"stage_yaml","source":"9f5e86b71c564bd7.yaml","type":"application/yaml","size":690},{"uid":"dd4d613ac2d3f123","name":"rest_request","source":"dd4d613ac2d3f123.yaml","type":"application/yaml","size":161},{"uid":"55cfb18b689c9fb","name":"rest_response","source":"55cfb18b689c9fb.yaml","type":"application/yaml","size":608},{"uid":"65abe8f7dcc11bb5","name":"stage_yaml","source":"65abe8f7dcc11bb5.yaml","type":"application/yaml","size":690},{"uid":"aefc4703255d8b51","name":"rest_request","source":"aefc4703255d8b51.yaml","type":"application/yaml","size":161},{"uid":"adb79de0ac369507","name":"rest_response","source":"adb79de0ac369507.yaml","type":"application/yaml","size":608},{"uid":"ed3a562dcd8c1bf4","name":"stage_yaml","source":"ed3a562dcd8c1bf4.yaml","type":"application/yaml","size":690},{"uid":"1f382f066181a564","name":"rest_request","source":"1f382f066181a564.yaml","type":"application/yaml","size":161},{"uid":"f938de56a83c746c","name":"rest_response","source":"f938de56a83c746c.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1676324372428,"stop":1676324372449,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"a8cfaf2f822194e","name":"stage_yaml","source":"a8cfaf2f822194e.yaml","type":"application/yaml","size":2405},{"uid":"15c38290c69ac14d","name":"rest_request","source":"15c38290c69ac14d.yaml","type":"application/yaml","size":161},{"uid":"89618120f6eadf93","name":"rest_response","source":"89618120f6eadf93.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676324372450,"stop":1676324372461,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"7fc89f5bdd1eb9c7","name":"stage_yaml","source":"7fc89f5bdd1eb9c7.yaml","type":"application/yaml","size":978},{"uid":"3f693ad9c832bf3b","name":"rest_request","source":"3f693ad9c832bf3b.yaml","type":"application/yaml","size":145},{"uid":"3b545169df1f540f","name":"rest_response","source":"3b545169df1f540f.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1676324372462,"stop":1676324372473,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"89043d25131490ef","name":"stage_yaml","source":"89043d25131490ef.yaml","type":"application/yaml","size":796},{"uid":"a2239e9cd9217141","name":"rest_request","source":"a2239e9cd9217141.yaml","type":"application/yaml","size":216},{"uid":"73f9b8241fb2bab8","name":"rest_response","source":"73f9b8241fb2bab8.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1676324372475,"stop":1676324373489,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"fa97a9bdcb7a2e9f","name":"stage_yaml","source":"fa97a9bdcb7a2e9f.yaml","type":"application/yaml","size":691},{"uid":"d778bcca9acb0bef","name":"rest_request","source":"d778bcca9acb0bef.yaml","type":"application/yaml","size":161},{"uid":"2c8cac34e2a6a5d3","name":"rest_response","source":"2c8cac34e2a6a5d3.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1676324373490,"stop":1676324373506,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"a2f05be44375de8","name":"stage_yaml","source":"a2f05be44375de8.yaml","type":"application/yaml","size":2355},{"uid":"2bf0106cc5a5d121","name":"rest_request","source":"2bf0106cc5a5d121.yaml","type":"application/yaml","size":161},{"uid":"2f8fd0c041031aca","name":"rest_response","source":"2f8fd0c041031aca.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1676324373507,"stop":1676324373519,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"ebfdbe287ea5d2d4","name":"stage_yaml","source":"ebfdbe287ea5d2d4.yaml","type":"application/yaml","size":984},{"uid":"6197d043456a6eaf","name":"rest_request","source":"6197d043456a6eaf.yaml","type":"application/yaml","size":145},{"uid":"8172af1af4b50563","name":"rest_response","source":"8172af1af4b50563.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"3ed921ed55c5e399","name":"log","source":"3ed921ed55c5e399.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"eef637db695a"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"18ddb8e7207b6d26","status":"passed","time":{"start":1674515152862,"stop":1674515155028,"duration":2166}},{"uid":"c209a7faa9f48727","status":"passed","time":{"start":1674505231278,"stop":1674505233516,"duration":2238}},{"uid":"b8d62ff7eaed3a7a","status":"passed","time":{"start":1674500043124,"stop":1674500075783,"duration":32659}},{"uid":"6554af4d534f0d81","status":"passed","time":{"start":1674257481327,"stop":1674257498775,"duration":17448}},{"uid":"ad3bc452eff1fe8b","status":"passed","time":{"start":1674254741159,"stop":1674254773826,"duration":32667}},{"uid":"80a04d3d89544206","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080275413,"stop":1674080275460,"duration":47}},{"uid":"cea5991e3551094e","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005162,"stop":1674075005194,"duration":32}},{"uid":"a5b79361066cbd0b","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074622519,"stop":1674074622555,"duration":36}}]},"tags":[]},"source":"2f696cd3742c2c7f.json","parameterValues":[]}