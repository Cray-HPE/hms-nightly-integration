{"uid":"a08f0fb12f37f14b","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1676324308069,"stop":1676324340838,"duration":32769},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676324308078,"stop":1676324308116,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"e124ef0f058e81e5","name":"stage_yaml","source":"e124ef0f058e81e5.yaml","type":"application/yaml","size":302},{"uid":"30a1761f421bde50","name":"rest_request","source":"30a1761f421bde50.yaml","type":"application/yaml","size":162},{"uid":"7e9a0013a11c4a78","name":"rest_response","source":"7e9a0013a11c4a78.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1676324308117,"stop":1676324308130,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"351a8d88a25470f4","name":"stage_yaml","source":"351a8d88a25470f4.yaml","type":"application/yaml","size":775},{"uid":"88de70126284c30b","name":"rest_request","source":"88de70126284c30b.yaml","type":"application/yaml","size":211},{"uid":"a49674b92478ef61","name":"rest_response","source":"a49674b92478ef61.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676324308131,"stop":1676324309147,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"cc2914296eae50c4","name":"stage_yaml","source":"cc2914296eae50c4.yaml","type":"application/yaml","size":661},{"uid":"dd0c1f69f15ff3f7","name":"rest_request","source":"dd0c1f69f15ff3f7.yaml","type":"application/yaml","size":161},{"uid":"3e84b78245f99ee6","name":"rest_response","source":"3e84b78245f99ee6.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676324309148,"stop":1676324309164,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"4126e2f48f854c04","name":"stage_yaml","source":"4126e2f48f854c04.yaml","type":"application/yaml","size":2375},{"uid":"919cee44c5942737","name":"rest_request","source":"919cee44c5942737.yaml","type":"application/yaml","size":161},{"uid":"54869d181843b75c","name":"rest_response","source":"54869d181843b75c.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1676324309165,"stop":1676324309177,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"7de206d0d53df4eb","name":"stage_yaml","source":"7de206d0d53df4eb.yaml","type":"application/yaml","size":976},{"uid":"d822b69eaaf664d2","name":"rest_request","source":"d822b69eaaf664d2.yaml","type":"application/yaml","size":145},{"uid":"d97326312ee9ac26","name":"rest_response","source":"d97326312ee9ac26.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1676324309178,"stop":1676324309190,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"f311f44b93d9c365","name":"stage_yaml","source":"f311f44b93d9c365.yaml","type":"application/yaml","size":795},{"uid":"e802441d2ad26a41","name":"rest_request","source":"e802441d2ad26a41.yaml","type":"application/yaml","size":216},{"uid":"2ca4b00e7462ab8","name":"rest_response","source":"2ca4b00e7462ab8.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1676324309191,"stop":1676324340807,"duration":31616},"status":"passed","steps":[],"attachments":[{"uid":"103fbdaccb2210f5","name":"stage_yaml","source":"103fbdaccb2210f5.yaml","type":"application/yaml","size":684},{"uid":"fa7e0d4d533672b8","name":"rest_request","source":"fa7e0d4d533672b8.yaml","type":"application/yaml","size":161},{"uid":"d6313d57e4cb454a","name":"rest_response","source":"d6313d57e4cb454a.yaml","type":"application/yaml","size":572},{"uid":"2a0593ee807959ec","name":"stage_yaml","source":"2a0593ee807959ec.yaml","type":"application/yaml","size":684},{"uid":"931616f8bbf60731","name":"rest_request","source":"931616f8bbf60731.yaml","type":"application/yaml","size":161},{"uid":"adf341ce98e04ae0","name":"rest_response","source":"adf341ce98e04ae0.yaml","type":"application/yaml","size":608},{"uid":"33964f271a26da9b","name":"stage_yaml","source":"33964f271a26da9b.yaml","type":"application/yaml","size":684},{"uid":"225e7369eabaaab","name":"rest_request","source":"225e7369eabaaab.yaml","type":"application/yaml","size":161},{"uid":"ac16dfae39c48b19","name":"rest_response","source":"ac16dfae39c48b19.yaml","type":"application/yaml","size":608},{"uid":"1a513f554e5f4ff7","name":"stage_yaml","source":"1a513f554e5f4ff7.yaml","type":"application/yaml","size":684},{"uid":"d4b94cf1d04bc940","name":"rest_request","source":"d4b94cf1d04bc940.yaml","type":"application/yaml","size":161},{"uid":"a229c4d86f794557","name":"rest_response","source":"a229c4d86f794557.yaml","type":"application/yaml","size":608},{"uid":"5b16ed3a2c9a7775","name":"stage_yaml","source":"5b16ed3a2c9a7775.yaml","type":"application/yaml","size":684},{"uid":"8344dc53850d0578","name":"rest_request","source":"8344dc53850d0578.yaml","type":"application/yaml","size":161},{"uid":"32f8fd32b877e7c4","name":"rest_response","source":"32f8fd32b877e7c4.yaml","type":"application/yaml","size":608},{"uid":"512beff76f0bc7a6","name":"stage_yaml","source":"512beff76f0bc7a6.yaml","type":"application/yaml","size":684},{"uid":"48bf3bd5fc9136d3","name":"rest_request","source":"48bf3bd5fc9136d3.yaml","type":"application/yaml","size":161},{"uid":"7a984e36c0ad0177","name":"rest_response","source":"7a984e36c0ad0177.yaml","type":"application/yaml","size":608},{"uid":"f0431bca74f85a20","name":"stage_yaml","source":"f0431bca74f85a20.yaml","type":"application/yaml","size":684},{"uid":"30fe637141870a6d","name":"rest_request","source":"30fe637141870a6d.yaml","type":"application/yaml","size":161},{"uid":"cc1dfc90df5a14ff","name":"rest_response","source":"cc1dfc90df5a14ff.yaml","type":"application/yaml","size":608},{"uid":"714756f4eac7710","name":"stage_yaml","source":"714756f4eac7710.yaml","type":"application/yaml","size":684},{"uid":"4d958efbbf790a1d","name":"rest_request","source":"4d958efbbf790a1d.yaml","type":"application/yaml","size":161},{"uid":"8e5b1751cebad54c","name":"rest_response","source":"8e5b1751cebad54c.yaml","type":"application/yaml","size":608},{"uid":"457c06b4ba502561","name":"stage_yaml","source":"457c06b4ba502561.yaml","type":"application/yaml","size":684},{"uid":"61a2037cf6872617","name":"rest_request","source":"61a2037cf6872617.yaml","type":"application/yaml","size":161},{"uid":"6624222082457cb3","name":"rest_response","source":"6624222082457cb3.yaml","type":"application/yaml","size":608},{"uid":"240dae9cd2b7b184","name":"stage_yaml","source":"240dae9cd2b7b184.yaml","type":"application/yaml","size":684},{"uid":"b33e01411b6f63","name":"rest_request","source":"b33e01411b6f63.yaml","type":"application/yaml","size":161},{"uid":"9b05b7f5cff2b64f","name":"rest_response","source":"9b05b7f5cff2b64f.yaml","type":"application/yaml","size":608},{"uid":"411ce203c172719a","name":"stage_yaml","source":"411ce203c172719a.yaml","type":"application/yaml","size":684},{"uid":"6bbe835434cec683","name":"rest_request","source":"6bbe835434cec683.yaml","type":"application/yaml","size":161},{"uid":"3496bb69374382d5","name":"rest_response","source":"3496bb69374382d5.yaml","type":"application/yaml","size":608},{"uid":"c461975c467689de","name":"stage_yaml","source":"c461975c467689de.yaml","type":"application/yaml","size":684},{"uid":"d3f44b6811a518e0","name":"rest_request","source":"d3f44b6811a518e0.yaml","type":"application/yaml","size":161},{"uid":"42d79c4e020c24c4","name":"rest_response","source":"42d79c4e020c24c4.yaml","type":"application/yaml","size":608},{"uid":"2d91be85635647a","name":"stage_yaml","source":"2d91be85635647a.yaml","type":"application/yaml","size":684},{"uid":"6c6649a405479cf0","name":"rest_request","source":"6c6649a405479cf0.yaml","type":"application/yaml","size":161},{"uid":"74811fc373c60702","name":"rest_response","source":"74811fc373c60702.yaml","type":"application/yaml","size":608},{"uid":"84b4591f80303804","name":"stage_yaml","source":"84b4591f80303804.yaml","type":"application/yaml","size":684},{"uid":"536122057889fcaa","name":"rest_request","source":"536122057889fcaa.yaml","type":"application/yaml","size":161},{"uid":"6198f24da806d0db","name":"rest_response","source":"6198f24da806d0db.yaml","type":"application/yaml","size":608},{"uid":"c94384d776978e94","name":"stage_yaml","source":"c94384d776978e94.yaml","type":"application/yaml","size":684},{"uid":"4a5b8d1f32971f9b","name":"rest_request","source":"4a5b8d1f32971f9b.yaml","type":"application/yaml","size":161},{"uid":"2c295fcfc1821e9f","name":"rest_response","source":"2c295fcfc1821e9f.yaml","type":"application/yaml","size":608},{"uid":"10d57ad8653bb578","name":"stage_yaml","source":"10d57ad8653bb578.yaml","type":"application/yaml","size":684},{"uid":"8a99d3fad8a49078","name":"rest_request","source":"8a99d3fad8a49078.yaml","type":"application/yaml","size":161},{"uid":"62c50de8c1c16c9f","name":"rest_response","source":"62c50de8c1c16c9f.yaml","type":"application/yaml","size":608},{"uid":"398608ebb319050b","name":"stage_yaml","source":"398608ebb319050b.yaml","type":"application/yaml","size":684},{"uid":"c55c9c291a8e2a48","name":"rest_request","source":"c55c9c291a8e2a48.yaml","type":"application/yaml","size":161},{"uid":"7ae0f1a3e287db84","name":"rest_response","source":"7ae0f1a3e287db84.yaml","type":"application/yaml","size":608},{"uid":"4cd1b4130a9c906d","name":"stage_yaml","source":"4cd1b4130a9c906d.yaml","type":"application/yaml","size":684},{"uid":"b87d4cd04329d7a8","name":"rest_request","source":"b87d4cd04329d7a8.yaml","type":"application/yaml","size":161},{"uid":"d1a6978b695c7a19","name":"rest_response","source":"d1a6978b695c7a19.yaml","type":"application/yaml","size":608},{"uid":"c0aebf17b1287856","name":"stage_yaml","source":"c0aebf17b1287856.yaml","type":"application/yaml","size":684},{"uid":"9e74d9c2fbce6e50","name":"rest_request","source":"9e74d9c2fbce6e50.yaml","type":"application/yaml","size":161},{"uid":"85140cd5b40157e","name":"rest_response","source":"85140cd5b40157e.yaml","type":"application/yaml","size":608},{"uid":"26ec3042e115f8a5","name":"stage_yaml","source":"26ec3042e115f8a5.yaml","type":"application/yaml","size":684},{"uid":"f8008fead3172f16","name":"rest_request","source":"f8008fead3172f16.yaml","type":"application/yaml","size":161},{"uid":"87c928a8c1743f0e","name":"rest_response","source":"87c928a8c1743f0e.yaml","type":"application/yaml","size":608},{"uid":"7c060d5cd63090a4","name":"stage_yaml","source":"7c060d5cd63090a4.yaml","type":"application/yaml","size":684},{"uid":"57cdb6ff20bced1","name":"rest_request","source":"57cdb6ff20bced1.yaml","type":"application/yaml","size":161},{"uid":"3a6ae325bd2c7144","name":"rest_response","source":"3a6ae325bd2c7144.yaml","type":"application/yaml","size":608},{"uid":"2e3daeb04bcbfbf1","name":"stage_yaml","source":"2e3daeb04bcbfbf1.yaml","type":"application/yaml","size":684},{"uid":"815693ef8ecbc89a","name":"rest_request","source":"815693ef8ecbc89a.yaml","type":"application/yaml","size":161},{"uid":"fb58fb2c07b1a212","name":"rest_response","source":"fb58fb2c07b1a212.yaml","type":"application/yaml","size":608},{"uid":"c13be71f38121116","name":"stage_yaml","source":"c13be71f38121116.yaml","type":"application/yaml","size":684},{"uid":"e8b377d25d20ceb8","name":"rest_request","source":"e8b377d25d20ceb8.yaml","type":"application/yaml","size":161},{"uid":"baabf4104e440603","name":"rest_response","source":"baabf4104e440603.yaml","type":"application/yaml","size":608},{"uid":"c689f55a071e73d4","name":"stage_yaml","source":"c689f55a071e73d4.yaml","type":"application/yaml","size":684},{"uid":"ec2a15232312ccf","name":"rest_request","source":"ec2a15232312ccf.yaml","type":"application/yaml","size":161},{"uid":"ac9a83e73c8e6ace","name":"rest_response","source":"ac9a83e73c8e6ace.yaml","type":"application/yaml","size":608},{"uid":"4cefefbc40a139be","name":"stage_yaml","source":"4cefefbc40a139be.yaml","type":"application/yaml","size":684},{"uid":"c8853056bc1aef56","name":"rest_request","source":"c8853056bc1aef56.yaml","type":"application/yaml","size":161},{"uid":"a0f6f4c35682d77a","name":"rest_response","source":"a0f6f4c35682d77a.yaml","type":"application/yaml","size":608},{"uid":"64460befd18ce882","name":"stage_yaml","source":"64460befd18ce882.yaml","type":"application/yaml","size":684},{"uid":"5fe6d3b67c934171","name":"rest_request","source":"5fe6d3b67c934171.yaml","type":"application/yaml","size":161},{"uid":"aefe482a3a8f7921","name":"rest_response","source":"aefe482a3a8f7921.yaml","type":"application/yaml","size":608},{"uid":"4c354832669c017b","name":"stage_yaml","source":"4c354832669c017b.yaml","type":"application/yaml","size":684},{"uid":"b7f8acde8dcce247","name":"rest_request","source":"b7f8acde8dcce247.yaml","type":"application/yaml","size":161},{"uid":"9be1b2c9f92e0653","name":"rest_response","source":"9be1b2c9f92e0653.yaml","type":"application/yaml","size":608},{"uid":"5ed9556b253fe592","name":"stage_yaml","source":"5ed9556b253fe592.yaml","type":"application/yaml","size":684},{"uid":"1653f72ef7f84ae1","name":"rest_request","source":"1653f72ef7f84ae1.yaml","type":"application/yaml","size":161},{"uid":"e4b4adf79cdb580c","name":"rest_response","source":"e4b4adf79cdb580c.yaml","type":"application/yaml","size":608},{"uid":"2102bc05cab14a23","name":"stage_yaml","source":"2102bc05cab14a23.yaml","type":"application/yaml","size":684},{"uid":"286c7a7334222346","name":"rest_request","source":"286c7a7334222346.yaml","type":"application/yaml","size":161},{"uid":"2d9a8e4796628ec5","name":"rest_response","source":"2d9a8e4796628ec5.yaml","type":"application/yaml","size":608},{"uid":"5dc8dbdd0ac9716e","name":"stage_yaml","source":"5dc8dbdd0ac9716e.yaml","type":"application/yaml","size":684},{"uid":"799610d1adf94ff5","name":"rest_request","source":"799610d1adf94ff5.yaml","type":"application/yaml","size":161},{"uid":"8db469e31e4b7813","name":"rest_response","source":"8db469e31e4b7813.yaml","type":"application/yaml","size":608},{"uid":"49ca251ecfd8c70d","name":"stage_yaml","source":"49ca251ecfd8c70d.yaml","type":"application/yaml","size":684},{"uid":"29ead886cc55490b","name":"rest_request","source":"29ead886cc55490b.yaml","type":"application/yaml","size":161},{"uid":"7d5f2660f22e45cf","name":"rest_response","source":"7d5f2660f22e45cf.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1676324340808,"stop":1676324340825,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"db325a46e7efef3e","name":"stage_yaml","source":"db325a46e7efef3e.yaml","type":"application/yaml","size":2336},{"uid":"5d360703fcdd1f4b","name":"rest_request","source":"5d360703fcdd1f4b.yaml","type":"application/yaml","size":161},{"uid":"4bb1bfb1656fd504","name":"rest_response","source":"4bb1bfb1656fd504.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1676324340826,"stop":1676324340838,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"2f7c4eb33afbb03d","name":"stage_yaml","source":"2f7c4eb33afbb03d.yaml","type":"application/yaml","size":978},{"uid":"e50d1dbb4f7ef15d","name":"rest_request","source":"e50d1dbb4f7ef15d.yaml","type":"application/yaml","size":145},{"uid":"67647329cd400271","name":"rest_response","source":"67647329cd400271.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"fc5bd1c5db8f2a16","name":"log","source":"fc5bd1c5db8f2a16.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"eef637db695a"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"80ef640ccc769ba6","status":"passed","time":{"start":1674515135445,"stop":1674515152857,"duration":17412}},{"uid":"e39f8b3abcbef727","status":"passed","time":{"start":1674505198362,"stop":1674505231270,"duration":32908}},{"uid":"d4a9140df39ed9d5","status":"passed","time":{"start":1674500025702,"stop":1674500043119,"duration":17417}},{"uid":"33e8e355e3ea7392","status":"passed","time":{"start":1674257402786,"stop":1674257481316,"duration":78530}},{"uid":"ab2961c357340a1","status":"passed","time":{"start":1674254723736,"stop":1674254741154,"duration":17418}},{"uid":"6001dae660fb87e0","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080274145,"stop":1674080275280,"duration":1135}},{"uid":"79a5f22179955b39","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005111,"stop":1674075005146,"duration":35}},{"uid":"a9725d25de83b127","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622465,"stop":1674074622502,"duration":37}}]},"tags":[]},"source":"a08f0fb12f37f14b.json","parameterValues":[]}