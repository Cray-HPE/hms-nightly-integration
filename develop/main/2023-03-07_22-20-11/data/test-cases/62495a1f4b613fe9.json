{"uid":"62495a1f4b613fe9","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1678226621245,"stop":1678226623420,"duration":2175},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678226621254,"stop":1678226621291,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"f54358f0b34e21a9","name":"stage_yaml","source":"f54358f0b34e21a9.yaml","type":"application/yaml","size":302},{"uid":"10c5ca0dd6d5bbc9","name":"rest_request","source":"10c5ca0dd6d5bbc9.yaml","type":"application/yaml","size":162},{"uid":"9b4c233539500048","name":"rest_response","source":"9b4c233539500048.yaml","type":"application/yaml","size":5772}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678226621292,"stop":1678226621306,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"1eb45dd8da797b","name":"stage_yaml","source":"1eb45dd8da797b.yaml","type":"application/yaml","size":797},{"uid":"f32a5e0d6b022c71","name":"rest_request","source":"f32a5e0d6b022c71.yaml","type":"application/yaml","size":216},{"uid":"3dc05c7b43da4da1","name":"rest_response","source":"3dc05c7b43da4da1.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1678226621307,"stop":1678226622323,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"4ce3f4424fcfcb97","name":"stage_yaml","source":"4ce3f4424fcfcb97.yaml","type":"application/yaml","size":690},{"uid":"755ce04b80d8ef3f","name":"rest_request","source":"755ce04b80d8ef3f.yaml","type":"application/yaml","size":161},{"uid":"14eb72d28daf1cb9","name":"rest_response","source":"14eb72d28daf1cb9.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1678226622324,"stop":1678226622341,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"f0288ccd56b912","name":"stage_yaml","source":"f0288ccd56b912.yaml","type":"application/yaml","size":2405},{"uid":"24354861c7b20d02","name":"rest_request","source":"24354861c7b20d02.yaml","type":"application/yaml","size":161},{"uid":"364bc05a430e2898","name":"rest_response","source":"364bc05a430e2898.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678226622342,"stop":1678226622355,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"7809eeee5d66f55a","name":"stage_yaml","source":"7809eeee5d66f55a.yaml","type":"application/yaml","size":978},{"uid":"644acbbd47c82ea0","name":"rest_request","source":"644acbbd47c82ea0.yaml","type":"application/yaml","size":145},{"uid":"21fdcf6204546867","name":"rest_response","source":"21fdcf6204546867.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1678226622356,"stop":1678226622368,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"97008158b43f9ec2","name":"stage_yaml","source":"97008158b43f9ec2.yaml","type":"application/yaml","size":796},{"uid":"847adf82052921b1","name":"rest_request","source":"847adf82052921b1.yaml","type":"application/yaml","size":216},{"uid":"5dc69550f8aecf8b","name":"rest_response","source":"5dc69550f8aecf8b.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1678226622370,"stop":1678226623387,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"7a7f281bcd3dc3c1","name":"stage_yaml","source":"7a7f281bcd3dc3c1.yaml","type":"application/yaml","size":691},{"uid":"3bbb9a4c757053b7","name":"rest_request","source":"3bbb9a4c757053b7.yaml","type":"application/yaml","size":161},{"uid":"e670a9dbea7a4985","name":"rest_response","source":"e670a9dbea7a4985.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1678226623388,"stop":1678226623405,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"8f6bf85b4d09eaaa","name":"stage_yaml","source":"8f6bf85b4d09eaaa.yaml","type":"application/yaml","size":2355},{"uid":"6da3e15b8447f211","name":"rest_request","source":"6da3e15b8447f211.yaml","type":"application/yaml","size":161},{"uid":"bfdf4f6e3bfa8746","name":"rest_response","source":"bfdf4f6e3bfa8746.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1678226623406,"stop":1678226623419,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"656fb067cccf1172","name":"stage_yaml","source":"656fb067cccf1172.yaml","type":"application/yaml","size":984},{"uid":"e4a60d619f22e9bd","name":"rest_request","source":"e4a60d619f22e9bd.yaml","type":"application/yaml","size":145},{"uid":"a2806dfc7fbde0b","name":"rest_response","source":"a2806dfc7fbde0b.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":9,"attachmentsCount":27,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"ebb6a9da5332"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":15},"items":[{"uid":"56b1b88adffb6f7","status":"passed","time":{"start":1678224088087,"stop":1678224120787,"duration":32700}},{"uid":"276174ead0f91107","status":"passed","time":{"start":1678221240614,"stop":1678221273240,"duration":32626}},{"uid":"2edf96afc9964805","status":"passed","time":{"start":1678217538873,"stop":1678217571547,"duration":32674}},{"uid":"e5503ea15a5ad405","status":"passed","time":{"start":1676400622798,"stop":1676400655419,"duration":32621}},{"uid":"9a887f834114b02a","status":"passed","time":{"start":1676399614897,"stop":1676399647605,"duration":32708}},{"uid":"2f696cd3742c2c7f","status":"passed","time":{"start":1676324340845,"stop":1676324373520,"duration":32675}},{"uid":"18ddb8e7207b6d26","status":"passed","time":{"start":1674515152862,"stop":1674515155028,"duration":2166}},{"uid":"c209a7faa9f48727","status":"passed","time":{"start":1674505231278,"stop":1674505233516,"duration":2238}},{"uid":"b8d62ff7eaed3a7a","status":"passed","time":{"start":1674500043124,"stop":1674500075783,"duration":32659}},{"uid":"6554af4d534f0d81","status":"passed","time":{"start":1674257481327,"stop":1674257498775,"duration":17448}},{"uid":"ad3bc452eff1fe8b","status":"passed","time":{"start":1674254741159,"stop":1674254773826,"duration":32667}},{"uid":"80a04d3d89544206","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080275413,"stop":1674080275460,"duration":47}},{"uid":"cea5991e3551094e","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005162,"stop":1674075005194,"duration":32}},{"uid":"a5b79361066cbd0b","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074622519,"stop":1674074622555,"duration":36}}]},"tags":[]},"source":"62495a1f4b613fe9.json","parameterValues":[]}