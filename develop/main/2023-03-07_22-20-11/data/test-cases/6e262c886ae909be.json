{"uid":"6e262c886ae909be","name":"Verify transitions powers off a chassis that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a chassis that is powered on","historyId":"5d81f3489d062d69a1bf0c1814cdfdee","time":{"start":1678226686702,"stop":1678226704213,"duration":17511},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a chassis from HSM to be used in later stages","time":{"start":1678226686711,"stop":1678226686723,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"dd2760f6198c10bd","name":"stage_yaml","source":"dd2760f6198c10bd.yaml","type":"application/yaml","size":277},{"uid":"87a75828764cd549","name":"rest_request","source":"87a75828764cd549.yaml","type":"application/yaml","size":139},{"uid":"89d10a7fb072514c","name":"rest_response","source":"89d10a7fb072514c.yaml","type":"application/yaml","size":301}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target chassis on to prepare it for the test case","time":{"start":1678226686724,"stop":1678226686738,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"add249152a72ea4a","name":"stage_yaml","source":"add249152a72ea4a.yaml","type":"application/yaml","size":781},{"uid":"f6e751a973bcdbb1","name":"rest_request","source":"f6e751a973bcdbb1.yaml","type":"application/yaml","size":205},{"uid":"8acfd4b45e678787","name":"rest_response","source":"8acfd4b45e678787.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678226686739,"stop":1678226687759,"duration":1020},"status":"passed","steps":[],"attachments":[{"uid":"ce71fa704a4dbc47","name":"stage_yaml","source":"ce71fa704a4dbc47.yaml","type":"application/yaml","size":661},{"uid":"81a5143762bc49fb","name":"rest_request","source":"81a5143762bc49fb.yaml","type":"application/yaml","size":161},{"uid":"1029769a9c233107","name":"rest_response","source":"1029769a9c233107.yaml","type":"application/yaml","size":583}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678226687760,"stop":1678226687776,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"ad6737b39b5b7bc4","name":"stage_yaml","source":"ad6737b39b5b7bc4.yaml","type":"application/yaml","size":2378},{"uid":"c99682dcb96188be","name":"rest_request","source":"c99682dcb96188be.yaml","type":"application/yaml","size":161},{"uid":"50448b3e97fd5616","name":"rest_response","source":"50448b3e97fd5616.yaml","type":"application/yaml","size":583}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target chassis is powered on using power-status","time":{"start":1678226687777,"stop":1678226687791,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"4d5fa649b2069d77","name":"stage_yaml","source":"4d5fa649b2069d77.yaml","type":"application/yaml","size":985},{"uid":"d1aa9bf3bca77440","name":"rest_request","source":"d1aa9bf3bca77440.yaml","type":"application/yaml","size":139},{"uid":"c4fb1e2628330bbe","name":"rest_response","source":"c4fb1e2628330bbe.yaml","type":"application/yaml","size":432}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target chassis off with a force-off transition","time":{"start":1678226687792,"stop":1678226687806,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"fe2a9cbe30a48765","name":"stage_yaml","source":"fe2a9cbe30a48765.yaml","type":"application/yaml","size":801},{"uid":"69580a5e3b42c83d","name":"rest_request","source":"69580a5e3b42c83d.yaml","type":"application/yaml","size":210},{"uid":"6cc0384f5d874519","name":"rest_response","source":"6cc0384f5d874519.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678226687807,"stop":1678226704175,"duration":16368},"status":"passed","steps":[],"attachments":[{"uid":"167b1e031379f2fc","name":"stage_yaml","source":"167b1e031379f2fc.yaml","type":"application/yaml","size":684},{"uid":"832ace8eb7113434","name":"rest_request","source":"832ace8eb7113434.yaml","type":"application/yaml","size":161},{"uid":"9d3f839091880ee7","name":"rest_response","source":"9d3f839091880ee7.yaml","type":"application/yaml","size":566},{"uid":"c0d0cf690ca4dfa9","name":"stage_yaml","source":"c0d0cf690ca4dfa9.yaml","type":"application/yaml","size":684},{"uid":"24d2f8941d76a8e4","name":"rest_request","source":"24d2f8941d76a8e4.yaml","type":"application/yaml","size":161},{"uid":"f4eb5d70cf748f4a","name":"rest_response","source":"f4eb5d70cf748f4a.yaml","type":"application/yaml","size":602},{"uid":"8f516764b9ebeb76","name":"stage_yaml","source":"8f516764b9ebeb76.yaml","type":"application/yaml","size":684},{"uid":"13d3b9c52fd6a3ba","name":"rest_request","source":"13d3b9c52fd6a3ba.yaml","type":"application/yaml","size":161},{"uid":"63131f076a2789e","name":"rest_response","source":"63131f076a2789e.yaml","type":"application/yaml","size":602},{"uid":"127e34ea5e6b0752","name":"stage_yaml","source":"127e34ea5e6b0752.yaml","type":"application/yaml","size":684},{"uid":"85ec511c5a3109e1","name":"rest_request","source":"85ec511c5a3109e1.yaml","type":"application/yaml","size":161},{"uid":"9aed65cb47565f75","name":"rest_response","source":"9aed65cb47565f75.yaml","type":"application/yaml","size":602},{"uid":"cb52ac735e28d999","name":"stage_yaml","source":"cb52ac735e28d999.yaml","type":"application/yaml","size":684},{"uid":"7a0f260046e600a3","name":"rest_request","source":"7a0f260046e600a3.yaml","type":"application/yaml","size":161},{"uid":"53647d7879daff","name":"rest_response","source":"53647d7879daff.yaml","type":"application/yaml","size":602},{"uid":"33aef8746ac381c8","name":"stage_yaml","source":"33aef8746ac381c8.yaml","type":"application/yaml","size":684},{"uid":"9b066e9f32ee13e6","name":"rest_request","source":"9b066e9f32ee13e6.yaml","type":"application/yaml","size":161},{"uid":"650c420ee530042","name":"rest_response","source":"650c420ee530042.yaml","type":"application/yaml","size":602},{"uid":"943bdccc68b07ed5","name":"stage_yaml","source":"943bdccc68b07ed5.yaml","type":"application/yaml","size":684},{"uid":"33064769eb26e569","name":"rest_request","source":"33064769eb26e569.yaml","type":"application/yaml","size":161},{"uid":"120c5e787fb13a81","name":"rest_response","source":"120c5e787fb13a81.yaml","type":"application/yaml","size":602},{"uid":"803210dac002bdc6","name":"stage_yaml","source":"803210dac002bdc6.yaml","type":"application/yaml","size":684},{"uid":"a9bcaeb8f590e386","name":"rest_request","source":"a9bcaeb8f590e386.yaml","type":"application/yaml","size":161},{"uid":"b1d6009d617c73bd","name":"rest_response","source":"b1d6009d617c73bd.yaml","type":"application/yaml","size":602},{"uid":"cf7a723466e221fa","name":"stage_yaml","source":"cf7a723466e221fa.yaml","type":"application/yaml","size":684},{"uid":"d919908269b8f489","name":"rest_request","source":"d919908269b8f489.yaml","type":"application/yaml","size":161},{"uid":"fae848a30b47a8ca","name":"rest_response","source":"fae848a30b47a8ca.yaml","type":"application/yaml","size":602},{"uid":"6da54dfe95c10635","name":"stage_yaml","source":"6da54dfe95c10635.yaml","type":"application/yaml","size":684},{"uid":"9b2177ae1355d797","name":"rest_request","source":"9b2177ae1355d797.yaml","type":"application/yaml","size":161},{"uid":"b2afe6d075bd2d6d","name":"rest_response","source":"b2afe6d075bd2d6d.yaml","type":"application/yaml","size":602},{"uid":"ef31b1e6c3f8dc83","name":"stage_yaml","source":"ef31b1e6c3f8dc83.yaml","type":"application/yaml","size":684},{"uid":"a454253925b78644","name":"rest_request","source":"a454253925b78644.yaml","type":"application/yaml","size":161},{"uid":"63b8b373ad341e5a","name":"rest_response","source":"63b8b373ad341e5a.yaml","type":"application/yaml","size":602},{"uid":"4be4d34cb46fdd12","name":"stage_yaml","source":"4be4d34cb46fdd12.yaml","type":"application/yaml","size":684},{"uid":"39816777c87895ae","name":"rest_request","source":"39816777c87895ae.yaml","type":"application/yaml","size":161},{"uid":"79590a51e82137ea","name":"rest_response","source":"79590a51e82137ea.yaml","type":"application/yaml","size":602},{"uid":"d31c514dc150bd42","name":"stage_yaml","source":"d31c514dc150bd42.yaml","type":"application/yaml","size":684},{"uid":"7012031c5e40ab36","name":"rest_request","source":"7012031c5e40ab36.yaml","type":"application/yaml","size":161},{"uid":"6347f0a72245a0a5","name":"rest_response","source":"6347f0a72245a0a5.yaml","type":"application/yaml","size":602},{"uid":"676f34b92742d715","name":"stage_yaml","source":"676f34b92742d715.yaml","type":"application/yaml","size":684},{"uid":"5e8462129b3532ed","name":"rest_request","source":"5e8462129b3532ed.yaml","type":"application/yaml","size":161},{"uid":"400107151fd95999","name":"rest_response","source":"400107151fd95999.yaml","type":"application/yaml","size":602},{"uid":"950b8c76085510c3","name":"stage_yaml","source":"950b8c76085510c3.yaml","type":"application/yaml","size":684},{"uid":"994fb89ffa653c89","name":"rest_request","source":"994fb89ffa653c89.yaml","type":"application/yaml","size":161},{"uid":"161c6e06cb116bc2","name":"rest_response","source":"161c6e06cb116bc2.yaml","type":"application/yaml","size":602},{"uid":"5d3f4fd9da775903","name":"stage_yaml","source":"5d3f4fd9da775903.yaml","type":"application/yaml","size":684},{"uid":"62f58ad95d724925","name":"rest_request","source":"62f58ad95d724925.yaml","type":"application/yaml","size":161},{"uid":"bdc3448c512b7904","name":"rest_response","source":"bdc3448c512b7904.yaml","type":"application/yaml","size":586}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678226704177,"stop":1678226704198,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"18b49e815439bda7","name":"stage_yaml","source":"18b49e815439bda7.yaml","type":"application/yaml","size":2339},{"uid":"eb17ef44380bdc2","name":"rest_request","source":"eb17ef44380bdc2.yaml","type":"application/yaml","size":161},{"uid":"327cebde83d61bcb","name":"rest_response","source":"327cebde83d61bcb.yaml","type":"application/yaml","size":586}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target chassis is powered off using power-status","time":{"start":1678226704199,"stop":1678226704212,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"23d4fefd5a48c8fd","name":"stage_yaml","source":"23d4fefd5a48c8fd.yaml","type":"application/yaml","size":987},{"uid":"e4b0604d5bb710b0","name":"rest_request","source":"e4b0604d5bb710b0.yaml","type":"application/yaml","size":139},{"uid":"ff23c5694908ac8","name":"rest_response","source":"ff23c5694908ac8.yaml","type":"application/yaml","size":433}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"55f8b69c43056424","name":"log","source":"55f8b69c43056424.txt","type":"text/plain","size":57788}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"ebb6a9da5332"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":15},"items":[{"uid":"2585f251fc300728","status":"passed","time":{"start":1678224138237,"stop":1678224170876,"duration":32639}},{"uid":"8ddcbc5d46c87430","status":"passed","time":{"start":1678221290671,"stop":1678221323264,"duration":32593}},{"uid":"e504ce32f07e9100","status":"passed","time":{"start":1678217604330,"stop":1678217636987,"duration":32657}},{"uid":"2dacead309b03ca0","status":"passed","time":{"start":1676400688078,"stop":1676400720669,"duration":32591}},{"uid":"87d309317732a6f7","status":"passed","time":{"start":1676399680262,"stop":1676399712851,"duration":32589}},{"uid":"18c245d7183893b5","status":"passed","time":{"start":1676324406333,"stop":1676324438969,"duration":32636}},{"uid":"ac910826f7268640","status":"passed","time":{"start":1674515202994,"stop":1674515235615,"duration":32621}},{"uid":"754e739e53170fc4","status":"passed","time":{"start":1674505297207,"stop":1674505330109,"duration":32902}},{"uid":"4128da8166af79","status":"passed","time":{"start":1674500123791,"stop":1674500156428,"duration":32637}},{"uid":"d6514b411aa36b02","status":"passed","time":{"start":1674257562100,"stop":1674257594801,"duration":32701}},{"uid":"bdf35456f973678","status":"passed","time":{"start":1674254821855,"stop":1674254854496,"duration":32641}},{"uid":"9e7f09a7c651b9e9","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target chassis off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080276822,"stop":1674080277948,"duration":1126}},{"uid":"85bb002fe719f5b1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005265,"stop":1674075005294,"duration":29}},{"uid":"1768afbba34d7e30","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622623,"stop":1674074622651,"duration":28}}]},"tags":[]},"source":"6e262c886ae909be.json","parameterValues":[]}