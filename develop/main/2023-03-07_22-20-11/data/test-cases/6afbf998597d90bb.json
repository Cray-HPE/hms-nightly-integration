{"uid":"6afbf998597d90bb","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678226949694,"stop":1678226982413,"duration":32719},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678226949703,"stop":1678226949740,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"b24fa334f6165855","name":"stage_yaml","source":"b24fa334f6165855.yaml","type":"application/yaml","size":302},{"uid":"1dbf24b0cad346fd","name":"rest_request","source":"1dbf24b0cad346fd.yaml","type":"application/yaml","size":162},{"uid":"a77ab65067e45555","name":"rest_response","source":"a77ab65067e45555.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678226949741,"stop":1678226949755,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"b8252e9c48886065","name":"stage_yaml","source":"b8252e9c48886065.yaml","type":"application/yaml","size":797},{"uid":"b18d92da947286d6","name":"rest_request","source":"b18d92da947286d6.yaml","type":"application/yaml","size":216},{"uid":"c88d56da5a39ecb1","name":"rest_response","source":"c88d56da5a39ecb1.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678226949757,"stop":1678226981319,"duration":31562},"status":"passed","steps":[],"attachments":[{"uid":"6dd2cd59cb90be70","name":"stage_yaml","source":"6dd2cd59cb90be70.yaml","type":"application/yaml","size":682},{"uid":"b9884fa9c075db09","name":"rest_request","source":"b9884fa9c075db09.yaml","type":"application/yaml","size":161},{"uid":"a51416a3c659890e","name":"rest_response","source":"a51416a3c659890e.yaml","type":"application/yaml","size":572},{"uid":"219fa8ad50a1120e","name":"stage_yaml","source":"219fa8ad50a1120e.yaml","type":"application/yaml","size":682},{"uid":"47a91ad4816aa739","name":"rest_request","source":"47a91ad4816aa739.yaml","type":"application/yaml","size":161},{"uid":"73107a16f2860d98","name":"rest_response","source":"73107a16f2860d98.yaml","type":"application/yaml","size":608},{"uid":"c295ce4d0d410695","name":"stage_yaml","source":"c295ce4d0d410695.yaml","type":"application/yaml","size":682},{"uid":"14ad22d20b7168ae","name":"rest_request","source":"14ad22d20b7168ae.yaml","type":"application/yaml","size":161},{"uid":"98f3a202fadd0027","name":"rest_response","source":"98f3a202fadd0027.yaml","type":"application/yaml","size":608},{"uid":"487d9ecdd3132750","name":"stage_yaml","source":"487d9ecdd3132750.yaml","type":"application/yaml","size":682},{"uid":"3c22568efc7cb144","name":"rest_request","source":"3c22568efc7cb144.yaml","type":"application/yaml","size":161},{"uid":"e994c83dbfd72a07","name":"rest_response","source":"e994c83dbfd72a07.yaml","type":"application/yaml","size":608},{"uid":"25cb4e8da799da30","name":"stage_yaml","source":"25cb4e8da799da30.yaml","type":"application/yaml","size":682},{"uid":"f6ffa4f430ed680c","name":"rest_request","source":"f6ffa4f430ed680c.yaml","type":"application/yaml","size":161},{"uid":"cfa003a72ef77474","name":"rest_response","source":"cfa003a72ef77474.yaml","type":"application/yaml","size":608},{"uid":"268d2df1c02b61f","name":"stage_yaml","source":"268d2df1c02b61f.yaml","type":"application/yaml","size":682},{"uid":"4189b4f4573212ac","name":"rest_request","source":"4189b4f4573212ac.yaml","type":"application/yaml","size":161},{"uid":"d62eefb94228e5eb","name":"rest_response","source":"d62eefb94228e5eb.yaml","type":"application/yaml","size":608},{"uid":"f18ca97a3446ac50","name":"stage_yaml","source":"f18ca97a3446ac50.yaml","type":"application/yaml","size":682},{"uid":"2446426dace5cb69","name":"rest_request","source":"2446426dace5cb69.yaml","type":"application/yaml","size":161},{"uid":"2a385593696ee4ad","name":"rest_response","source":"2a385593696ee4ad.yaml","type":"application/yaml","size":608},{"uid":"a4addde95749007c","name":"stage_yaml","source":"a4addde95749007c.yaml","type":"application/yaml","size":682},{"uid":"1b027afb920a6e0","name":"rest_request","source":"1b027afb920a6e0.yaml","type":"application/yaml","size":161},{"uid":"bbbaf41f84de25e1","name":"rest_response","source":"bbbaf41f84de25e1.yaml","type":"application/yaml","size":608},{"uid":"b97bb0f8b327abfa","name":"stage_yaml","source":"b97bb0f8b327abfa.yaml","type":"application/yaml","size":682},{"uid":"7f93d06d28ec5765","name":"rest_request","source":"7f93d06d28ec5765.yaml","type":"application/yaml","size":161},{"uid":"19c25b5c86b32117","name":"rest_response","source":"19c25b5c86b32117.yaml","type":"application/yaml","size":608},{"uid":"4ac23805b53b5e64","name":"stage_yaml","source":"4ac23805b53b5e64.yaml","type":"application/yaml","size":682},{"uid":"b74b42df0dbb2d4d","name":"rest_request","source":"b74b42df0dbb2d4d.yaml","type":"application/yaml","size":161},{"uid":"c3c6692608906037","name":"rest_response","source":"c3c6692608906037.yaml","type":"application/yaml","size":608},{"uid":"2d9999ceddae4f16","name":"stage_yaml","source":"2d9999ceddae4f16.yaml","type":"application/yaml","size":682},{"uid":"c3d23660a134cdd6","name":"rest_request","source":"c3d23660a134cdd6.yaml","type":"application/yaml","size":161},{"uid":"b063e84612cf4a12","name":"rest_response","source":"b063e84612cf4a12.yaml","type":"application/yaml","size":608},{"uid":"b3d79cb55460cb47","name":"stage_yaml","source":"b3d79cb55460cb47.yaml","type":"application/yaml","size":682},{"uid":"f365d07155adee95","name":"rest_request","source":"f365d07155adee95.yaml","type":"application/yaml","size":161},{"uid":"83790b20093c64af","name":"rest_response","source":"83790b20093c64af.yaml","type":"application/yaml","size":608},{"uid":"43ebf9714f2fbf6d","name":"stage_yaml","source":"43ebf9714f2fbf6d.yaml","type":"application/yaml","size":682},{"uid":"bd1e9e4b6d5b05a1","name":"rest_request","source":"bd1e9e4b6d5b05a1.yaml","type":"application/yaml","size":161},{"uid":"3a6049b749d44d25","name":"rest_response","source":"3a6049b749d44d25.yaml","type":"application/yaml","size":608},{"uid":"ca20f691f851cb3a","name":"stage_yaml","source":"ca20f691f851cb3a.yaml","type":"application/yaml","size":682},{"uid":"12b695cb43d18fa1","name":"rest_request","source":"12b695cb43d18fa1.yaml","type":"application/yaml","size":161},{"uid":"102a49f38d4f44b","name":"rest_response","source":"102a49f38d4f44b.yaml","type":"application/yaml","size":608},{"uid":"f8211438ba2190b6","name":"stage_yaml","source":"f8211438ba2190b6.yaml","type":"application/yaml","size":682},{"uid":"b2edd70d146b0597","name":"rest_request","source":"b2edd70d146b0597.yaml","type":"application/yaml","size":161},{"uid":"bd668a156c9660ca","name":"rest_response","source":"bd668a156c9660ca.yaml","type":"application/yaml","size":608},{"uid":"c36b28c339ab1b1","name":"stage_yaml","source":"c36b28c339ab1b1.yaml","type":"application/yaml","size":682},{"uid":"bfc6ed67bf10bd5e","name":"rest_request","source":"bfc6ed67bf10bd5e.yaml","type":"application/yaml","size":161},{"uid":"aa58c67de60ec40d","name":"rest_response","source":"aa58c67de60ec40d.yaml","type":"application/yaml","size":608},{"uid":"28cc1ea6cc95853b","name":"stage_yaml","source":"28cc1ea6cc95853b.yaml","type":"application/yaml","size":682},{"uid":"d6100d6aba6538f9","name":"rest_request","source":"d6100d6aba6538f9.yaml","type":"application/yaml","size":161},{"uid":"4b42f88b9f95217b","name":"rest_response","source":"4b42f88b9f95217b.yaml","type":"application/yaml","size":608},{"uid":"2ba748c570e4da32","name":"stage_yaml","source":"2ba748c570e4da32.yaml","type":"application/yaml","size":682},{"uid":"cdb028ee125254be","name":"rest_request","source":"cdb028ee125254be.yaml","type":"application/yaml","size":161},{"uid":"890f3b931e32d2f1","name":"rest_response","source":"890f3b931e32d2f1.yaml","type":"application/yaml","size":608},{"uid":"1d620da4354bb02","name":"stage_yaml","source":"1d620da4354bb02.yaml","type":"application/yaml","size":682},{"uid":"f46eecbd9ce11c67","name":"rest_request","source":"f46eecbd9ce11c67.yaml","type":"application/yaml","size":161},{"uid":"437b0561bda92400","name":"rest_response","source":"437b0561bda92400.yaml","type":"application/yaml","size":608},{"uid":"e62d7529b9982b8c","name":"stage_yaml","source":"e62d7529b9982b8c.yaml","type":"application/yaml","size":682},{"uid":"50174d716b680f63","name":"rest_request","source":"50174d716b680f63.yaml","type":"application/yaml","size":161},{"uid":"d4a8e87b81673ea8","name":"rest_response","source":"d4a8e87b81673ea8.yaml","type":"application/yaml","size":608},{"uid":"f26f83c93ee5a870","name":"stage_yaml","source":"f26f83c93ee5a870.yaml","type":"application/yaml","size":682},{"uid":"37cd6dce964ff132","name":"rest_request","source":"37cd6dce964ff132.yaml","type":"application/yaml","size":161},{"uid":"dd942ff501739505","name":"rest_response","source":"dd942ff501739505.yaml","type":"application/yaml","size":608},{"uid":"9a5d72d7e2a229a9","name":"stage_yaml","source":"9a5d72d7e2a229a9.yaml","type":"application/yaml","size":682},{"uid":"50516aa91cf7df26","name":"rest_request","source":"50516aa91cf7df26.yaml","type":"application/yaml","size":161},{"uid":"affe79c394f84881","name":"rest_response","source":"affe79c394f84881.yaml","type":"application/yaml","size":608},{"uid":"2ccb5a9498c3e214","name":"stage_yaml","source":"2ccb5a9498c3e214.yaml","type":"application/yaml","size":682},{"uid":"3324009f26d85979","name":"rest_request","source":"3324009f26d85979.yaml","type":"application/yaml","size":161},{"uid":"1277b2555002f998","name":"rest_response","source":"1277b2555002f998.yaml","type":"application/yaml","size":608},{"uid":"2bf629426e049b9c","name":"stage_yaml","source":"2bf629426e049b9c.yaml","type":"application/yaml","size":682},{"uid":"627abc43d684c9ff","name":"rest_request","source":"627abc43d684c9ff.yaml","type":"application/yaml","size":161},{"uid":"f38a543b201a8e4c","name":"rest_response","source":"f38a543b201a8e4c.yaml","type":"application/yaml","size":608},{"uid":"516171cd56823ce","name":"stage_yaml","source":"516171cd56823ce.yaml","type":"application/yaml","size":682},{"uid":"5e5c6d9e03bbe9ee","name":"rest_request","source":"5e5c6d9e03bbe9ee.yaml","type":"application/yaml","size":161},{"uid":"99a9bd1efa8ab46d","name":"rest_response","source":"99a9bd1efa8ab46d.yaml","type":"application/yaml","size":608},{"uid":"132dd0b2ae291189","name":"stage_yaml","source":"132dd0b2ae291189.yaml","type":"application/yaml","size":682},{"uid":"1db2d27044057195","name":"rest_request","source":"1db2d27044057195.yaml","type":"application/yaml","size":161},{"uid":"70de2c35d0d24dc7","name":"rest_response","source":"70de2c35d0d24dc7.yaml","type":"application/yaml","size":608},{"uid":"e7748ee170d33884","name":"stage_yaml","source":"e7748ee170d33884.yaml","type":"application/yaml","size":682},{"uid":"70932b2e13b9847c","name":"rest_request","source":"70932b2e13b9847c.yaml","type":"application/yaml","size":161},{"uid":"e950c08347453928","name":"rest_response","source":"e950c08347453928.yaml","type":"application/yaml","size":608},{"uid":"79fbb53f55df75ef","name":"stage_yaml","source":"79fbb53f55df75ef.yaml","type":"application/yaml","size":682},{"uid":"d146549bcf9b2051","name":"rest_request","source":"d146549bcf9b2051.yaml","type":"application/yaml","size":161},{"uid":"e4c01cada215c623","name":"rest_response","source":"e4c01cada215c623.yaml","type":"application/yaml","size":608},{"uid":"b9fb98c991fa1112","name":"stage_yaml","source":"b9fb98c991fa1112.yaml","type":"application/yaml","size":682},{"uid":"394b16a41605f959","name":"rest_request","source":"394b16a41605f959.yaml","type":"application/yaml","size":161},{"uid":"895edf280dae8589","name":"rest_response","source":"895edf280dae8589.yaml","type":"application/yaml","size":608},{"uid":"370658957364483d","name":"stage_yaml","source":"370658957364483d.yaml","type":"application/yaml","size":682},{"uid":"750c4b1505642c4c","name":"rest_request","source":"750c4b1505642c4c.yaml","type":"application/yaml","size":161},{"uid":"1032c38b4b002064","name":"rest_response","source":"1032c38b4b002064.yaml","type":"application/yaml","size":608},{"uid":"d8c190c1c3957b59","name":"stage_yaml","source":"d8c190c1c3957b59.yaml","type":"application/yaml","size":682},{"uid":"f7e0384161aae671","name":"rest_request","source":"f7e0384161aae671.yaml","type":"application/yaml","size":161},{"uid":"5965b33dff6dcfb5","name":"rest_response","source":"5965b33dff6dcfb5.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678226981320,"stop":1678226981336,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"c178277246ba6df3","name":"stage_yaml","source":"c178277246ba6df3.yaml","type":"application/yaml","size":2389},{"uid":"885f81309c44752a","name":"rest_request","source":"885f81309c44752a.yaml","type":"application/yaml","size":161},{"uid":"dcdea4a3c9d71108","name":"rest_response","source":"dcdea4a3c9d71108.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678226981337,"stop":1678226981350,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"74bf0155f452381f","name":"stage_yaml","source":"74bf0155f452381f.yaml","type":"application/yaml","size":978},{"uid":"cf5a3613cd1a7e07","name":"rest_request","source":"cf5a3613cd1a7e07.yaml","type":"application/yaml","size":145},{"uid":"374b6e1919f35816","name":"rest_response","source":"374b6e1919f35816.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678226981351,"stop":1678226981363,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"2407268503c3a7eb","name":"stage_yaml","source":"2407268503c3a7eb.yaml","type":"application/yaml","size":763},{"uid":"c66e165efd964a96","name":"rest_request","source":"c66e165efd964a96.yaml","type":"application/yaml","size":211},{"uid":"d1931eb99b64e9f5","name":"rest_response","source":"d1931eb99b64e9f5.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678226981364,"stop":1678226981379,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"610f2db25cbe698d","name":"stage_yaml","source":"610f2db25cbe698d.yaml","type":"application/yaml","size":534},{"uid":"83b00c7746884398","name":"rest_request","source":"83b00c7746884398.yaml","type":"application/yaml","size":164},{"uid":"d7e24cf62cf95b3b","name":"rest_response","source":"d7e24cf62cf95b3b.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678226981381,"stop":1678226982395,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"175b494b8b29f7a5","name":"stage_yaml","source":"175b494b8b29f7a5.yaml","type":"application/yaml","size":703},{"uid":"af509687be0243f","name":"rest_request","source":"af509687be0243f.yaml","type":"application/yaml","size":161},{"uid":"e7529e142db256e7","name":"rest_response","source":"e7529e142db256e7.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678226982396,"stop":1678226982412,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7423a614463c882","name":"stage_yaml","source":"7423a614463c882.yaml","type":"application/yaml","size":2481},{"uid":"637a87c44e813075","name":"rest_request","source":"637a87c44e813075.yaml","type":"application/yaml","size":161},{"uid":"7af26330448358b4","name":"rest_response","source":"7af26330448358b4.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"adc94c436b127957","name":"log","source":"adc94c436b127957.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"ebb6a9da5332"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":15},"items":[{"uid":"4518c7630dcd8b6e","status":"passed","time":{"start":1678224414919,"stop":1678224447610,"duration":32691}},{"uid":"38720dbc34713ee5","status":"passed","time":{"start":1678221567105,"stop":1678221599734,"duration":32629}},{"uid":"99ed4edb3ddb2a6f","status":"passed","time":{"start":1678217866036,"stop":1678217898717,"duration":32681}},{"uid":"c86146dec7c16d1e","status":"passed","time":{"start":1676400949598,"stop":1676400982240,"duration":32642}},{"uid":"39eac9a40cbdb3c7","status":"passed","time":{"start":1676399956477,"stop":1676399989102,"duration":32625}},{"uid":"7d14d510db4f3ad6","status":"passed","time":{"start":1676324668777,"stop":1676324701439,"duration":32662}},{"uid":"7d77006b0367179f","status":"passed","time":{"start":1674515479474,"stop":1674515481658,"duration":2184}},{"uid":"42251583897b70fe","status":"passed","time":{"start":1674505607794,"stop":1674505625373,"duration":17579}},{"uid":"8457d14d68377bd0","status":"passed","time":{"start":1674500431023,"stop":1674500463694,"duration":32671}},{"uid":"4657babf55609585","status":"passed","time":{"start":1674257839299,"stop":1674257872071,"duration":32772}},{"uid":"61f114104b193ad3","status":"passed","time":{"start":1674255098685,"stop":1674255146652,"duration":47967}},{"uid":"7e69fbb5c356d59","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080284700,"stop":1674080284747,"duration":47}},{"uid":"787905fa4e3a30e0","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005693,"stop":1674075005733,"duration":40}},{"uid":"f46c206fec567553","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623022,"stop":1674074623054,"duration":32}}]},"tags":[]},"source":"6afbf998597d90bb.json","parameterValues":[]}