{"uid":"9b1f5c952282f4a6","name":"Verify that off transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify that off transition operations can be aborted","historyId":"9f83b86b7f402bd21cbba63d959ff457","time":{"start":1678226767443,"stop":1678226770650,"duration":3207},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678226767452,"stop":1678226767490,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"4829c36740f7f08","name":"stage_yaml","source":"4829c36740f7f08.yaml","type":"application/yaml","size":302},{"uid":"8e78af51a4598699","name":"rest_request","source":"8e78af51a4598699.yaml","type":"application/yaml","size":162},{"uid":"61b3a3a538478f3a","name":"rest_response","source":"61b3a3a538478f3a.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678226767491,"stop":1678226767506,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b9b1078b61c86826","name":"stage_yaml","source":"b9b1078b61c86826.yaml","type":"application/yaml","size":775},{"uid":"688d3fe362bde864","name":"rest_request","source":"688d3fe362bde864.yaml","type":"application/yaml","size":211},{"uid":"ccf31a233122e40d","name":"rest_response","source":"ccf31a233122e40d.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678226767508,"stop":1678226769543,"duration":2035},"status":"passed","steps":[],"attachments":[{"uid":"fa84cb5baf82219e","name":"stage_yaml","source":"fa84cb5baf82219e.yaml","type":"application/yaml","size":661},{"uid":"30dbe125a08e3875","name":"rest_request","source":"30dbe125a08e3875.yaml","type":"application/yaml","size":161},{"uid":"4970f706b6bb27c","name":"rest_response","source":"4970f706b6bb27c.yaml","type":"application/yaml","size":567},{"uid":"5df02c56f7aa9d70","name":"stage_yaml","source":"5df02c56f7aa9d70.yaml","type":"application/yaml","size":661},{"uid":"8c2d9fcbcb09ba50","name":"rest_request","source":"8c2d9fcbcb09ba50.yaml","type":"application/yaml","size":161},{"uid":"bc2d116e6871c4cb","name":"rest_response","source":"bc2d116e6871c4cb.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678226769545,"stop":1678226769561,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"c81a59d8f8cdefba","name":"stage_yaml","source":"c81a59d8f8cdefba.yaml","type":"application/yaml","size":2375},{"uid":"1caeed7534a51d87","name":"rest_request","source":"1caeed7534a51d87.yaml","type":"application/yaml","size":161},{"uid":"df09d7f4fc625e5a","name":"rest_response","source":"df09d7f4fc625e5a.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678226769563,"stop":1678226769576,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"310eae872eb8015c","name":"stage_yaml","source":"310eae872eb8015c.yaml","type":"application/yaml","size":976},{"uid":"303edabf57fa4bb4","name":"rest_request","source":"303edabf57fa4bb4.yaml","type":"application/yaml","size":145},{"uid":"981e484bf9c5d199","name":"rest_response","source":"981e484bf9c5d199.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue a force-off transition for the target node","time":{"start":1678226769576,"stop":1678226769591,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"889b3636da46f62","name":"stage_yaml","source":"889b3636da46f62.yaml","type":"application/yaml","size":790},{"uid":"b7777e1a3950faaa","name":"rest_request","source":"b7777e1a3950faaa.yaml","type":"application/yaml","size":216},{"uid":"b6f38b43bcccb77c","name":"rest_response","source":"b6f38b43bcccb77c.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued force-off transition","time":{"start":1678226769592,"stop":1678226769608,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"908be506db52b33b","name":"stage_yaml","source":"908be506db52b33b.yaml","type":"application/yaml","size":541},{"uid":"93b5356bcbc384c5","name":"rest_request","source":"93b5356bcbc384c5.yaml","type":"application/yaml","size":164},{"uid":"d14a9b8ddeb5c746","name":"rest_response","source":"d14a9b8ddeb5c746.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted force-off transition operation has been aborted","time":{"start":1678226769609,"stop":1678226770629,"duration":1020},"status":"passed","steps":[],"attachments":[{"uid":"3728899bd7b3bd63","name":"stage_yaml","source":"3728899bd7b3bd63.yaml","type":"application/yaml","size":724},{"uid":"edd89c40f62ea80b","name":"rest_request","source":"edd89c40f62ea80b.yaml","type":"application/yaml","size":161},{"uid":"b16683d1bdb9eb7d","name":"rest_response","source":"b16683d1bdb9eb7d.yaml","type":"application/yaml","size":656}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted force-off transition","time":{"start":1678226770630,"stop":1678226770650,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"b25df4e2b34923e8","name":"stage_yaml","source":"b25df4e2b34923e8.yaml","type":"application/yaml","size":2495},{"uid":"8c06634a1f8ba393","name":"rest_request","source":"8c06634a1f8ba393.yaml","type":"application/yaml","size":161},{"uid":"f9fa97ad022e9baa","name":"rest_response","source":"f9fa97ad022e9baa.yaml","type":"application/yaml","size":656}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"c7398f8602dd68de","name":"log","source":"c7398f8602dd68de.txt","type":"text/plain","size":3817}],"parameters":[],"stepsCount":9,"attachmentsCount":31,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"ebb6a9da5332"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":15},"items":[{"uid":"d0822195c6e9b8a3","status":"passed","time":{"start":1678224203561,"stop":1678224205749,"duration":2188}},{"uid":"796ae812fecc2c91","status":"passed","time":{"start":1678221356002,"stop":1678221358175,"duration":2173}},{"uid":"fe065978e40131e4","status":"passed","time":{"start":1678217654406,"stop":1678217656579,"duration":2173}},{"uid":"d24e15b5186debaa","status":"passed","time":{"start":1676400738121,"stop":1676400740293,"duration":2172}},{"uid":"4a6d2c0681c6b982","status":"passed","time":{"start":1676399745461,"stop":1676399747625,"duration":2164}},{"uid":"b65bfe5abeaa119","status":"passed","time":{"start":1676324456379,"stop":1676324458541,"duration":2162}},{"uid":"3667fdabe2a2c8b8","status":"passed","time":{"start":1674515298701,"stop":1674515331344,"duration":32643}},{"uid":"90a3e91574be083","status":"passed","time":{"start":1674505393705,"stop":1674505427628,"duration":33923}},{"uid":"5dac5fde06459ac5","status":"passed","time":{"start":1674500219566,"stop":1674500252252,"duration":32686}},{"uid":"432279daf9030df","status":"passed","time":{"start":1674257658065,"stop":1674257660258,"duration":2193}},{"uid":"11141bf09dfc801b","status":"passed","time":{"start":1674254887151,"stop":1674254919854,"duration":32703}},{"uid":"a3b2622f7f20b631","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Issue a force-off transition for the target node' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080279342,"stop":1674080280468,"duration":1126}},{"uid":"ea0310ed953ad290","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005364,"stop":1674075005397,"duration":33}},{"uid":"c5a1ef0d55636fd","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622715,"stop":1674074622747,"duration":32}}]},"tags":[]},"source":"9b1f5c952282f4a6.json","parameterValues":[]}