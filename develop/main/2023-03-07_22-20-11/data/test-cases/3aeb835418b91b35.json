{"uid":"3aeb835418b91b35","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1678226603798,"stop":1678226621239,"duration":17441},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678226603807,"stop":1678226603845,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"34a089a03951f04a","name":"stage_yaml","source":"34a089a03951f04a.yaml","type":"application/yaml","size":302},{"uid":"94842d74da023971","name":"rest_request","source":"94842d74da023971.yaml","type":"application/yaml","size":162},{"uid":"efab532f26f18eda","name":"rest_response","source":"efab532f26f18eda.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678226603846,"stop":1678226603861,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"a41d1dcb8f510a15","name":"stage_yaml","source":"a41d1dcb8f510a15.yaml","type":"application/yaml","size":775},{"uid":"ae2b240e626f7631","name":"rest_request","source":"ae2b240e626f7631.yaml","type":"application/yaml","size":211},{"uid":"13a1966e0cbce95e","name":"rest_response","source":"13a1966e0cbce95e.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678226603863,"stop":1678226604877,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"e0f7dc75e893da6a","name":"stage_yaml","source":"e0f7dc75e893da6a.yaml","type":"application/yaml","size":661},{"uid":"33943655db93ed81","name":"rest_request","source":"33943655db93ed81.yaml","type":"application/yaml","size":161},{"uid":"c04de960b23a192f","name":"rest_response","source":"c04de960b23a192f.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678226604878,"stop":1678226604894,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"6ec5b49f82e45b3c","name":"stage_yaml","source":"6ec5b49f82e45b3c.yaml","type":"application/yaml","size":2375},{"uid":"9967d3a015704eb9","name":"rest_request","source":"9967d3a015704eb9.yaml","type":"application/yaml","size":161},{"uid":"b7002c63b0bb33f0","name":"rest_response","source":"b7002c63b0bb33f0.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678226604895,"stop":1678226604908,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"411ff0e79b02016c","name":"stage_yaml","source":"411ff0e79b02016c.yaml","type":"application/yaml","size":976},{"uid":"39ed1141634318c1","name":"rest_request","source":"39ed1141634318c1.yaml","type":"application/yaml","size":145},{"uid":"3cc43c1b224a9b94","name":"rest_response","source":"3cc43c1b224a9b94.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1678226604909,"stop":1678226604922,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"7e0d8e4c4e169ee6","name":"stage_yaml","source":"7e0d8e4c4e169ee6.yaml","type":"application/yaml","size":795},{"uid":"b2923aeade31aa7a","name":"rest_request","source":"b2923aeade31aa7a.yaml","type":"application/yaml","size":216},{"uid":"baf924d79cd5a29","name":"rest_response","source":"baf924d79cd5a29.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678226604924,"stop":1678226621205,"duration":16281},"status":"passed","steps":[],"attachments":[{"uid":"10239f071b94a829","name":"stage_yaml","source":"10239f071b94a829.yaml","type":"application/yaml","size":684},{"uid":"9997735792a0fd80","name":"rest_request","source":"9997735792a0fd80.yaml","type":"application/yaml","size":161},{"uid":"63d6ba0bc96bf4dd","name":"rest_response","source":"63d6ba0bc96bf4dd.yaml","type":"application/yaml","size":587},{"uid":"825a1bcbd19b8592","name":"stage_yaml","source":"825a1bcbd19b8592.yaml","type":"application/yaml","size":684},{"uid":"2f8ea8b553432da5","name":"rest_request","source":"2f8ea8b553432da5.yaml","type":"application/yaml","size":161},{"uid":"5461b57fe47fd088","name":"rest_response","source":"5461b57fe47fd088.yaml","type":"application/yaml","size":608},{"uid":"40a2d3d5a7a5c073","name":"stage_yaml","source":"40a2d3d5a7a5c073.yaml","type":"application/yaml","size":684},{"uid":"2aa719e66556bf14","name":"rest_request","source":"2aa719e66556bf14.yaml","type":"application/yaml","size":161},{"uid":"43d55508f4855eaa","name":"rest_response","source":"43d55508f4855eaa.yaml","type":"application/yaml","size":608},{"uid":"8f5aaa1289ca721e","name":"stage_yaml","source":"8f5aaa1289ca721e.yaml","type":"application/yaml","size":684},{"uid":"d576095190d038f5","name":"rest_request","source":"d576095190d038f5.yaml","type":"application/yaml","size":161},{"uid":"e8ad929d78d2299b","name":"rest_response","source":"e8ad929d78d2299b.yaml","type":"application/yaml","size":608},{"uid":"dd6bcdc1abf60f90","name":"stage_yaml","source":"dd6bcdc1abf60f90.yaml","type":"application/yaml","size":684},{"uid":"155da8b7d105ebc0","name":"rest_request","source":"155da8b7d105ebc0.yaml","type":"application/yaml","size":161},{"uid":"47a226498a7a2d72","name":"rest_response","source":"47a226498a7a2d72.yaml","type":"application/yaml","size":608},{"uid":"d98105de7e2ae7b4","name":"stage_yaml","source":"d98105de7e2ae7b4.yaml","type":"application/yaml","size":684},{"uid":"a521f3fa60641dc4","name":"rest_request","source":"a521f3fa60641dc4.yaml","type":"application/yaml","size":161},{"uid":"812bd47af275782b","name":"rest_response","source":"812bd47af275782b.yaml","type":"application/yaml","size":608},{"uid":"ac057e57f7f0f392","name":"stage_yaml","source":"ac057e57f7f0f392.yaml","type":"application/yaml","size":684},{"uid":"21f507d73cf03f96","name":"rest_request","source":"21f507d73cf03f96.yaml","type":"application/yaml","size":161},{"uid":"a3a352a59483f373","name":"rest_response","source":"a3a352a59483f373.yaml","type":"application/yaml","size":608},{"uid":"7f5f43883c985344","name":"stage_yaml","source":"7f5f43883c985344.yaml","type":"application/yaml","size":684},{"uid":"335d84dad193cad1","name":"rest_request","source":"335d84dad193cad1.yaml","type":"application/yaml","size":161},{"uid":"bbdc15465003619","name":"rest_response","source":"bbdc15465003619.yaml","type":"application/yaml","size":608},{"uid":"ecb665e7e5a3dba4","name":"stage_yaml","source":"ecb665e7e5a3dba4.yaml","type":"application/yaml","size":684},{"uid":"31774f08be319a02","name":"rest_request","source":"31774f08be319a02.yaml","type":"application/yaml","size":161},{"uid":"f19a60db06c6b415","name":"rest_response","source":"f19a60db06c6b415.yaml","type":"application/yaml","size":608},{"uid":"de449c64b3edcac0","name":"stage_yaml","source":"de449c64b3edcac0.yaml","type":"application/yaml","size":684},{"uid":"2966b2525685dfc9","name":"rest_request","source":"2966b2525685dfc9.yaml","type":"application/yaml","size":161},{"uid":"370054481235ba2d","name":"rest_response","source":"370054481235ba2d.yaml","type":"application/yaml","size":608},{"uid":"5d45cdcc013f431","name":"stage_yaml","source":"5d45cdcc013f431.yaml","type":"application/yaml","size":684},{"uid":"efe5f6d7e47bda1e","name":"rest_request","source":"efe5f6d7e47bda1e.yaml","type":"application/yaml","size":161},{"uid":"a4e11baa4fc212a1","name":"rest_response","source":"a4e11baa4fc212a1.yaml","type":"application/yaml","size":608},{"uid":"81ec900ad3a5f387","name":"stage_yaml","source":"81ec900ad3a5f387.yaml","type":"application/yaml","size":684},{"uid":"d7f3fd5225458d75","name":"rest_request","source":"d7f3fd5225458d75.yaml","type":"application/yaml","size":161},{"uid":"7e5423dc615d2b9b","name":"rest_response","source":"7e5423dc615d2b9b.yaml","type":"application/yaml","size":608},{"uid":"5ae07574ef67c23f","name":"stage_yaml","source":"5ae07574ef67c23f.yaml","type":"application/yaml","size":684},{"uid":"95184f0063ae6e34","name":"rest_request","source":"95184f0063ae6e34.yaml","type":"application/yaml","size":161},{"uid":"35b0fa6b5971d20b","name":"rest_response","source":"35b0fa6b5971d20b.yaml","type":"application/yaml","size":608},{"uid":"63dae1aec94df025","name":"stage_yaml","source":"63dae1aec94df025.yaml","type":"application/yaml","size":684},{"uid":"6e67f3124f685a96","name":"rest_request","source":"6e67f3124f685a96.yaml","type":"application/yaml","size":161},{"uid":"3b78fef07c5371bd","name":"rest_response","source":"3b78fef07c5371bd.yaml","type":"application/yaml","size":608},{"uid":"4374851770e91862","name":"stage_yaml","source":"4374851770e91862.yaml","type":"application/yaml","size":684},{"uid":"1ca862b833eb0dd6","name":"rest_request","source":"1ca862b833eb0dd6.yaml","type":"application/yaml","size":161},{"uid":"12fab2a76983ec76","name":"rest_response","source":"12fab2a76983ec76.yaml","type":"application/yaml","size":608},{"uid":"664fd71215005aa6","name":"stage_yaml","source":"664fd71215005aa6.yaml","type":"application/yaml","size":684},{"uid":"b1c2ce55830fa214","name":"rest_request","source":"b1c2ce55830fa214.yaml","type":"application/yaml","size":161},{"uid":"8326bd712e8de295","name":"rest_response","source":"8326bd712e8de295.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678226621206,"stop":1678226621226,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"bde0af2ccb9489b0","name":"stage_yaml","source":"bde0af2ccb9489b0.yaml","type":"application/yaml","size":2336},{"uid":"a5f15e96c7fdd959","name":"rest_request","source":"a5f15e96c7fdd959.yaml","type":"application/yaml","size":161},{"uid":"9eb427ff31aac593","name":"rest_response","source":"9eb427ff31aac593.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1678226621227,"stop":1678226621239,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"b6e5edfc1b1f6e6","name":"stage_yaml","source":"b6e5edfc1b1f6e6.yaml","type":"application/yaml","size":978},{"uid":"c06d3fa7b14e233","name":"rest_request","source":"c06d3fa7b14e233.yaml","type":"application/yaml","size":145},{"uid":"212f1dad91eb1eb3","name":"rest_response","source":"212f1dad91eb1eb3.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"db36eb74a6255766","name":"log","source":"db36eb74a6255766.txt","type":"text/plain","size":57893}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"ebb6a9da5332"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":15},"items":[{"uid":"5166a3f893057431","status":"passed","time":{"start":1678224070658,"stop":1678224088082,"duration":17424}},{"uid":"89659e5150a218b","status":"passed","time":{"start":1678221223216,"stop":1678221240609,"duration":17393}},{"uid":"1affcd3d0686b158","status":"passed","time":{"start":1678217521440,"stop":1678217538867,"duration":17427}},{"uid":"ee8043ac6b81568d","status":"passed","time":{"start":1676400590158,"stop":1676400622792,"duration":32634}},{"uid":"e063e4c7b9ddbb6d","status":"passed","time":{"start":1676399582270,"stop":1676399614890,"duration":32620}},{"uid":"a08f0fb12f37f14b","status":"passed","time":{"start":1676324308069,"stop":1676324340838,"duration":32769}},{"uid":"80ef640ccc769ba6","status":"passed","time":{"start":1674515135445,"stop":1674515152857,"duration":17412}},{"uid":"e39f8b3abcbef727","status":"passed","time":{"start":1674505198362,"stop":1674505231270,"duration":32908}},{"uid":"d4a9140df39ed9d5","status":"passed","time":{"start":1674500025702,"stop":1674500043119,"duration":17417}},{"uid":"33e8e355e3ea7392","status":"passed","time":{"start":1674257402786,"stop":1674257481316,"duration":78530}},{"uid":"ab2961c357340a1","status":"passed","time":{"start":1674254723736,"stop":1674254741154,"duration":17418}},{"uid":"6001dae660fb87e0","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080274145,"stop":1674080275280,"duration":1135}},{"uid":"79a5f22179955b39","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005111,"stop":1674075005146,"duration":35}},{"uid":"a9725d25de83b127","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622465,"stop":1674074622502,"duration":37}}]},"tags":[]},"source":"3aeb835418b91b35.json","parameterValues":[]}