{"uid":"e063e4c7b9ddbb6d","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1676399582270,"stop":1676399614890,"duration":32620},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676399582279,"stop":1676399582315,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"3b44358a9167d906","name":"stage_yaml","source":"3b44358a9167d906.yaml","type":"application/yaml","size":302},{"uid":"27ea8abb2ba51d2e","name":"rest_request","source":"27ea8abb2ba51d2e.yaml","type":"application/yaml","size":162},{"uid":"e53881b1ad13b67c","name":"rest_response","source":"e53881b1ad13b67c.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1676399582316,"stop":1676399582329,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"b13ed285deb4c9ab","name":"stage_yaml","source":"b13ed285deb4c9ab.yaml","type":"application/yaml","size":775},{"uid":"6135b0e718fc4839","name":"rest_request","source":"6135b0e718fc4839.yaml","type":"application/yaml","size":211},{"uid":"f91ee3c1ef36f353","name":"rest_response","source":"f91ee3c1ef36f353.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676399582332,"stop":1676399583345,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"1cb3e87de65b0801","name":"stage_yaml","source":"1cb3e87de65b0801.yaml","type":"application/yaml","size":661},{"uid":"9829535db90e6985","name":"rest_request","source":"9829535db90e6985.yaml","type":"application/yaml","size":161},{"uid":"f11d37cbf85b18e7","name":"rest_response","source":"f11d37cbf85b18e7.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676399583346,"stop":1676399583361,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"badd30309d715449","name":"stage_yaml","source":"badd30309d715449.yaml","type":"application/yaml","size":2375},{"uid":"fcd1bb8bf98ed0ed","name":"rest_request","source":"fcd1bb8bf98ed0ed.yaml","type":"application/yaml","size":161},{"uid":"1a7f3a18547bc796","name":"rest_response","source":"1a7f3a18547bc796.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1676399583362,"stop":1676399583373,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"f84d981396919557","name":"stage_yaml","source":"f84d981396919557.yaml","type":"application/yaml","size":976},{"uid":"f12a410aec94a72e","name":"rest_request","source":"f12a410aec94a72e.yaml","type":"application/yaml","size":145},{"uid":"f32f5d193d89bbcd","name":"rest_response","source":"f32f5d193d89bbcd.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1676399583374,"stop":1676399583387,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"d8c11c3a8dcf1cc1","name":"stage_yaml","source":"d8c11c3a8dcf1cc1.yaml","type":"application/yaml","size":795},{"uid":"dfdd6dc36512c065","name":"rest_request","source":"dfdd6dc36512c065.yaml","type":"application/yaml","size":216},{"uid":"40353359e2ec076d","name":"rest_response","source":"40353359e2ec076d.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1676399583388,"stop":1676399614860,"duration":31472},"status":"passed","steps":[],"attachments":[{"uid":"11093563b667b353","name":"stage_yaml","source":"11093563b667b353.yaml","type":"application/yaml","size":684},{"uid":"c06ef10ef7ec1a10","name":"rest_request","source":"c06ef10ef7ec1a10.yaml","type":"application/yaml","size":161},{"uid":"5bf5861b1585e2","name":"rest_response","source":"5bf5861b1585e2.yaml","type":"application/yaml","size":587},{"uid":"3bddda2f633e0c27","name":"stage_yaml","source":"3bddda2f633e0c27.yaml","type":"application/yaml","size":684},{"uid":"8a2f8bb805aae7f6","name":"rest_request","source":"8a2f8bb805aae7f6.yaml","type":"application/yaml","size":161},{"uid":"819e01045c47ee97","name":"rest_response","source":"819e01045c47ee97.yaml","type":"application/yaml","size":608},{"uid":"dc515683e03f8462","name":"stage_yaml","source":"dc515683e03f8462.yaml","type":"application/yaml","size":684},{"uid":"23cc80d68fe28468","name":"rest_request","source":"23cc80d68fe28468.yaml","type":"application/yaml","size":161},{"uid":"bd867a59c7743596","name":"rest_response","source":"bd867a59c7743596.yaml","type":"application/yaml","size":608},{"uid":"fcd8303f9c40b498","name":"stage_yaml","source":"fcd8303f9c40b498.yaml","type":"application/yaml","size":684},{"uid":"f3a16478fb450612","name":"rest_request","source":"f3a16478fb450612.yaml","type":"application/yaml","size":161},{"uid":"15658f3fb20fdc03","name":"rest_response","source":"15658f3fb20fdc03.yaml","type":"application/yaml","size":608},{"uid":"777d93e90be6b089","name":"stage_yaml","source":"777d93e90be6b089.yaml","type":"application/yaml","size":684},{"uid":"84656e6ecc9fedd8","name":"rest_request","source":"84656e6ecc9fedd8.yaml","type":"application/yaml","size":161},{"uid":"76f9b4e6227a6a5b","name":"rest_response","source":"76f9b4e6227a6a5b.yaml","type":"application/yaml","size":608},{"uid":"50cd113d9fd5e9cb","name":"stage_yaml","source":"50cd113d9fd5e9cb.yaml","type":"application/yaml","size":684},{"uid":"e5e2cfb5c42be7c4","name":"rest_request","source":"e5e2cfb5c42be7c4.yaml","type":"application/yaml","size":161},{"uid":"c03732cd219db1a","name":"rest_response","source":"c03732cd219db1a.yaml","type":"application/yaml","size":608},{"uid":"ad681dc53c4663f6","name":"stage_yaml","source":"ad681dc53c4663f6.yaml","type":"application/yaml","size":684},{"uid":"5803516b5fd689cb","name":"rest_request","source":"5803516b5fd689cb.yaml","type":"application/yaml","size":161},{"uid":"44ae0fbc4304b5a8","name":"rest_response","source":"44ae0fbc4304b5a8.yaml","type":"application/yaml","size":608},{"uid":"ea6dee3dd0f4b00e","name":"stage_yaml","source":"ea6dee3dd0f4b00e.yaml","type":"application/yaml","size":684},{"uid":"d85e1abc79075f75","name":"rest_request","source":"d85e1abc79075f75.yaml","type":"application/yaml","size":161},{"uid":"7ca6f2efe87aa3c9","name":"rest_response","source":"7ca6f2efe87aa3c9.yaml","type":"application/yaml","size":608},{"uid":"1eeae81f4fb568a5","name":"stage_yaml","source":"1eeae81f4fb568a5.yaml","type":"application/yaml","size":684},{"uid":"947d86968569e7b","name":"rest_request","source":"947d86968569e7b.yaml","type":"application/yaml","size":161},{"uid":"b369cf81ccf95a5","name":"rest_response","source":"b369cf81ccf95a5.yaml","type":"application/yaml","size":608},{"uid":"189e4f1740416817","name":"stage_yaml","source":"189e4f1740416817.yaml","type":"application/yaml","size":684},{"uid":"12aae63fbcdc50d3","name":"rest_request","source":"12aae63fbcdc50d3.yaml","type":"application/yaml","size":161},{"uid":"3adeb359447d2785","name":"rest_response","source":"3adeb359447d2785.yaml","type":"application/yaml","size":608},{"uid":"9a08d967c0157850","name":"stage_yaml","source":"9a08d967c0157850.yaml","type":"application/yaml","size":684},{"uid":"b20c635f8475847a","name":"rest_request","source":"b20c635f8475847a.yaml","type":"application/yaml","size":161},{"uid":"3823c01a27dd067b","name":"rest_response","source":"3823c01a27dd067b.yaml","type":"application/yaml","size":608},{"uid":"18ce0b1cad815f3d","name":"stage_yaml","source":"18ce0b1cad815f3d.yaml","type":"application/yaml","size":684},{"uid":"368ce7a1ada0e6a4","name":"rest_request","source":"368ce7a1ada0e6a4.yaml","type":"application/yaml","size":161},{"uid":"70cf7ab9058d47f6","name":"rest_response","source":"70cf7ab9058d47f6.yaml","type":"application/yaml","size":608},{"uid":"d32e73a6bda8d8d0","name":"stage_yaml","source":"d32e73a6bda8d8d0.yaml","type":"application/yaml","size":684},{"uid":"2117d49006625adb","name":"rest_request","source":"2117d49006625adb.yaml","type":"application/yaml","size":161},{"uid":"9f955969dc8dbdc5","name":"rest_response","source":"9f955969dc8dbdc5.yaml","type":"application/yaml","size":608},{"uid":"2218b675a00ae02a","name":"stage_yaml","source":"2218b675a00ae02a.yaml","type":"application/yaml","size":684},{"uid":"54e28fbc24ff75f6","name":"rest_request","source":"54e28fbc24ff75f6.yaml","type":"application/yaml","size":161},{"uid":"8364df6289dcbe8","name":"rest_response","source":"8364df6289dcbe8.yaml","type":"application/yaml","size":608},{"uid":"1eadfc1030b4e8c1","name":"stage_yaml","source":"1eadfc1030b4e8c1.yaml","type":"application/yaml","size":684},{"uid":"dec5065ff3eaf133","name":"rest_request","source":"dec5065ff3eaf133.yaml","type":"application/yaml","size":161},{"uid":"80d26a00968359dc","name":"rest_response","source":"80d26a00968359dc.yaml","type":"application/yaml","size":608},{"uid":"5e31bc1680c2913a","name":"stage_yaml","source":"5e31bc1680c2913a.yaml","type":"application/yaml","size":684},{"uid":"3c4e5a5a0195150d","name":"rest_request","source":"3c4e5a5a0195150d.yaml","type":"application/yaml","size":161},{"uid":"5145faf30a238232","name":"rest_response","source":"5145faf30a238232.yaml","type":"application/yaml","size":608},{"uid":"4be2a2182b7b48b4","name":"stage_yaml","source":"4be2a2182b7b48b4.yaml","type":"application/yaml","size":684},{"uid":"ab8640b9a88f24da","name":"rest_request","source":"ab8640b9a88f24da.yaml","type":"application/yaml","size":161},{"uid":"79912ebd27b27a16","name":"rest_response","source":"79912ebd27b27a16.yaml","type":"application/yaml","size":608},{"uid":"ff2f58610d115ae","name":"stage_yaml","source":"ff2f58610d115ae.yaml","type":"application/yaml","size":684},{"uid":"209e98839e2bfc10","name":"rest_request","source":"209e98839e2bfc10.yaml","type":"application/yaml","size":161},{"uid":"fcd326d07f15f232","name":"rest_response","source":"fcd326d07f15f232.yaml","type":"application/yaml","size":608},{"uid":"9eeabcddf4f3466a","name":"stage_yaml","source":"9eeabcddf4f3466a.yaml","type":"application/yaml","size":684},{"uid":"31d96f20e321dfca","name":"rest_request","source":"31d96f20e321dfca.yaml","type":"application/yaml","size":161},{"uid":"aab5f6d63b0aaf04","name":"rest_response","source":"aab5f6d63b0aaf04.yaml","type":"application/yaml","size":608},{"uid":"59666daaae8b8619","name":"stage_yaml","source":"59666daaae8b8619.yaml","type":"application/yaml","size":684},{"uid":"42477f0f5d0dc65b","name":"rest_request","source":"42477f0f5d0dc65b.yaml","type":"application/yaml","size":161},{"uid":"c1f3d335265e12aa","name":"rest_response","source":"c1f3d335265e12aa.yaml","type":"application/yaml","size":608},{"uid":"892acdf4c72b320f","name":"stage_yaml","source":"892acdf4c72b320f.yaml","type":"application/yaml","size":684},{"uid":"dde28b962c1801e5","name":"rest_request","source":"dde28b962c1801e5.yaml","type":"application/yaml","size":161},{"uid":"d497f80e58305aaa","name":"rest_response","source":"d497f80e58305aaa.yaml","type":"application/yaml","size":608},{"uid":"3feae127480847d4","name":"stage_yaml","source":"3feae127480847d4.yaml","type":"application/yaml","size":684},{"uid":"d065d390b57720fc","name":"rest_request","source":"d065d390b57720fc.yaml","type":"application/yaml","size":161},{"uid":"95bfd2ade6d90dfd","name":"rest_response","source":"95bfd2ade6d90dfd.yaml","type":"application/yaml","size":608},{"uid":"1f9ec7d23c64dee7","name":"stage_yaml","source":"1f9ec7d23c64dee7.yaml","type":"application/yaml","size":684},{"uid":"5ab7153d09884a83","name":"rest_request","source":"5ab7153d09884a83.yaml","type":"application/yaml","size":161},{"uid":"763919ff698b87a7","name":"rest_response","source":"763919ff698b87a7.yaml","type":"application/yaml","size":608},{"uid":"10a9aab92834238b","name":"stage_yaml","source":"10a9aab92834238b.yaml","type":"application/yaml","size":684},{"uid":"4ac052eaebce2946","name":"rest_request","source":"4ac052eaebce2946.yaml","type":"application/yaml","size":161},{"uid":"8a81ac707bc0a7a9","name":"rest_response","source":"8a81ac707bc0a7a9.yaml","type":"application/yaml","size":608},{"uid":"b62b6e17c2075689","name":"stage_yaml","source":"b62b6e17c2075689.yaml","type":"application/yaml","size":684},{"uid":"9c552c8e17b0ca66","name":"rest_request","source":"9c552c8e17b0ca66.yaml","type":"application/yaml","size":161},{"uid":"a011f486c0bcc540","name":"rest_response","source":"a011f486c0bcc540.yaml","type":"application/yaml","size":608},{"uid":"99060075d04733d7","name":"stage_yaml","source":"99060075d04733d7.yaml","type":"application/yaml","size":684},{"uid":"2e45758c34ec8af5","name":"rest_request","source":"2e45758c34ec8af5.yaml","type":"application/yaml","size":161},{"uid":"b59b63969eb624b4","name":"rest_response","source":"b59b63969eb624b4.yaml","type":"application/yaml","size":608},{"uid":"9c0a46a0c5b8c7ab","name":"stage_yaml","source":"9c0a46a0c5b8c7ab.yaml","type":"application/yaml","size":684},{"uid":"232721c8241a688a","name":"rest_request","source":"232721c8241a688a.yaml","type":"application/yaml","size":161},{"uid":"1e117f412f0d883d","name":"rest_response","source":"1e117f412f0d883d.yaml","type":"application/yaml","size":608},{"uid":"e68ca8df7e1dd1de","name":"stage_yaml","source":"e68ca8df7e1dd1de.yaml","type":"application/yaml","size":684},{"uid":"5485a119d209d87c","name":"rest_request","source":"5485a119d209d87c.yaml","type":"application/yaml","size":161},{"uid":"d465f618bdf5b203","name":"rest_response","source":"d465f618bdf5b203.yaml","type":"application/yaml","size":608},{"uid":"17bdc586d0ec6b4b","name":"stage_yaml","source":"17bdc586d0ec6b4b.yaml","type":"application/yaml","size":684},{"uid":"57aac73138893b0f","name":"rest_request","source":"57aac73138893b0f.yaml","type":"application/yaml","size":161},{"uid":"1b1aeefd79118101","name":"rest_response","source":"1b1aeefd79118101.yaml","type":"application/yaml","size":608},{"uid":"2dbf5f61228c1f21","name":"stage_yaml","source":"2dbf5f61228c1f21.yaml","type":"application/yaml","size":684},{"uid":"7148acfa88f4849b","name":"rest_request","source":"7148acfa88f4849b.yaml","type":"application/yaml","size":161},{"uid":"698757de7a7644c3","name":"rest_response","source":"698757de7a7644c3.yaml","type":"application/yaml","size":608},{"uid":"e88521af9d7dfcaf","name":"stage_yaml","source":"e88521af9d7dfcaf.yaml","type":"application/yaml","size":684},{"uid":"a74b359e96a649dc","name":"rest_request","source":"a74b359e96a649dc.yaml","type":"application/yaml","size":161},{"uid":"d6ebf6168e39ad85","name":"rest_response","source":"d6ebf6168e39ad85.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1676399614861,"stop":1676399614877,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"2d01ec7761369661","name":"stage_yaml","source":"2d01ec7761369661.yaml","type":"application/yaml","size":2336},{"uid":"2585d8cd40fe8909","name":"rest_request","source":"2585d8cd40fe8909.yaml","type":"application/yaml","size":161},{"uid":"db787171c4bac9f5","name":"rest_response","source":"db787171c4bac9f5.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1676399614878,"stop":1676399614890,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"9b4948b708df10b9","name":"stage_yaml","source":"9b4948b708df10b9.yaml","type":"application/yaml","size":978},{"uid":"43d4ff2dfe09aad","name":"rest_request","source":"43d4ff2dfe09aad.yaml","type":"application/yaml","size":145},{"uid":"88a7b7bd9c95eaef","name":"rest_response","source":"88a7b7bd9c95eaef.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"2083d268976e57d2","name":"log","source":"2083d268976e57d2.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dcf6f0306906"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":10},"items":[{"uid":"a08f0fb12f37f14b","status":"passed","time":{"start":1676324308069,"stop":1676324340838,"duration":32769}},{"uid":"80ef640ccc769ba6","status":"passed","time":{"start":1674515135445,"stop":1674515152857,"duration":17412}},{"uid":"e39f8b3abcbef727","status":"passed","time":{"start":1674505198362,"stop":1674505231270,"duration":32908}},{"uid":"d4a9140df39ed9d5","status":"passed","time":{"start":1674500025702,"stop":1674500043119,"duration":17417}},{"uid":"33e8e355e3ea7392","status":"passed","time":{"start":1674257402786,"stop":1674257481316,"duration":78530}},{"uid":"ab2961c357340a1","status":"passed","time":{"start":1674254723736,"stop":1674254741154,"duration":17418}},{"uid":"6001dae660fb87e0","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080274145,"stop":1674080275280,"duration":1135}},{"uid":"79a5f22179955b39","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005111,"stop":1674075005146,"duration":35}},{"uid":"a9725d25de83b127","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622465,"stop":1674074622502,"duration":37}}]},"tags":[]},"source":"e063e4c7b9ddbb6d.json","parameterValues":[]}