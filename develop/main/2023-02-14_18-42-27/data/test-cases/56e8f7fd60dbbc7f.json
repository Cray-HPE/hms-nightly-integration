{"uid":"56e8f7fd60dbbc7f","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1676400037143,"stop":1676400069726,"duration":32583},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676400037152,"stop":1676400037188,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"e8ac417156f5b185","name":"stage_yaml","source":"e8ac417156f5b185.yaml","type":"application/yaml","size":302},{"uid":"6b4706c8239d8abd","name":"rest_request","source":"6b4706c8239d8abd.yaml","type":"application/yaml","size":162},{"uid":"5735f5ad32cb9875","name":"rest_response","source":"5735f5ad32cb9875.yaml","type":"application/yaml","size":5753}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676400037188,"stop":1676400037200,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"4b41b45ad95a3104","name":"stage_yaml","source":"4b41b45ad95a3104.yaml","type":"application/yaml","size":797},{"uid":"8a1840cf62050f3f","name":"rest_request","source":"8a1840cf62050f3f.yaml","type":"application/yaml","size":216},{"uid":"192559075730ddf3","name":"rest_response","source":"192559075730ddf3.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676400037203,"stop":1676400068655,"duration":31452},"status":"passed","steps":[],"attachments":[{"uid":"cde20f461ae6fea2","name":"stage_yaml","source":"cde20f461ae6fea2.yaml","type":"application/yaml","size":682},{"uid":"4f1d1cda90f6aa2d","name":"rest_request","source":"4f1d1cda90f6aa2d.yaml","type":"application/yaml","size":161},{"uid":"a87b99c3c54845da","name":"rest_response","source":"a87b99c3c54845da.yaml","type":"application/yaml","size":587},{"uid":"bbeca1af6db6c9ca","name":"stage_yaml","source":"bbeca1af6db6c9ca.yaml","type":"application/yaml","size":682},{"uid":"ce9f942e0b329419","name":"rest_request","source":"ce9f942e0b329419.yaml","type":"application/yaml","size":161},{"uid":"9d5ece0852c58194","name":"rest_response","source":"9d5ece0852c58194.yaml","type":"application/yaml","size":608},{"uid":"5385ec8abdad57d2","name":"stage_yaml","source":"5385ec8abdad57d2.yaml","type":"application/yaml","size":682},{"uid":"48fd58aed9e42c0b","name":"rest_request","source":"48fd58aed9e42c0b.yaml","type":"application/yaml","size":161},{"uid":"4ce7e72739ad80c","name":"rest_response","source":"4ce7e72739ad80c.yaml","type":"application/yaml","size":608},{"uid":"72b1d272b270d575","name":"stage_yaml","source":"72b1d272b270d575.yaml","type":"application/yaml","size":682},{"uid":"f8bcf7a7aa4ed7ce","name":"rest_request","source":"f8bcf7a7aa4ed7ce.yaml","type":"application/yaml","size":161},{"uid":"75c8a1b058c7633b","name":"rest_response","source":"75c8a1b058c7633b.yaml","type":"application/yaml","size":608},{"uid":"5d5ed795ec4232c4","name":"stage_yaml","source":"5d5ed795ec4232c4.yaml","type":"application/yaml","size":682},{"uid":"ebaeac6c38f233bc","name":"rest_request","source":"ebaeac6c38f233bc.yaml","type":"application/yaml","size":161},{"uid":"fc07369be2196876","name":"rest_response","source":"fc07369be2196876.yaml","type":"application/yaml","size":608},{"uid":"2311d9ff2ce47e50","name":"stage_yaml","source":"2311d9ff2ce47e50.yaml","type":"application/yaml","size":682},{"uid":"ae2cc52dccc61a0a","name":"rest_request","source":"ae2cc52dccc61a0a.yaml","type":"application/yaml","size":161},{"uid":"3f53e2404a1843a","name":"rest_response","source":"3f53e2404a1843a.yaml","type":"application/yaml","size":608},{"uid":"91a0b499fa8bdb8e","name":"stage_yaml","source":"91a0b499fa8bdb8e.yaml","type":"application/yaml","size":682},{"uid":"aff91dd27e0db483","name":"rest_request","source":"aff91dd27e0db483.yaml","type":"application/yaml","size":161},{"uid":"d5e6428cc8f39028","name":"rest_response","source":"d5e6428cc8f39028.yaml","type":"application/yaml","size":608},{"uid":"e712b2a340ac21f8","name":"stage_yaml","source":"e712b2a340ac21f8.yaml","type":"application/yaml","size":682},{"uid":"f43e926d33d6051b","name":"rest_request","source":"f43e926d33d6051b.yaml","type":"application/yaml","size":161},{"uid":"e8d3229e4de2b552","name":"rest_response","source":"e8d3229e4de2b552.yaml","type":"application/yaml","size":608},{"uid":"42b4e18748dde4a0","name":"stage_yaml","source":"42b4e18748dde4a0.yaml","type":"application/yaml","size":682},{"uid":"a2f4c74f66bc1e58","name":"rest_request","source":"a2f4c74f66bc1e58.yaml","type":"application/yaml","size":161},{"uid":"1c16fe5a63c2e7f4","name":"rest_response","source":"1c16fe5a63c2e7f4.yaml","type":"application/yaml","size":608},{"uid":"7d956d7fb7711afa","name":"stage_yaml","source":"7d956d7fb7711afa.yaml","type":"application/yaml","size":682},{"uid":"96c57576e8fc8ea8","name":"rest_request","source":"96c57576e8fc8ea8.yaml","type":"application/yaml","size":161},{"uid":"2212a7ce7367a7e7","name":"rest_response","source":"2212a7ce7367a7e7.yaml","type":"application/yaml","size":608},{"uid":"7e06b693bb823b20","name":"stage_yaml","source":"7e06b693bb823b20.yaml","type":"application/yaml","size":682},{"uid":"56ca69602c44f73d","name":"rest_request","source":"56ca69602c44f73d.yaml","type":"application/yaml","size":161},{"uid":"9e6167b6bc33a360","name":"rest_response","source":"9e6167b6bc33a360.yaml","type":"application/yaml","size":608},{"uid":"6bcf8b5e497b2836","name":"stage_yaml","source":"6bcf8b5e497b2836.yaml","type":"application/yaml","size":682},{"uid":"7c77793449b101cd","name":"rest_request","source":"7c77793449b101cd.yaml","type":"application/yaml","size":161},{"uid":"32e50f0f334685f1","name":"rest_response","source":"32e50f0f334685f1.yaml","type":"application/yaml","size":608},{"uid":"375903d20968a4d5","name":"stage_yaml","source":"375903d20968a4d5.yaml","type":"application/yaml","size":682},{"uid":"c9bcf434e7e7267e","name":"rest_request","source":"c9bcf434e7e7267e.yaml","type":"application/yaml","size":161},{"uid":"5a7d3eaf2664f744","name":"rest_response","source":"5a7d3eaf2664f744.yaml","type":"application/yaml","size":608},{"uid":"c2ac82f5fc9a38d1","name":"stage_yaml","source":"c2ac82f5fc9a38d1.yaml","type":"application/yaml","size":682},{"uid":"67f50da9e82c8a65","name":"rest_request","source":"67f50da9e82c8a65.yaml","type":"application/yaml","size":161},{"uid":"b3dac8e08e38ec4c","name":"rest_response","source":"b3dac8e08e38ec4c.yaml","type":"application/yaml","size":608},{"uid":"9a120a04470331b7","name":"stage_yaml","source":"9a120a04470331b7.yaml","type":"application/yaml","size":682},{"uid":"c5ae0de2e30140c0","name":"rest_request","source":"c5ae0de2e30140c0.yaml","type":"application/yaml","size":161},{"uid":"fe73a445e64fd80c","name":"rest_response","source":"fe73a445e64fd80c.yaml","type":"application/yaml","size":608},{"uid":"5c9dc1c12b3b5729","name":"stage_yaml","source":"5c9dc1c12b3b5729.yaml","type":"application/yaml","size":682},{"uid":"22b76cd5f8feaded","name":"rest_request","source":"22b76cd5f8feaded.yaml","type":"application/yaml","size":161},{"uid":"f1e25586ac772d9e","name":"rest_response","source":"f1e25586ac772d9e.yaml","type":"application/yaml","size":608},{"uid":"91aacd1bf3362f81","name":"stage_yaml","source":"91aacd1bf3362f81.yaml","type":"application/yaml","size":682},{"uid":"8d326eeac177b5f4","name":"rest_request","source":"8d326eeac177b5f4.yaml","type":"application/yaml","size":161},{"uid":"4363013dd035900c","name":"rest_response","source":"4363013dd035900c.yaml","type":"application/yaml","size":608},{"uid":"af8be4d008a09192","name":"stage_yaml","source":"af8be4d008a09192.yaml","type":"application/yaml","size":682},{"uid":"dcf84c7c65c4c348","name":"rest_request","source":"dcf84c7c65c4c348.yaml","type":"application/yaml","size":161},{"uid":"3ccde77c7ba9f165","name":"rest_response","source":"3ccde77c7ba9f165.yaml","type":"application/yaml","size":608},{"uid":"c4461a908a90f9ab","name":"stage_yaml","source":"c4461a908a90f9ab.yaml","type":"application/yaml","size":682},{"uid":"1e11526f6c3ed4de","name":"rest_request","source":"1e11526f6c3ed4de.yaml","type":"application/yaml","size":161},{"uid":"6e46769e7136e84","name":"rest_response","source":"6e46769e7136e84.yaml","type":"application/yaml","size":608},{"uid":"9efa9716ab8bf8bc","name":"stage_yaml","source":"9efa9716ab8bf8bc.yaml","type":"application/yaml","size":682},{"uid":"5751bb9c57ee6adc","name":"rest_request","source":"5751bb9c57ee6adc.yaml","type":"application/yaml","size":161},{"uid":"6448f5de3ecdf3b","name":"rest_response","source":"6448f5de3ecdf3b.yaml","type":"application/yaml","size":608},{"uid":"bd3d950c386d35de","name":"stage_yaml","source":"bd3d950c386d35de.yaml","type":"application/yaml","size":682},{"uid":"b9b87c9bb1ccfa69","name":"rest_request","source":"b9b87c9bb1ccfa69.yaml","type":"application/yaml","size":161},{"uid":"8bdc55e138cb6cd5","name":"rest_response","source":"8bdc55e138cb6cd5.yaml","type":"application/yaml","size":608},{"uid":"7d2a33118323f14b","name":"stage_yaml","source":"7d2a33118323f14b.yaml","type":"application/yaml","size":682},{"uid":"3e7f675c76f4e3af","name":"rest_request","source":"3e7f675c76f4e3af.yaml","type":"application/yaml","size":161},{"uid":"21dab102419df7cc","name":"rest_response","source":"21dab102419df7cc.yaml","type":"application/yaml","size":608},{"uid":"d8829aa763711ce5","name":"stage_yaml","source":"d8829aa763711ce5.yaml","type":"application/yaml","size":682},{"uid":"9d0b68ca09efaeba","name":"rest_request","source":"9d0b68ca09efaeba.yaml","type":"application/yaml","size":161},{"uid":"bcdd4af4c493b011","name":"rest_response","source":"bcdd4af4c493b011.yaml","type":"application/yaml","size":608},{"uid":"7ad775200e80612e","name":"stage_yaml","source":"7ad775200e80612e.yaml","type":"application/yaml","size":682},{"uid":"db6eb6f0167dd1dd","name":"rest_request","source":"db6eb6f0167dd1dd.yaml","type":"application/yaml","size":161},{"uid":"c9531dd88f70a43e","name":"rest_response","source":"c9531dd88f70a43e.yaml","type":"application/yaml","size":608},{"uid":"e803289330710335","name":"stage_yaml","source":"e803289330710335.yaml","type":"application/yaml","size":682},{"uid":"7862b6f14322118","name":"rest_request","source":"7862b6f14322118.yaml","type":"application/yaml","size":161},{"uid":"40d34ec410b8e004","name":"rest_response","source":"40d34ec410b8e004.yaml","type":"application/yaml","size":608},{"uid":"1578c88475088557","name":"stage_yaml","source":"1578c88475088557.yaml","type":"application/yaml","size":682},{"uid":"d65407ca86676077","name":"rest_request","source":"d65407ca86676077.yaml","type":"application/yaml","size":161},{"uid":"35ff1f09c0faed72","name":"rest_response","source":"35ff1f09c0faed72.yaml","type":"application/yaml","size":608},{"uid":"f53dd6c2cf3cc62a","name":"stage_yaml","source":"f53dd6c2cf3cc62a.yaml","type":"application/yaml","size":682},{"uid":"46d0ebbf84bf29e8","name":"rest_request","source":"46d0ebbf84bf29e8.yaml","type":"application/yaml","size":161},{"uid":"f440533476465560","name":"rest_response","source":"f440533476465560.yaml","type":"application/yaml","size":608},{"uid":"e2f446516f4ce55d","name":"stage_yaml","source":"e2f446516f4ce55d.yaml","type":"application/yaml","size":682},{"uid":"b26e352d1f060c52","name":"rest_request","source":"b26e352d1f060c52.yaml","type":"application/yaml","size":161},{"uid":"f10157669a1047a8","name":"rest_response","source":"f10157669a1047a8.yaml","type":"application/yaml","size":608},{"uid":"e2cf2c41dc43c67e","name":"stage_yaml","source":"e2cf2c41dc43c67e.yaml","type":"application/yaml","size":682},{"uid":"56a1df93ba298e65","name":"rest_request","source":"56a1df93ba298e65.yaml","type":"application/yaml","size":161},{"uid":"c823f966a2f3597a","name":"rest_response","source":"c823f966a2f3597a.yaml","type":"application/yaml","size":608},{"uid":"dff0aab1727b5576","name":"stage_yaml","source":"dff0aab1727b5576.yaml","type":"application/yaml","size":682},{"uid":"f2efcd6b3830ba7b","name":"rest_request","source":"f2efcd6b3830ba7b.yaml","type":"application/yaml","size":161},{"uid":"ccbd584d4ae8b501","name":"rest_response","source":"ccbd584d4ae8b501.yaml","type":"application/yaml","size":608},{"uid":"9a6c088d578bad6a","name":"stage_yaml","source":"9a6c088d578bad6a.yaml","type":"application/yaml","size":682},{"uid":"ff96db6f7ec71980","name":"rest_request","source":"ff96db6f7ec71980.yaml","type":"application/yaml","size":161},{"uid":"c9cb46d248d44b8a","name":"rest_response","source":"c9cb46d248d44b8a.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1676400068656,"stop":1676400068670,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"2e3cd318c44450ba","name":"stage_yaml","source":"2e3cd318c44450ba.yaml","type":"application/yaml","size":2395},{"uid":"14571915d2b89179","name":"rest_request","source":"14571915d2b89179.yaml","type":"application/yaml","size":161},{"uid":"f5d5c092f643add1","name":"rest_response","source":"f5d5c092f643add1.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676400068671,"stop":1676400068683,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"8834a993c22c72ba","name":"stage_yaml","source":"8834a993c22c72ba.yaml","type":"application/yaml","size":978},{"uid":"493784a2d8230ac6","name":"rest_request","source":"493784a2d8230ac6.yaml","type":"application/yaml","size":145},{"uid":"aa4a47fe89d47e86","name":"rest_response","source":"aa4a47fe89d47e86.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1676400068684,"stop":1676400068695,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"7aebd96652f52d1a","name":"stage_yaml","source":"7aebd96652f52d1a.yaml","type":"application/yaml","size":816},{"uid":"c418098a962bf60b","name":"rest_request","source":"c418098a962bf60b.yaml","type":"application/yaml","size":219},{"uid":"3ca084a1778b3058","name":"rest_response","source":"3ca084a1778b3058.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1676400068697,"stop":1676400069710,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"2ee654c0516b67fb","name":"stage_yaml","source":"2ee654c0516b67fb.yaml","type":"application/yaml","size":693},{"uid":"2809d33c253c06d7","name":"rest_request","source":"2809d33c253c06d7.yaml","type":"application/yaml","size":161},{"uid":"2709ff373f97b26e","name":"rest_response","source":"2709ff373f97b26e.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1676400069711,"stop":1676400069725,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"7f43eac1b63b71c","name":"stage_yaml","source":"7f43eac1b63b71c.yaml","type":"application/yaml","size":2549},{"uid":"71dd97878d2b011f","name":"rest_request","source":"71dd97878d2b011f.yaml","type":"application/yaml","size":161},{"uid":"d6cce522fbe6b564","name":"rest_response","source":"d6cce522fbe6b564.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"17db5fdee19fba9a","name":"log","source":"17db5fdee19fba9a.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dcf6f0306906"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":10},"items":[{"uid":"dadcf9b04d98696f","status":"passed","time":{"start":1676324764693,"stop":1676324797333,"duration":32640}},{"uid":"e68cd2560b96d8bc","status":"passed","time":{"start":1674515544898,"stop":1674515577491,"duration":32593}},{"uid":"75bc9fe4ff46b849","status":"passed","time":{"start":1674505718646,"stop":1674505720853,"duration":2207}},{"uid":"7994173b87f76ee4","status":"passed","time":{"start":1674500526963,"stop":1674500529126,"duration":2163}},{"uid":"d3c1fd66308b1580","status":"passed","time":{"start":1674257934555,"stop":1674257936714,"duration":2159}},{"uid":"7378a7cdf4d39cac","status":"passed","time":{"start":1674255255677,"stop":1674255273083,"duration":17406}},{"uid":"fc16bb501e6af1dd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080286390,"stop":1674080286435,"duration":45}},{"uid":"34e35d6cba29643d","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005824,"stop":1674075005855,"duration":31}},{"uid":"424446345afae529","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623136,"stop":1674074623166,"duration":30}}]},"tags":[]},"source":"56e8f7fd60dbbc7f.json","parameterValues":[]}