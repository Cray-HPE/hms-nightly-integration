{"uid":"39eac9a40cbdb3c7","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1676399956477,"stop":1676399989102,"duration":32625},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676399956486,"stop":1676399956522,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"5013fcafa56b4b3f","name":"stage_yaml","source":"5013fcafa56b4b3f.yaml","type":"application/yaml","size":302},{"uid":"c4b35b3073919a3b","name":"rest_request","source":"c4b35b3073919a3b.yaml","type":"application/yaml","size":162},{"uid":"1b51caa9938ed951","name":"rest_response","source":"1b51caa9938ed951.yaml","type":"application/yaml","size":5753}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676399956523,"stop":1676399956536,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"cee0fda3b887249b","name":"stage_yaml","source":"cee0fda3b887249b.yaml","type":"application/yaml","size":797},{"uid":"a55644bfa73375da","name":"rest_request","source":"a55644bfa73375da.yaml","type":"application/yaml","size":216},{"uid":"7ca28958fdb56a57","name":"rest_response","source":"7ca28958fdb56a57.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676399956538,"stop":1676399988010,"duration":31472},"status":"passed","steps":[],"attachments":[{"uid":"e384efd21539d2ea","name":"stage_yaml","source":"e384efd21539d2ea.yaml","type":"application/yaml","size":682},{"uid":"15f909d575b21372","name":"rest_request","source":"15f909d575b21372.yaml","type":"application/yaml","size":161},{"uid":"79093f26d828350d","name":"rest_response","source":"79093f26d828350d.yaml","type":"application/yaml","size":587},{"uid":"18aec86c919f5f58","name":"stage_yaml","source":"18aec86c919f5f58.yaml","type":"application/yaml","size":682},{"uid":"a7e1cfaba9bbadbb","name":"rest_request","source":"a7e1cfaba9bbadbb.yaml","type":"application/yaml","size":161},{"uid":"81cb9cf412ce9d38","name":"rest_response","source":"81cb9cf412ce9d38.yaml","type":"application/yaml","size":608},{"uid":"f083b608a20e07b0","name":"stage_yaml","source":"f083b608a20e07b0.yaml","type":"application/yaml","size":682},{"uid":"d240c54f78d28ad6","name":"rest_request","source":"d240c54f78d28ad6.yaml","type":"application/yaml","size":161},{"uid":"caa5efb568eb962e","name":"rest_response","source":"caa5efb568eb962e.yaml","type":"application/yaml","size":608},{"uid":"4f172a1667262ce5","name":"stage_yaml","source":"4f172a1667262ce5.yaml","type":"application/yaml","size":682},{"uid":"736c923529c61e89","name":"rest_request","source":"736c923529c61e89.yaml","type":"application/yaml","size":161},{"uid":"505c449b786c094a","name":"rest_response","source":"505c449b786c094a.yaml","type":"application/yaml","size":608},{"uid":"4d3ed58d18d4fea7","name":"stage_yaml","source":"4d3ed58d18d4fea7.yaml","type":"application/yaml","size":682},{"uid":"c26a9aa1bf9b3dbd","name":"rest_request","source":"c26a9aa1bf9b3dbd.yaml","type":"application/yaml","size":161},{"uid":"3cd6b0e2c4a76470","name":"rest_response","source":"3cd6b0e2c4a76470.yaml","type":"application/yaml","size":608},{"uid":"c334f4be71741e73","name":"stage_yaml","source":"c334f4be71741e73.yaml","type":"application/yaml","size":682},{"uid":"6d0b76a00042164a","name":"rest_request","source":"6d0b76a00042164a.yaml","type":"application/yaml","size":161},{"uid":"cd0b50acfcd8a56f","name":"rest_response","source":"cd0b50acfcd8a56f.yaml","type":"application/yaml","size":608},{"uid":"93bba4d4788fd93f","name":"stage_yaml","source":"93bba4d4788fd93f.yaml","type":"application/yaml","size":682},{"uid":"68c70834804f187b","name":"rest_request","source":"68c70834804f187b.yaml","type":"application/yaml","size":161},{"uid":"56498aba2e3e00d8","name":"rest_response","source":"56498aba2e3e00d8.yaml","type":"application/yaml","size":608},{"uid":"877bdf8d664470bc","name":"stage_yaml","source":"877bdf8d664470bc.yaml","type":"application/yaml","size":682},{"uid":"aa43c91f2603e521","name":"rest_request","source":"aa43c91f2603e521.yaml","type":"application/yaml","size":161},{"uid":"3983ded4f2b304ad","name":"rest_response","source":"3983ded4f2b304ad.yaml","type":"application/yaml","size":608},{"uid":"1893a87d747aa870","name":"stage_yaml","source":"1893a87d747aa870.yaml","type":"application/yaml","size":682},{"uid":"db49f4b8b1e4d918","name":"rest_request","source":"db49f4b8b1e4d918.yaml","type":"application/yaml","size":161},{"uid":"5fb1ee03e2ab3c03","name":"rest_response","source":"5fb1ee03e2ab3c03.yaml","type":"application/yaml","size":608},{"uid":"899bad541dab7914","name":"stage_yaml","source":"899bad541dab7914.yaml","type":"application/yaml","size":682},{"uid":"77ccf7cef65ea017","name":"rest_request","source":"77ccf7cef65ea017.yaml","type":"application/yaml","size":161},{"uid":"53875125cfed631f","name":"rest_response","source":"53875125cfed631f.yaml","type":"application/yaml","size":608},{"uid":"3aa958d9884323fe","name":"stage_yaml","source":"3aa958d9884323fe.yaml","type":"application/yaml","size":682},{"uid":"a9bddc81ef1d4303","name":"rest_request","source":"a9bddc81ef1d4303.yaml","type":"application/yaml","size":161},{"uid":"8a094305897c7148","name":"rest_response","source":"8a094305897c7148.yaml","type":"application/yaml","size":608},{"uid":"c4f00d3c87076a80","name":"stage_yaml","source":"c4f00d3c87076a80.yaml","type":"application/yaml","size":682},{"uid":"f9a88a94f6ac730d","name":"rest_request","source":"f9a88a94f6ac730d.yaml","type":"application/yaml","size":161},{"uid":"837a27ee1c1c84ca","name":"rest_response","source":"837a27ee1c1c84ca.yaml","type":"application/yaml","size":608},{"uid":"962a124ecf2e018c","name":"stage_yaml","source":"962a124ecf2e018c.yaml","type":"application/yaml","size":682},{"uid":"5602fc7eb9bd04d8","name":"rest_request","source":"5602fc7eb9bd04d8.yaml","type":"application/yaml","size":161},{"uid":"b29827e59a5cd99f","name":"rest_response","source":"b29827e59a5cd99f.yaml","type":"application/yaml","size":608},{"uid":"6c66f2287be68275","name":"stage_yaml","source":"6c66f2287be68275.yaml","type":"application/yaml","size":682},{"uid":"3d10fa6f69e8b785","name":"rest_request","source":"3d10fa6f69e8b785.yaml","type":"application/yaml","size":161},{"uid":"52ebaddb4062900a","name":"rest_response","source":"52ebaddb4062900a.yaml","type":"application/yaml","size":608},{"uid":"da7e6b99b4bd5f1e","name":"stage_yaml","source":"da7e6b99b4bd5f1e.yaml","type":"application/yaml","size":682},{"uid":"2a739bdeb45ca984","name":"rest_request","source":"2a739bdeb45ca984.yaml","type":"application/yaml","size":161},{"uid":"61fa8f61e64097aa","name":"rest_response","source":"61fa8f61e64097aa.yaml","type":"application/yaml","size":608},{"uid":"9e617a431b107501","name":"stage_yaml","source":"9e617a431b107501.yaml","type":"application/yaml","size":682},{"uid":"cfbec1071b33bf3b","name":"rest_request","source":"cfbec1071b33bf3b.yaml","type":"application/yaml","size":161},{"uid":"17373fa5630bc60","name":"rest_response","source":"17373fa5630bc60.yaml","type":"application/yaml","size":608},{"uid":"9902059f1abd529f","name":"stage_yaml","source":"9902059f1abd529f.yaml","type":"application/yaml","size":682},{"uid":"d74c0c5e23060577","name":"rest_request","source":"d74c0c5e23060577.yaml","type":"application/yaml","size":161},{"uid":"979955e1c8a7b486","name":"rest_response","source":"979955e1c8a7b486.yaml","type":"application/yaml","size":608},{"uid":"63d7561c7b78f559","name":"stage_yaml","source":"63d7561c7b78f559.yaml","type":"application/yaml","size":682},{"uid":"112925f3c2192953","name":"rest_request","source":"112925f3c2192953.yaml","type":"application/yaml","size":161},{"uid":"84f70b71b5a5bf9d","name":"rest_response","source":"84f70b71b5a5bf9d.yaml","type":"application/yaml","size":608},{"uid":"ac7bdfc6da70afeb","name":"stage_yaml","source":"ac7bdfc6da70afeb.yaml","type":"application/yaml","size":682},{"uid":"bae725c306f9d86a","name":"rest_request","source":"bae725c306f9d86a.yaml","type":"application/yaml","size":161},{"uid":"55ff859614773b6d","name":"rest_response","source":"55ff859614773b6d.yaml","type":"application/yaml","size":608},{"uid":"6a39f5c3366256c","name":"stage_yaml","source":"6a39f5c3366256c.yaml","type":"application/yaml","size":682},{"uid":"ab2cf94a9bef9188","name":"rest_request","source":"ab2cf94a9bef9188.yaml","type":"application/yaml","size":161},{"uid":"fccf33730a77abb9","name":"rest_response","source":"fccf33730a77abb9.yaml","type":"application/yaml","size":608},{"uid":"f235caa275eede64","name":"stage_yaml","source":"f235caa275eede64.yaml","type":"application/yaml","size":682},{"uid":"8404b96d376fb3b3","name":"rest_request","source":"8404b96d376fb3b3.yaml","type":"application/yaml","size":161},{"uid":"cd9488d564fd8c81","name":"rest_response","source":"cd9488d564fd8c81.yaml","type":"application/yaml","size":608},{"uid":"434a0d0e16b1bfc8","name":"stage_yaml","source":"434a0d0e16b1bfc8.yaml","type":"application/yaml","size":682},{"uid":"f1ea8c8bca0caa37","name":"rest_request","source":"f1ea8c8bca0caa37.yaml","type":"application/yaml","size":161},{"uid":"217dcb08751360eb","name":"rest_response","source":"217dcb08751360eb.yaml","type":"application/yaml","size":608},{"uid":"7cb3eb39b0224217","name":"stage_yaml","source":"7cb3eb39b0224217.yaml","type":"application/yaml","size":682},{"uid":"faaa479000b2c7e4","name":"rest_request","source":"faaa479000b2c7e4.yaml","type":"application/yaml","size":161},{"uid":"2a25255e488a8a77","name":"rest_response","source":"2a25255e488a8a77.yaml","type":"application/yaml","size":608},{"uid":"bae3c4f380807f21","name":"stage_yaml","source":"bae3c4f380807f21.yaml","type":"application/yaml","size":682},{"uid":"36f0e6beb6deb8f5","name":"rest_request","source":"36f0e6beb6deb8f5.yaml","type":"application/yaml","size":161},{"uid":"b48e9a07076d4de4","name":"rest_response","source":"b48e9a07076d4de4.yaml","type":"application/yaml","size":608},{"uid":"fb7f4760f94d8d3f","name":"stage_yaml","source":"fb7f4760f94d8d3f.yaml","type":"application/yaml","size":682},{"uid":"1e516ec64d4488b4","name":"rest_request","source":"1e516ec64d4488b4.yaml","type":"application/yaml","size":161},{"uid":"68c24aac58ed60d3","name":"rest_response","source":"68c24aac58ed60d3.yaml","type":"application/yaml","size":608},{"uid":"f7351fb08484480b","name":"stage_yaml","source":"f7351fb08484480b.yaml","type":"application/yaml","size":682},{"uid":"b1551cd2076b3ca5","name":"rest_request","source":"b1551cd2076b3ca5.yaml","type":"application/yaml","size":161},{"uid":"11e1fc40a89c03a1","name":"rest_response","source":"11e1fc40a89c03a1.yaml","type":"application/yaml","size":608},{"uid":"718c49461bebce67","name":"stage_yaml","source":"718c49461bebce67.yaml","type":"application/yaml","size":682},{"uid":"65ce4ac184740eee","name":"rest_request","source":"65ce4ac184740eee.yaml","type":"application/yaml","size":161},{"uid":"860d8c4df1e2c000","name":"rest_response","source":"860d8c4df1e2c000.yaml","type":"application/yaml","size":608},{"uid":"b208e678296785f","name":"stage_yaml","source":"b208e678296785f.yaml","type":"application/yaml","size":682},{"uid":"c7e2f43e17763db5","name":"rest_request","source":"c7e2f43e17763db5.yaml","type":"application/yaml","size":161},{"uid":"bd3387d3bb11c478","name":"rest_response","source":"bd3387d3bb11c478.yaml","type":"application/yaml","size":608},{"uid":"7a10f75903f6cc96","name":"stage_yaml","source":"7a10f75903f6cc96.yaml","type":"application/yaml","size":682},{"uid":"44cf88cf387394e6","name":"rest_request","source":"44cf88cf387394e6.yaml","type":"application/yaml","size":161},{"uid":"fb5fa9b23367c564","name":"rest_response","source":"fb5fa9b23367c564.yaml","type":"application/yaml","size":608},{"uid":"4701d04ffa49d3bf","name":"stage_yaml","source":"4701d04ffa49d3bf.yaml","type":"application/yaml","size":682},{"uid":"5564bfc663787d9c","name":"rest_request","source":"5564bfc663787d9c.yaml","type":"application/yaml","size":161},{"uid":"546780df9b6959ff","name":"rest_response","source":"546780df9b6959ff.yaml","type":"application/yaml","size":608},{"uid":"ca10ef768276a31e","name":"stage_yaml","source":"ca10ef768276a31e.yaml","type":"application/yaml","size":682},{"uid":"a428c51a6ccb5bcc","name":"rest_request","source":"a428c51a6ccb5bcc.yaml","type":"application/yaml","size":161},{"uid":"9846781cf02b68ba","name":"rest_response","source":"9846781cf02b68ba.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1676399988011,"stop":1676399988026,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"555907ee96f98ac2","name":"stage_yaml","source":"555907ee96f98ac2.yaml","type":"application/yaml","size":2389},{"uid":"18aa6c27734ada86","name":"rest_request","source":"18aa6c27734ada86.yaml","type":"application/yaml","size":161},{"uid":"f37025f3edcd5513","name":"rest_response","source":"f37025f3edcd5513.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676399988026,"stop":1676399988037,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"88d391cb1261cfda","name":"stage_yaml","source":"88d391cb1261cfda.yaml","type":"application/yaml","size":978},{"uid":"6d647f6bb61a0c85","name":"rest_request","source":"6d647f6bb61a0c85.yaml","type":"application/yaml","size":145},{"uid":"f373aaabdf48dad1","name":"rest_response","source":"f373aaabdf48dad1.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1676399988038,"stop":1676399988049,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"4ff290ae163a0e24","name":"stage_yaml","source":"4ff290ae163a0e24.yaml","type":"application/yaml","size":763},{"uid":"87c9b605597afd","name":"rest_request","source":"87c9b605597afd.yaml","type":"application/yaml","size":211},{"uid":"dcdbfc65c1d8aa48","name":"rest_response","source":"dcdbfc65c1d8aa48.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1676399988050,"stop":1676399988061,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"da4a55cb016cb6d1","name":"stage_yaml","source":"da4a55cb016cb6d1.yaml","type":"application/yaml","size":534},{"uid":"1c4d8f89a8174dbb","name":"rest_request","source":"1c4d8f89a8174dbb.yaml","type":"application/yaml","size":164},{"uid":"79f5e32ae1c38a17","name":"rest_response","source":"79f5e32ae1c38a17.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1676399988063,"stop":1676399989085,"duration":1022},"status":"passed","steps":[],"attachments":[{"uid":"dcac669364e85bac","name":"stage_yaml","source":"dcac669364e85bac.yaml","type":"application/yaml","size":703},{"uid":"d23434b2610987f5","name":"rest_request","source":"d23434b2610987f5.yaml","type":"application/yaml","size":161},{"uid":"e7dcd8ff6f41bf04","name":"rest_response","source":"e7dcd8ff6f41bf04.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1676399989086,"stop":1676399989101,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"bccb70cdad766992","name":"stage_yaml","source":"bccb70cdad766992.yaml","type":"application/yaml","size":2481},{"uid":"4181cbaeeec1fecb","name":"rest_request","source":"4181cbaeeec1fecb.yaml","type":"application/yaml","size":161},{"uid":"ae79286313f3695f","name":"rest_response","source":"ae79286313f3695f.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"a6913816544d9605","name":"log","source":"a6913816544d9605.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dcf6f0306906"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":10},"items":[{"uid":"7d14d510db4f3ad6","status":"passed","time":{"start":1676324668777,"stop":1676324701439,"duration":32662}},{"uid":"7d77006b0367179f","status":"passed","time":{"start":1674515479474,"stop":1674515481658,"duration":2184}},{"uid":"42251583897b70fe","status":"passed","time":{"start":1674505607794,"stop":1674505625373,"duration":17579}},{"uid":"8457d14d68377bd0","status":"passed","time":{"start":1674500431023,"stop":1674500463694,"duration":32671}},{"uid":"4657babf55609585","status":"passed","time":{"start":1674257839299,"stop":1674257872071,"duration":32772}},{"uid":"61f114104b193ad3","status":"passed","time":{"start":1674255098685,"stop":1674255146652,"duration":47967}},{"uid":"7e69fbb5c356d59","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080284700,"stop":1674080284747,"duration":47}},{"uid":"787905fa4e3a30e0","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005693,"stop":1674075005733,"duration":40}},{"uid":"f46c206fec567553","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623022,"stop":1674074623054,"duration":32}}]},"tags":[]},"source":"39eac9a40cbdb3c7.json","parameterValues":[]}