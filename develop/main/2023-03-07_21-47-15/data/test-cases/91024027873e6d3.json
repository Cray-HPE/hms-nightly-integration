{"uid":"91024027873e6d3","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1678224510045,"stop":1678224542691,"duration":32646},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678224510054,"stop":1678224510093,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"bef71f7ad5e4ec81","name":"stage_yaml","source":"bef71f7ad5e4ec81.yaml","type":"application/yaml","size":302},{"uid":"397754946389d288","name":"rest_request","source":"397754946389d288.yaml","type":"application/yaml","size":162},{"uid":"2e0fee72bbf94e95","name":"rest_response","source":"2e0fee72bbf94e95.yaml","type":"application/yaml","size":5753}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678224510094,"stop":1678224510107,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"194f14b478f4a333","name":"stage_yaml","source":"194f14b478f4a333.yaml","type":"application/yaml","size":797},{"uid":"9ff5fd4ce442816f","name":"rest_request","source":"9ff5fd4ce442816f.yaml","type":"application/yaml","size":216},{"uid":"8082209891270ece","name":"rest_response","source":"8082209891270ece.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678224510109,"stop":1678224541610,"duration":31501},"status":"passed","steps":[],"attachments":[{"uid":"8ae4000428e5e31a","name":"stage_yaml","source":"8ae4000428e5e31a.yaml","type":"application/yaml","size":682},{"uid":"e995a080ea19b9d8","name":"rest_request","source":"e995a080ea19b9d8.yaml","type":"application/yaml","size":161},{"uid":"2366703996b4220c","name":"rest_response","source":"2366703996b4220c.yaml","type":"application/yaml","size":587},{"uid":"582de1b293266d9b","name":"stage_yaml","source":"582de1b293266d9b.yaml","type":"application/yaml","size":682},{"uid":"9eab5d1bff0bb0d","name":"rest_request","source":"9eab5d1bff0bb0d.yaml","type":"application/yaml","size":161},{"uid":"3b3eccf988c89b01","name":"rest_response","source":"3b3eccf988c89b01.yaml","type":"application/yaml","size":608},{"uid":"520e73fb9632b97b","name":"stage_yaml","source":"520e73fb9632b97b.yaml","type":"application/yaml","size":682},{"uid":"72b87356aed530fe","name":"rest_request","source":"72b87356aed530fe.yaml","type":"application/yaml","size":161},{"uid":"8829942f58651686","name":"rest_response","source":"8829942f58651686.yaml","type":"application/yaml","size":608},{"uid":"f0baada5843f8585","name":"stage_yaml","source":"f0baada5843f8585.yaml","type":"application/yaml","size":682},{"uid":"f000ddbdc5717469","name":"rest_request","source":"f000ddbdc5717469.yaml","type":"application/yaml","size":161},{"uid":"c7d588a5e8825c5e","name":"rest_response","source":"c7d588a5e8825c5e.yaml","type":"application/yaml","size":608},{"uid":"19c0802788de46f5","name":"stage_yaml","source":"19c0802788de46f5.yaml","type":"application/yaml","size":682},{"uid":"9c8b16dfcf30a5c","name":"rest_request","source":"9c8b16dfcf30a5c.yaml","type":"application/yaml","size":161},{"uid":"9b9237c8bfc9efd6","name":"rest_response","source":"9b9237c8bfc9efd6.yaml","type":"application/yaml","size":608},{"uid":"68002898ddf06f80","name":"stage_yaml","source":"68002898ddf06f80.yaml","type":"application/yaml","size":682},{"uid":"8fa7368572f3dd3b","name":"rest_request","source":"8fa7368572f3dd3b.yaml","type":"application/yaml","size":161},{"uid":"cb2c508a30b808cf","name":"rest_response","source":"cb2c508a30b808cf.yaml","type":"application/yaml","size":608},{"uid":"2732a7fa23a36182","name":"stage_yaml","source":"2732a7fa23a36182.yaml","type":"application/yaml","size":682},{"uid":"5d180d94031353e9","name":"rest_request","source":"5d180d94031353e9.yaml","type":"application/yaml","size":161},{"uid":"fca82e1e5dd5f956","name":"rest_response","source":"fca82e1e5dd5f956.yaml","type":"application/yaml","size":608},{"uid":"7e057c821fcd3d2b","name":"stage_yaml","source":"7e057c821fcd3d2b.yaml","type":"application/yaml","size":682},{"uid":"9d7f7d2cb7b91873","name":"rest_request","source":"9d7f7d2cb7b91873.yaml","type":"application/yaml","size":161},{"uid":"88e2d279d8e27cf2","name":"rest_response","source":"88e2d279d8e27cf2.yaml","type":"application/yaml","size":608},{"uid":"cccabd8bc1a73120","name":"stage_yaml","source":"cccabd8bc1a73120.yaml","type":"application/yaml","size":682},{"uid":"ed708cdfe48e00c","name":"rest_request","source":"ed708cdfe48e00c.yaml","type":"application/yaml","size":161},{"uid":"2716589e8faebc59","name":"rest_response","source":"2716589e8faebc59.yaml","type":"application/yaml","size":608},{"uid":"19cb06c8895af350","name":"stage_yaml","source":"19cb06c8895af350.yaml","type":"application/yaml","size":682},{"uid":"cd2fad214ff6637a","name":"rest_request","source":"cd2fad214ff6637a.yaml","type":"application/yaml","size":161},{"uid":"887cc7c8cd8d5a81","name":"rest_response","source":"887cc7c8cd8d5a81.yaml","type":"application/yaml","size":608},{"uid":"449bdbd7d93902cc","name":"stage_yaml","source":"449bdbd7d93902cc.yaml","type":"application/yaml","size":682},{"uid":"a4baec24099f1118","name":"rest_request","source":"a4baec24099f1118.yaml","type":"application/yaml","size":161},{"uid":"22fd81b5eb104904","name":"rest_response","source":"22fd81b5eb104904.yaml","type":"application/yaml","size":608},{"uid":"c5fa52a59cdc3cc2","name":"stage_yaml","source":"c5fa52a59cdc3cc2.yaml","type":"application/yaml","size":682},{"uid":"97fa7cd55f604548","name":"rest_request","source":"97fa7cd55f604548.yaml","type":"application/yaml","size":161},{"uid":"8bd62ee380e5f1cb","name":"rest_response","source":"8bd62ee380e5f1cb.yaml","type":"application/yaml","size":608},{"uid":"4d3a198f31421121","name":"stage_yaml","source":"4d3a198f31421121.yaml","type":"application/yaml","size":682},{"uid":"7f29ce6176e5bb8e","name":"rest_request","source":"7f29ce6176e5bb8e.yaml","type":"application/yaml","size":161},{"uid":"637654bc8607161f","name":"rest_response","source":"637654bc8607161f.yaml","type":"application/yaml","size":608},{"uid":"c4c71ac5a219d107","name":"stage_yaml","source":"c4c71ac5a219d107.yaml","type":"application/yaml","size":682},{"uid":"85e2f7da415ae310","name":"rest_request","source":"85e2f7da415ae310.yaml","type":"application/yaml","size":161},{"uid":"b425496d2951754c","name":"rest_response","source":"b425496d2951754c.yaml","type":"application/yaml","size":608},{"uid":"9c11d73dab432f64","name":"stage_yaml","source":"9c11d73dab432f64.yaml","type":"application/yaml","size":682},{"uid":"589329df385ce4be","name":"rest_request","source":"589329df385ce4be.yaml","type":"application/yaml","size":161},{"uid":"aee8768287ef226b","name":"rest_response","source":"aee8768287ef226b.yaml","type":"application/yaml","size":608},{"uid":"99e41cea49ef512d","name":"stage_yaml","source":"99e41cea49ef512d.yaml","type":"application/yaml","size":682},{"uid":"6e7fcb57f1f6e573","name":"rest_request","source":"6e7fcb57f1f6e573.yaml","type":"application/yaml","size":161},{"uid":"c6b86f305227bcdb","name":"rest_response","source":"c6b86f305227bcdb.yaml","type":"application/yaml","size":608},{"uid":"26fe465bfb3fb37","name":"stage_yaml","source":"26fe465bfb3fb37.yaml","type":"application/yaml","size":682},{"uid":"8ee231ac1b285ac5","name":"rest_request","source":"8ee231ac1b285ac5.yaml","type":"application/yaml","size":161},{"uid":"f4b2aa334d14790b","name":"rest_response","source":"f4b2aa334d14790b.yaml","type":"application/yaml","size":608},{"uid":"c2038de3735ab4a3","name":"stage_yaml","source":"c2038de3735ab4a3.yaml","type":"application/yaml","size":682},{"uid":"8e437364f0a847e8","name":"rest_request","source":"8e437364f0a847e8.yaml","type":"application/yaml","size":161},{"uid":"b0e651afb2db6ae1","name":"rest_response","source":"b0e651afb2db6ae1.yaml","type":"application/yaml","size":608},{"uid":"aa431fa67e3f4914","name":"stage_yaml","source":"aa431fa67e3f4914.yaml","type":"application/yaml","size":682},{"uid":"4e7cbd4607dc0e6","name":"rest_request","source":"4e7cbd4607dc0e6.yaml","type":"application/yaml","size":161},{"uid":"e08cde29148369a5","name":"rest_response","source":"e08cde29148369a5.yaml","type":"application/yaml","size":608},{"uid":"58ea2b3432c3ebba","name":"stage_yaml","source":"58ea2b3432c3ebba.yaml","type":"application/yaml","size":682},{"uid":"c4d72787c031f4bd","name":"rest_request","source":"c4d72787c031f4bd.yaml","type":"application/yaml","size":161},{"uid":"b9df747af3e6ecd2","name":"rest_response","source":"b9df747af3e6ecd2.yaml","type":"application/yaml","size":608},{"uid":"60d36d21d673fbb5","name":"stage_yaml","source":"60d36d21d673fbb5.yaml","type":"application/yaml","size":682},{"uid":"9d396a0929dd0702","name":"rest_request","source":"9d396a0929dd0702.yaml","type":"application/yaml","size":161},{"uid":"9b93e590d122a52","name":"rest_response","source":"9b93e590d122a52.yaml","type":"application/yaml","size":608},{"uid":"22d240bafe24ad7d","name":"stage_yaml","source":"22d240bafe24ad7d.yaml","type":"application/yaml","size":682},{"uid":"70fee2ab74a552fd","name":"rest_request","source":"70fee2ab74a552fd.yaml","type":"application/yaml","size":161},{"uid":"60b6cb20f997445f","name":"rest_response","source":"60b6cb20f997445f.yaml","type":"application/yaml","size":608},{"uid":"1d76d09f772e159a","name":"stage_yaml","source":"1d76d09f772e159a.yaml","type":"application/yaml","size":682},{"uid":"4f7430965c56c624","name":"rest_request","source":"4f7430965c56c624.yaml","type":"application/yaml","size":161},{"uid":"3f388f28734f3578","name":"rest_response","source":"3f388f28734f3578.yaml","type":"application/yaml","size":608},{"uid":"7a1a056ad7149968","name":"stage_yaml","source":"7a1a056ad7149968.yaml","type":"application/yaml","size":682},{"uid":"31400ce6d6394bbd","name":"rest_request","source":"31400ce6d6394bbd.yaml","type":"application/yaml","size":161},{"uid":"ebb9a608f2c8408c","name":"rest_response","source":"ebb9a608f2c8408c.yaml","type":"application/yaml","size":608},{"uid":"de042f702193c1dd","name":"stage_yaml","source":"de042f702193c1dd.yaml","type":"application/yaml","size":682},{"uid":"1b78b1c735f20b58","name":"rest_request","source":"1b78b1c735f20b58.yaml","type":"application/yaml","size":161},{"uid":"944b8f01438e759c","name":"rest_response","source":"944b8f01438e759c.yaml","type":"application/yaml","size":608},{"uid":"7ad3f4d9b6e4844d","name":"stage_yaml","source":"7ad3f4d9b6e4844d.yaml","type":"application/yaml","size":682},{"uid":"e9f789e7f160beee","name":"rest_request","source":"e9f789e7f160beee.yaml","type":"application/yaml","size":161},{"uid":"a512136eb6715afd","name":"rest_response","source":"a512136eb6715afd.yaml","type":"application/yaml","size":608},{"uid":"193d9202630f773c","name":"stage_yaml","source":"193d9202630f773c.yaml","type":"application/yaml","size":682},{"uid":"7d8a1c2ff889a9d2","name":"rest_request","source":"7d8a1c2ff889a9d2.yaml","type":"application/yaml","size":161},{"uid":"54ecf2c6d5fa0a58","name":"rest_response","source":"54ecf2c6d5fa0a58.yaml","type":"application/yaml","size":608},{"uid":"e560ba58cfc400ce","name":"stage_yaml","source":"e560ba58cfc400ce.yaml","type":"application/yaml","size":682},{"uid":"92853a416cf1c276","name":"rest_request","source":"92853a416cf1c276.yaml","type":"application/yaml","size":161},{"uid":"127a3d0417df6ba4","name":"rest_response","source":"127a3d0417df6ba4.yaml","type":"application/yaml","size":608},{"uid":"9422925ebd8e2020","name":"stage_yaml","source":"9422925ebd8e2020.yaml","type":"application/yaml","size":682},{"uid":"7a0275086734c5e0","name":"rest_request","source":"7a0275086734c5e0.yaml","type":"application/yaml","size":161},{"uid":"785777e5ae26ac0f","name":"rest_response","source":"785777e5ae26ac0f.yaml","type":"application/yaml","size":608},{"uid":"9e85964f9e29f734","name":"stage_yaml","source":"9e85964f9e29f734.yaml","type":"application/yaml","size":682},{"uid":"d549b68003b2c510","name":"rest_request","source":"d549b68003b2c510.yaml","type":"application/yaml","size":161},{"uid":"2477d5ef7d122be","name":"rest_response","source":"2477d5ef7d122be.yaml","type":"application/yaml","size":608},{"uid":"e9ec4f7876b04614","name":"stage_yaml","source":"e9ec4f7876b04614.yaml","type":"application/yaml","size":682},{"uid":"4ce86bc0f9fb1dce","name":"rest_request","source":"4ce86bc0f9fb1dce.yaml","type":"application/yaml","size":161},{"uid":"995fb5dc7243656f","name":"rest_response","source":"995fb5dc7243656f.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1678224541611,"stop":1678224541627,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"d601c5e12cff085a","name":"stage_yaml","source":"d601c5e12cff085a.yaml","type":"application/yaml","size":2395},{"uid":"26e43ac0c044e7cb","name":"rest_request","source":"26e43ac0c044e7cb.yaml","type":"application/yaml","size":161},{"uid":"880983d5e6c576a8","name":"rest_response","source":"880983d5e6c576a8.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678224541628,"stop":1678224541641,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"1a112166f4b69ceb","name":"stage_yaml","source":"1a112166f4b69ceb.yaml","type":"application/yaml","size":978},{"uid":"289a90eae9c85be","name":"rest_request","source":"289a90eae9c85be.yaml","type":"application/yaml","size":145},{"uid":"5c2be7a3fcd4afae","name":"rest_response","source":"5c2be7a3fcd4afae.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1678224541642,"stop":1678224541655,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"16ba924851de5ec0","name":"stage_yaml","source":"16ba924851de5ec0.yaml","type":"application/yaml","size":816},{"uid":"a0d3a199dfa38600","name":"rest_request","source":"a0d3a199dfa38600.yaml","type":"application/yaml","size":219},{"uid":"6368669cec8ee21c","name":"rest_response","source":"6368669cec8ee21c.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1678224541657,"stop":1678224542673,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"e8abeb952b088d24","name":"stage_yaml","source":"e8abeb952b088d24.yaml","type":"application/yaml","size":693},{"uid":"af4686385eb75e7f","name":"rest_request","source":"af4686385eb75e7f.yaml","type":"application/yaml","size":161},{"uid":"407a2993394183a9","name":"rest_response","source":"407a2993394183a9.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1678224542674,"stop":1678224542690,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"8cda310aa793e98f","name":"stage_yaml","source":"8cda310aa793e98f.yaml","type":"application/yaml","size":2549},{"uid":"c63f91b1a8b7c083","name":"rest_request","source":"c63f91b1a8b7c083.yaml","type":"application/yaml","size":161},{"uid":"bbb2a5412819f2f4","name":"rest_response","source":"bbb2a5412819f2f4.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"ec64a6c157e241fb","name":"log","source":"ec64a6c157e241fb.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3159a62854fe"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"f19e8273c53e54b","status":"passed","time":{"start":1678221662030,"stop":1678221694619,"duration":32589}},{"uid":"149335dd272f61a1","status":"passed","time":{"start":1678217961039,"stop":1678217993697,"duration":32658}},{"uid":"be4b6438db5b348d","status":"passed","time":{"start":1676401045550,"stop":1676401078169,"duration":32619}},{"uid":"56e8f7fd60dbbc7f","status":"passed","time":{"start":1676400037143,"stop":1676400069726,"duration":32583}},{"uid":"dadcf9b04d98696f","status":"passed","time":{"start":1676324764693,"stop":1676324797333,"duration":32640}},{"uid":"e68cd2560b96d8bc","status":"passed","time":{"start":1674515544898,"stop":1674515577491,"duration":32593}},{"uid":"75bc9fe4ff46b849","status":"passed","time":{"start":1674505718646,"stop":1674505720853,"duration":2207}},{"uid":"7994173b87f76ee4","status":"passed","time":{"start":1674500526963,"stop":1674500529126,"duration":2163}},{"uid":"d3c1fd66308b1580","status":"passed","time":{"start":1674257934555,"stop":1674257936714,"duration":2159}},{"uid":"7378a7cdf4d39cac","status":"passed","time":{"start":1674255255677,"stop":1674255273083,"duration":17406}},{"uid":"fc16bb501e6af1dd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080286390,"stop":1674080286435,"duration":45}},{"uid":"34e35d6cba29643d","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005824,"stop":1674075005855,"duration":31}},{"uid":"424446345afae529","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623136,"stop":1674074623166,"duration":30}}]},"tags":[]},"source":"91024027873e6d3.json","parameterValues":[]}