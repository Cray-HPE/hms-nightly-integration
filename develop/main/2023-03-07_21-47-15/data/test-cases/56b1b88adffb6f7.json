{"uid":"56b1b88adffb6f7","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1678224088087,"stop":1678224120787,"duration":32700},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678224088097,"stop":1678224088134,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"567ba74ebb129802","name":"stage_yaml","source":"567ba74ebb129802.yaml","type":"application/yaml","size":302},{"uid":"1c3c67db9ab67b0","name":"rest_request","source":"1c3c67db9ab67b0.yaml","type":"application/yaml","size":162},{"uid":"bd9e5abd56f8fe1","name":"rest_response","source":"bd9e5abd56f8fe1.yaml","type":"application/yaml","size":5745}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678224088135,"stop":1678224088149,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"274223deb77a248c","name":"stage_yaml","source":"274223deb77a248c.yaml","type":"application/yaml","size":797},{"uid":"857623380a93978a","name":"rest_request","source":"857623380a93978a.yaml","type":"application/yaml","size":216},{"uid":"3642e34e8ef108df","name":"rest_response","source":"3642e34e8ef108df.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1678224088151,"stop":1678224119695,"duration":31544},"status":"passed","steps":[],"attachments":[{"uid":"3d8512c95c051e31","name":"stage_yaml","source":"3d8512c95c051e31.yaml","type":"application/yaml","size":690},{"uid":"ce9c299fab78646e","name":"rest_request","source":"ce9c299fab78646e.yaml","type":"application/yaml","size":161},{"uid":"784806fbbcca3f24","name":"rest_response","source":"784806fbbcca3f24.yaml","type":"application/yaml","size":587},{"uid":"b7c3f3533b72a6","name":"stage_yaml","source":"b7c3f3533b72a6.yaml","type":"application/yaml","size":690},{"uid":"160d4bc1c3ed5e48","name":"rest_request","source":"160d4bc1c3ed5e48.yaml","type":"application/yaml","size":161},{"uid":"e3d98d43fcf7691e","name":"rest_response","source":"e3d98d43fcf7691e.yaml","type":"application/yaml","size":608},{"uid":"44c9358bb85dd67a","name":"stage_yaml","source":"44c9358bb85dd67a.yaml","type":"application/yaml","size":690},{"uid":"ec9359d536b5e301","name":"rest_request","source":"ec9359d536b5e301.yaml","type":"application/yaml","size":161},{"uid":"a7cebe4c1e9a0742","name":"rest_response","source":"a7cebe4c1e9a0742.yaml","type":"application/yaml","size":608},{"uid":"2215f054427df4f9","name":"stage_yaml","source":"2215f054427df4f9.yaml","type":"application/yaml","size":690},{"uid":"8609db7d9431dc1b","name":"rest_request","source":"8609db7d9431dc1b.yaml","type":"application/yaml","size":161},{"uid":"e7cfad2a2437a9c2","name":"rest_response","source":"e7cfad2a2437a9c2.yaml","type":"application/yaml","size":608},{"uid":"f49df4d23c44a41a","name":"stage_yaml","source":"f49df4d23c44a41a.yaml","type":"application/yaml","size":690},{"uid":"152847df501dac01","name":"rest_request","source":"152847df501dac01.yaml","type":"application/yaml","size":161},{"uid":"80df59955ac310e1","name":"rest_response","source":"80df59955ac310e1.yaml","type":"application/yaml","size":608},{"uid":"61a03d04c35a057","name":"stage_yaml","source":"61a03d04c35a057.yaml","type":"application/yaml","size":690},{"uid":"e1a61d6ca6cd3615","name":"rest_request","source":"e1a61d6ca6cd3615.yaml","type":"application/yaml","size":161},{"uid":"ae2846522a815390","name":"rest_response","source":"ae2846522a815390.yaml","type":"application/yaml","size":608},{"uid":"35fc0e58fb222cb6","name":"stage_yaml","source":"35fc0e58fb222cb6.yaml","type":"application/yaml","size":690},{"uid":"6fd184f431ead56a","name":"rest_request","source":"6fd184f431ead56a.yaml","type":"application/yaml","size":161},{"uid":"3ec94d3425dd2b65","name":"rest_response","source":"3ec94d3425dd2b65.yaml","type":"application/yaml","size":608},{"uid":"86403c205ce6b795","name":"stage_yaml","source":"86403c205ce6b795.yaml","type":"application/yaml","size":690},{"uid":"d29e0abac8340d8a","name":"rest_request","source":"d29e0abac8340d8a.yaml","type":"application/yaml","size":161},{"uid":"255e93a47a7f3723","name":"rest_response","source":"255e93a47a7f3723.yaml","type":"application/yaml","size":608},{"uid":"a8849459818646d3","name":"stage_yaml","source":"a8849459818646d3.yaml","type":"application/yaml","size":690},{"uid":"6419d64ac80fa2c5","name":"rest_request","source":"6419d64ac80fa2c5.yaml","type":"application/yaml","size":161},{"uid":"4195fbf5f23a5bde","name":"rest_response","source":"4195fbf5f23a5bde.yaml","type":"application/yaml","size":608},{"uid":"df4c9ed6597c2677","name":"stage_yaml","source":"df4c9ed6597c2677.yaml","type":"application/yaml","size":690},{"uid":"f7f90ca797cf0bc5","name":"rest_request","source":"f7f90ca797cf0bc5.yaml","type":"application/yaml","size":161},{"uid":"a79e5bffef83bfc1","name":"rest_response","source":"a79e5bffef83bfc1.yaml","type":"application/yaml","size":608},{"uid":"cf6f9b01e8644b8f","name":"stage_yaml","source":"cf6f9b01e8644b8f.yaml","type":"application/yaml","size":690},{"uid":"72367e2ca6dd4a24","name":"rest_request","source":"72367e2ca6dd4a24.yaml","type":"application/yaml","size":161},{"uid":"6677cdcae796cef6","name":"rest_response","source":"6677cdcae796cef6.yaml","type":"application/yaml","size":608},{"uid":"ced4686bfcc6f341","name":"stage_yaml","source":"ced4686bfcc6f341.yaml","type":"application/yaml","size":690},{"uid":"cfe77571d780b0a8","name":"rest_request","source":"cfe77571d780b0a8.yaml","type":"application/yaml","size":161},{"uid":"29c5dc87fe8aa827","name":"rest_response","source":"29c5dc87fe8aa827.yaml","type":"application/yaml","size":608},{"uid":"75eaaca36254c59e","name":"stage_yaml","source":"75eaaca36254c59e.yaml","type":"application/yaml","size":690},{"uid":"1d707c0fbdcb23f7","name":"rest_request","source":"1d707c0fbdcb23f7.yaml","type":"application/yaml","size":161},{"uid":"429cf3d85ab744ce","name":"rest_response","source":"429cf3d85ab744ce.yaml","type":"application/yaml","size":608},{"uid":"1f83e380d26fd900","name":"stage_yaml","source":"1f83e380d26fd900.yaml","type":"application/yaml","size":690},{"uid":"e241146c2463efbb","name":"rest_request","source":"e241146c2463efbb.yaml","type":"application/yaml","size":161},{"uid":"de456f117e5b53c7","name":"rest_response","source":"de456f117e5b53c7.yaml","type":"application/yaml","size":608},{"uid":"3587d70a80d207cd","name":"stage_yaml","source":"3587d70a80d207cd.yaml","type":"application/yaml","size":690},{"uid":"521eef3ac22a5ffc","name":"rest_request","source":"521eef3ac22a5ffc.yaml","type":"application/yaml","size":161},{"uid":"57d767de16777732","name":"rest_response","source":"57d767de16777732.yaml","type":"application/yaml","size":608},{"uid":"8441b0323fd15f69","name":"stage_yaml","source":"8441b0323fd15f69.yaml","type":"application/yaml","size":690},{"uid":"3b8fffef9dec26fb","name":"rest_request","source":"3b8fffef9dec26fb.yaml","type":"application/yaml","size":161},{"uid":"53b2b05062d4f76f","name":"rest_response","source":"53b2b05062d4f76f.yaml","type":"application/yaml","size":608},{"uid":"fbb8203e4a0baab7","name":"stage_yaml","source":"fbb8203e4a0baab7.yaml","type":"application/yaml","size":690},{"uid":"1f99fd9f0e354ac6","name":"rest_request","source":"1f99fd9f0e354ac6.yaml","type":"application/yaml","size":161},{"uid":"ce811ac1de382957","name":"rest_response","source":"ce811ac1de382957.yaml","type":"application/yaml","size":608},{"uid":"9c90931e663e0f6c","name":"stage_yaml","source":"9c90931e663e0f6c.yaml","type":"application/yaml","size":690},{"uid":"49eecf8b5c3cd4b4","name":"rest_request","source":"49eecf8b5c3cd4b4.yaml","type":"application/yaml","size":161},{"uid":"5d253a401778bfe1","name":"rest_response","source":"5d253a401778bfe1.yaml","type":"application/yaml","size":608},{"uid":"2dde2b61f8eca819","name":"stage_yaml","source":"2dde2b61f8eca819.yaml","type":"application/yaml","size":690},{"uid":"fed7ddc89d42e62d","name":"rest_request","source":"fed7ddc89d42e62d.yaml","type":"application/yaml","size":161},{"uid":"862e0f03786befdf","name":"rest_response","source":"862e0f03786befdf.yaml","type":"application/yaml","size":608},{"uid":"5db111ecc36f43fd","name":"stage_yaml","source":"5db111ecc36f43fd.yaml","type":"application/yaml","size":690},{"uid":"91635dafc2872c61","name":"rest_request","source":"91635dafc2872c61.yaml","type":"application/yaml","size":161},{"uid":"f4d4f442ac984ba5","name":"rest_response","source":"f4d4f442ac984ba5.yaml","type":"application/yaml","size":608},{"uid":"cfc404be4c55b82d","name":"stage_yaml","source":"cfc404be4c55b82d.yaml","type":"application/yaml","size":690},{"uid":"c7763e8852da4d0","name":"rest_request","source":"c7763e8852da4d0.yaml","type":"application/yaml","size":161},{"uid":"9b9b4178934713a8","name":"rest_response","source":"9b9b4178934713a8.yaml","type":"application/yaml","size":608},{"uid":"d2cae27dc42727cb","name":"stage_yaml","source":"d2cae27dc42727cb.yaml","type":"application/yaml","size":690},{"uid":"18b8060d95e6928b","name":"rest_request","source":"18b8060d95e6928b.yaml","type":"application/yaml","size":161},{"uid":"820099e7315b651c","name":"rest_response","source":"820099e7315b651c.yaml","type":"application/yaml","size":608},{"uid":"aeae4d8265cd34e3","name":"stage_yaml","source":"aeae4d8265cd34e3.yaml","type":"application/yaml","size":690},{"uid":"a362f20edd061126","name":"rest_request","source":"a362f20edd061126.yaml","type":"application/yaml","size":161},{"uid":"401434d45726847","name":"rest_response","source":"401434d45726847.yaml","type":"application/yaml","size":608},{"uid":"f24b2e3260945ac2","name":"stage_yaml","source":"f24b2e3260945ac2.yaml","type":"application/yaml","size":690},{"uid":"87b158e9e1ce5995","name":"rest_request","source":"87b158e9e1ce5995.yaml","type":"application/yaml","size":161},{"uid":"e7ff9284850db9db","name":"rest_response","source":"e7ff9284850db9db.yaml","type":"application/yaml","size":608},{"uid":"9ced309d6204f81","name":"stage_yaml","source":"9ced309d6204f81.yaml","type":"application/yaml","size":690},{"uid":"431de27eb79e58e7","name":"rest_request","source":"431de27eb79e58e7.yaml","type":"application/yaml","size":161},{"uid":"2845502fb9c3a9e7","name":"rest_response","source":"2845502fb9c3a9e7.yaml","type":"application/yaml","size":608},{"uid":"6b752765384a7d21","name":"stage_yaml","source":"6b752765384a7d21.yaml","type":"application/yaml","size":690},{"uid":"8111dda11e5bb700","name":"rest_request","source":"8111dda11e5bb700.yaml","type":"application/yaml","size":161},{"uid":"9e72033a9181b595","name":"rest_response","source":"9e72033a9181b595.yaml","type":"application/yaml","size":608},{"uid":"3b222e565df878af","name":"stage_yaml","source":"3b222e565df878af.yaml","type":"application/yaml","size":690},{"uid":"343185d9144992de","name":"rest_request","source":"343185d9144992de.yaml","type":"application/yaml","size":161},{"uid":"45c56cc0e115ef0a","name":"rest_response","source":"45c56cc0e115ef0a.yaml","type":"application/yaml","size":608},{"uid":"fc0cf80855f95c78","name":"stage_yaml","source":"fc0cf80855f95c78.yaml","type":"application/yaml","size":690},{"uid":"78d3038e553a5157","name":"rest_request","source":"78d3038e553a5157.yaml","type":"application/yaml","size":161},{"uid":"a2fc6d275f52488b","name":"rest_response","source":"a2fc6d275f52488b.yaml","type":"application/yaml","size":608},{"uid":"5835e6145556438d","name":"stage_yaml","source":"5835e6145556438d.yaml","type":"application/yaml","size":690},{"uid":"b594129a844061f3","name":"rest_request","source":"b594129a844061f3.yaml","type":"application/yaml","size":161},{"uid":"bd295f725b977d35","name":"rest_response","source":"bd295f725b977d35.yaml","type":"application/yaml","size":608},{"uid":"b41afb555ed9398","name":"stage_yaml","source":"b41afb555ed9398.yaml","type":"application/yaml","size":690},{"uid":"f6184af05d802986","name":"rest_request","source":"f6184af05d802986.yaml","type":"application/yaml","size":161},{"uid":"89351bff59165eb4","name":"rest_response","source":"89351bff59165eb4.yaml","type":"application/yaml","size":608},{"uid":"1c91196a6f3caa1f","name":"stage_yaml","source":"1c91196a6f3caa1f.yaml","type":"application/yaml","size":690},{"uid":"4653934985955d93","name":"rest_request","source":"4653934985955d93.yaml","type":"application/yaml","size":161},{"uid":"d8666d1a38eb29dd","name":"rest_response","source":"d8666d1a38eb29dd.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1678224119696,"stop":1678224119712,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"78067cc1805a9ba2","name":"stage_yaml","source":"78067cc1805a9ba2.yaml","type":"application/yaml","size":2405},{"uid":"b29736b8126c5665","name":"rest_request","source":"b29736b8126c5665.yaml","type":"application/yaml","size":161},{"uid":"a8b4a5ff7995f3b4","name":"rest_response","source":"a8b4a5ff7995f3b4.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678224119713,"stop":1678224119725,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"7395ca75f4a1bdc5","name":"stage_yaml","source":"7395ca75f4a1bdc5.yaml","type":"application/yaml","size":978},{"uid":"b7ae1ec2cc1a6447","name":"rest_request","source":"b7ae1ec2cc1a6447.yaml","type":"application/yaml","size":145},{"uid":"75a25cda5868417c","name":"rest_response","source":"75a25cda5868417c.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1678224119726,"stop":1678224119738,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"6eb24c5ae8c17886","name":"stage_yaml","source":"6eb24c5ae8c17886.yaml","type":"application/yaml","size":796},{"uid":"3d25cc85b5fe917c","name":"rest_request","source":"3d25cc85b5fe917c.yaml","type":"application/yaml","size":216},{"uid":"cc129bd135e8d96a","name":"rest_response","source":"cc129bd135e8d96a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1678224119740,"stop":1678224120758,"duration":1018},"status":"passed","steps":[],"attachments":[{"uid":"6fdcb0fbc7a24557","name":"stage_yaml","source":"6fdcb0fbc7a24557.yaml","type":"application/yaml","size":691},{"uid":"237fd3e74d04bba0","name":"rest_request","source":"237fd3e74d04bba0.yaml","type":"application/yaml","size":161},{"uid":"cafc82e594f8a2c3","name":"rest_response","source":"cafc82e594f8a2c3.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1678224120759,"stop":1678224120774,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"24403769624e04d6","name":"stage_yaml","source":"24403769624e04d6.yaml","type":"application/yaml","size":2355},{"uid":"606bea88cb4e22ba","name":"rest_request","source":"606bea88cb4e22ba.yaml","type":"application/yaml","size":161},{"uid":"1567c2f742689d1d","name":"rest_response","source":"1567c2f742689d1d.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1678224120775,"stop":1678224120787,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"a7620ea5f8964e3a","name":"stage_yaml","source":"a7620ea5f8964e3a.yaml","type":"application/yaml","size":984},{"uid":"5d2b7ea58a003596","name":"rest_request","source":"5d2b7ea58a003596.yaml","type":"application/yaml","size":145},{"uid":"be95934c4c8f47bc","name":"rest_response","source":"be95934c4c8f47bc.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"4f3ae76ff6601994","name":"log","source":"4f3ae76ff6601994.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3159a62854fe"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"276174ead0f91107","status":"passed","time":{"start":1678221240614,"stop":1678221273240,"duration":32626}},{"uid":"2edf96afc9964805","status":"passed","time":{"start":1678217538873,"stop":1678217571547,"duration":32674}},{"uid":"e5503ea15a5ad405","status":"passed","time":{"start":1676400622798,"stop":1676400655419,"duration":32621}},{"uid":"9a887f834114b02a","status":"passed","time":{"start":1676399614897,"stop":1676399647605,"duration":32708}},{"uid":"2f696cd3742c2c7f","status":"passed","time":{"start":1676324340845,"stop":1676324373520,"duration":32675}},{"uid":"18ddb8e7207b6d26","status":"passed","time":{"start":1674515152862,"stop":1674515155028,"duration":2166}},{"uid":"c209a7faa9f48727","status":"passed","time":{"start":1674505231278,"stop":1674505233516,"duration":2238}},{"uid":"b8d62ff7eaed3a7a","status":"passed","time":{"start":1674500043124,"stop":1674500075783,"duration":32659}},{"uid":"6554af4d534f0d81","status":"passed","time":{"start":1674257481327,"stop":1674257498775,"duration":17448}},{"uid":"ad3bc452eff1fe8b","status":"passed","time":{"start":1674254741159,"stop":1674254773826,"duration":32667}},{"uid":"80a04d3d89544206","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080275413,"stop":1674080275460,"duration":47}},{"uid":"cea5991e3551094e","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005162,"stop":1674075005194,"duration":32}},{"uid":"a5b79361066cbd0b","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074622519,"stop":1674074622555,"duration":36}}]},"tags":[]},"source":"56b1b88adffb6f7.json","parameterValues":[]}