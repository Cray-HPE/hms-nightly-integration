{"uid":"4518c7630dcd8b6e","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678224414919,"stop":1678224447610,"duration":32691},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678224414928,"stop":1678224414968,"duration":40},"status":"passed","steps":[],"attachments":[{"uid":"fdf70cc17ade7327","name":"stage_yaml","source":"fdf70cc17ade7327.yaml","type":"application/yaml","size":302},{"uid":"43ae889ba61ef50a","name":"rest_request","source":"43ae889ba61ef50a.yaml","type":"application/yaml","size":162},{"uid":"8193e1a0d63a10b0","name":"rest_response","source":"8193e1a0d63a10b0.yaml","type":"application/yaml","size":5753}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678224414969,"stop":1678224414984,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"87e5328f07376baa","name":"stage_yaml","source":"87e5328f07376baa.yaml","type":"application/yaml","size":797},{"uid":"b0d011db36d97231","name":"rest_request","source":"b0d011db36d97231.yaml","type":"application/yaml","size":216},{"uid":"6ef73dce26c2cb5a","name":"rest_response","source":"6ef73dce26c2cb5a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678224414985,"stop":1678224446498,"duration":31513},"status":"passed","steps":[],"attachments":[{"uid":"f63a6b015ab26f44","name":"stage_yaml","source":"f63a6b015ab26f44.yaml","type":"application/yaml","size":682},{"uid":"e1da19a86445ca95","name":"rest_request","source":"e1da19a86445ca95.yaml","type":"application/yaml","size":161},{"uid":"ccc15dc1e9c8e58c","name":"rest_response","source":"ccc15dc1e9c8e58c.yaml","type":"application/yaml","size":572},{"uid":"23bcad6b9caca664","name":"stage_yaml","source":"23bcad6b9caca664.yaml","type":"application/yaml","size":682},{"uid":"e9f46ead95017846","name":"rest_request","source":"e9f46ead95017846.yaml","type":"application/yaml","size":161},{"uid":"a80c7f0b402cb490","name":"rest_response","source":"a80c7f0b402cb490.yaml","type":"application/yaml","size":608},{"uid":"63593a4fe5c328c9","name":"stage_yaml","source":"63593a4fe5c328c9.yaml","type":"application/yaml","size":682},{"uid":"53060ea9be1c383","name":"rest_request","source":"53060ea9be1c383.yaml","type":"application/yaml","size":161},{"uid":"3a7fc501a1de35c4","name":"rest_response","source":"3a7fc501a1de35c4.yaml","type":"application/yaml","size":608},{"uid":"1ca5470b310b76c0","name":"stage_yaml","source":"1ca5470b310b76c0.yaml","type":"application/yaml","size":682},{"uid":"3b43763b3dc40d16","name":"rest_request","source":"3b43763b3dc40d16.yaml","type":"application/yaml","size":161},{"uid":"f5719565ece21569","name":"rest_response","source":"f5719565ece21569.yaml","type":"application/yaml","size":608},{"uid":"da73116e5831b1ae","name":"stage_yaml","source":"da73116e5831b1ae.yaml","type":"application/yaml","size":682},{"uid":"acc91aeddc1d32d6","name":"rest_request","source":"acc91aeddc1d32d6.yaml","type":"application/yaml","size":161},{"uid":"b44559eb84407bac","name":"rest_response","source":"b44559eb84407bac.yaml","type":"application/yaml","size":608},{"uid":"43e4a81059c28ddc","name":"stage_yaml","source":"43e4a81059c28ddc.yaml","type":"application/yaml","size":682},{"uid":"b4e8da85f5fbd986","name":"rest_request","source":"b4e8da85f5fbd986.yaml","type":"application/yaml","size":161},{"uid":"1f344220efa50451","name":"rest_response","source":"1f344220efa50451.yaml","type":"application/yaml","size":608},{"uid":"7e61e6558e418ca5","name":"stage_yaml","source":"7e61e6558e418ca5.yaml","type":"application/yaml","size":682},{"uid":"803e307043f5737f","name":"rest_request","source":"803e307043f5737f.yaml","type":"application/yaml","size":161},{"uid":"d44cc1d98d44efc5","name":"rest_response","source":"d44cc1d98d44efc5.yaml","type":"application/yaml","size":608},{"uid":"f1aabdd11aafcba2","name":"stage_yaml","source":"f1aabdd11aafcba2.yaml","type":"application/yaml","size":682},{"uid":"c2c8458987e2498d","name":"rest_request","source":"c2c8458987e2498d.yaml","type":"application/yaml","size":161},{"uid":"81b758297e09e929","name":"rest_response","source":"81b758297e09e929.yaml","type":"application/yaml","size":608},{"uid":"92272a017d00b486","name":"stage_yaml","source":"92272a017d00b486.yaml","type":"application/yaml","size":682},{"uid":"828120e2f9f44ee4","name":"rest_request","source":"828120e2f9f44ee4.yaml","type":"application/yaml","size":161},{"uid":"8a19de9bb53194a2","name":"rest_response","source":"8a19de9bb53194a2.yaml","type":"application/yaml","size":608},{"uid":"87cc2d31c037d1a","name":"stage_yaml","source":"87cc2d31c037d1a.yaml","type":"application/yaml","size":682},{"uid":"871c13212a193e1a","name":"rest_request","source":"871c13212a193e1a.yaml","type":"application/yaml","size":161},{"uid":"b5ff9c958e937a64","name":"rest_response","source":"b5ff9c958e937a64.yaml","type":"application/yaml","size":608},{"uid":"e2475de8dbba9e63","name":"stage_yaml","source":"e2475de8dbba9e63.yaml","type":"application/yaml","size":682},{"uid":"2829c14656d50482","name":"rest_request","source":"2829c14656d50482.yaml","type":"application/yaml","size":161},{"uid":"9b8c1eecee8e42f6","name":"rest_response","source":"9b8c1eecee8e42f6.yaml","type":"application/yaml","size":608},{"uid":"9b670c9d6600d68","name":"stage_yaml","source":"9b670c9d6600d68.yaml","type":"application/yaml","size":682},{"uid":"4ec6c34aea1e11fe","name":"rest_request","source":"4ec6c34aea1e11fe.yaml","type":"application/yaml","size":161},{"uid":"1681f26e9cff11be","name":"rest_response","source":"1681f26e9cff11be.yaml","type":"application/yaml","size":608},{"uid":"9fb1a19af89d34ac","name":"stage_yaml","source":"9fb1a19af89d34ac.yaml","type":"application/yaml","size":682},{"uid":"de8ea5a90de08293","name":"rest_request","source":"de8ea5a90de08293.yaml","type":"application/yaml","size":161},{"uid":"190fd60f5828aea8","name":"rest_response","source":"190fd60f5828aea8.yaml","type":"application/yaml","size":608},{"uid":"a03076f795eac4ef","name":"stage_yaml","source":"a03076f795eac4ef.yaml","type":"application/yaml","size":682},{"uid":"f6c0ec8a5e554b4d","name":"rest_request","source":"f6c0ec8a5e554b4d.yaml","type":"application/yaml","size":161},{"uid":"4512f0371ca41664","name":"rest_response","source":"4512f0371ca41664.yaml","type":"application/yaml","size":608},{"uid":"cd1d56d615aa04e9","name":"stage_yaml","source":"cd1d56d615aa04e9.yaml","type":"application/yaml","size":682},{"uid":"80b6b217b7f9e05","name":"rest_request","source":"80b6b217b7f9e05.yaml","type":"application/yaml","size":161},{"uid":"162ab25e53d02080","name":"rest_response","source":"162ab25e53d02080.yaml","type":"application/yaml","size":608},{"uid":"3531b078d3f623d0","name":"stage_yaml","source":"3531b078d3f623d0.yaml","type":"application/yaml","size":682},{"uid":"9d73a3927fe9a0d3","name":"rest_request","source":"9d73a3927fe9a0d3.yaml","type":"application/yaml","size":161},{"uid":"bbc294c3d014450b","name":"rest_response","source":"bbc294c3d014450b.yaml","type":"application/yaml","size":608},{"uid":"909b9df006192bb5","name":"stage_yaml","source":"909b9df006192bb5.yaml","type":"application/yaml","size":682},{"uid":"38885256a07153d1","name":"rest_request","source":"38885256a07153d1.yaml","type":"application/yaml","size":161},{"uid":"4f986f719bc12683","name":"rest_response","source":"4f986f719bc12683.yaml","type":"application/yaml","size":608},{"uid":"4c750d7ab434e64e","name":"stage_yaml","source":"4c750d7ab434e64e.yaml","type":"application/yaml","size":682},{"uid":"f2237c3a79e5588f","name":"rest_request","source":"f2237c3a79e5588f.yaml","type":"application/yaml","size":161},{"uid":"1766d4f87654f9b9","name":"rest_response","source":"1766d4f87654f9b9.yaml","type":"application/yaml","size":608},{"uid":"1254b988051ec4cb","name":"stage_yaml","source":"1254b988051ec4cb.yaml","type":"application/yaml","size":682},{"uid":"7a5cd6d239b0e1cf","name":"rest_request","source":"7a5cd6d239b0e1cf.yaml","type":"application/yaml","size":161},{"uid":"8fdd937082bbb39c","name":"rest_response","source":"8fdd937082bbb39c.yaml","type":"application/yaml","size":608},{"uid":"fbe85f1ba513eca1","name":"stage_yaml","source":"fbe85f1ba513eca1.yaml","type":"application/yaml","size":682},{"uid":"2c221469bfc0107c","name":"rest_request","source":"2c221469bfc0107c.yaml","type":"application/yaml","size":161},{"uid":"97c05ac444f265a9","name":"rest_response","source":"97c05ac444f265a9.yaml","type":"application/yaml","size":608},{"uid":"451465bd519a6706","name":"stage_yaml","source":"451465bd519a6706.yaml","type":"application/yaml","size":682},{"uid":"244c7029625aef61","name":"rest_request","source":"244c7029625aef61.yaml","type":"application/yaml","size":161},{"uid":"2b7b79e6fe2e49ea","name":"rest_response","source":"2b7b79e6fe2e49ea.yaml","type":"application/yaml","size":608},{"uid":"cee39abc2fe556ce","name":"stage_yaml","source":"cee39abc2fe556ce.yaml","type":"application/yaml","size":682},{"uid":"6701ce7ae78054bc","name":"rest_request","source":"6701ce7ae78054bc.yaml","type":"application/yaml","size":161},{"uid":"d9ff4b0facda5615","name":"rest_response","source":"d9ff4b0facda5615.yaml","type":"application/yaml","size":608},{"uid":"a09dd369b12ca30b","name":"stage_yaml","source":"a09dd369b12ca30b.yaml","type":"application/yaml","size":682},{"uid":"8a013d030a83a884","name":"rest_request","source":"8a013d030a83a884.yaml","type":"application/yaml","size":161},{"uid":"c0041ddbf1c99c7b","name":"rest_response","source":"c0041ddbf1c99c7b.yaml","type":"application/yaml","size":608},{"uid":"9ec0dd92f3ab7bae","name":"stage_yaml","source":"9ec0dd92f3ab7bae.yaml","type":"application/yaml","size":682},{"uid":"c3630be8007c77fa","name":"rest_request","source":"c3630be8007c77fa.yaml","type":"application/yaml","size":161},{"uid":"47f1c7f7972a1457","name":"rest_response","source":"47f1c7f7972a1457.yaml","type":"application/yaml","size":608},{"uid":"d0bc02d521c5e57b","name":"stage_yaml","source":"d0bc02d521c5e57b.yaml","type":"application/yaml","size":682},{"uid":"814648ddc2a0cdfa","name":"rest_request","source":"814648ddc2a0cdfa.yaml","type":"application/yaml","size":161},{"uid":"bd28fe33a6f65b1e","name":"rest_response","source":"bd28fe33a6f65b1e.yaml","type":"application/yaml","size":608},{"uid":"9fc3aab95dd0601b","name":"stage_yaml","source":"9fc3aab95dd0601b.yaml","type":"application/yaml","size":682},{"uid":"86c078f5eac5fafd","name":"rest_request","source":"86c078f5eac5fafd.yaml","type":"application/yaml","size":161},{"uid":"1bff4f6a4c4d06d0","name":"rest_response","source":"1bff4f6a4c4d06d0.yaml","type":"application/yaml","size":608},{"uid":"55634bb78fab70f8","name":"stage_yaml","source":"55634bb78fab70f8.yaml","type":"application/yaml","size":682},{"uid":"bb96a926ac51f1e4","name":"rest_request","source":"bb96a926ac51f1e4.yaml","type":"application/yaml","size":161},{"uid":"18c87e0bf05e30c5","name":"rest_response","source":"18c87e0bf05e30c5.yaml","type":"application/yaml","size":608},{"uid":"320039bfa53b3e83","name":"stage_yaml","source":"320039bfa53b3e83.yaml","type":"application/yaml","size":682},{"uid":"e7059a4c64cc5cee","name":"rest_request","source":"e7059a4c64cc5cee.yaml","type":"application/yaml","size":161},{"uid":"1eaa5d0e6eb76a7e","name":"rest_response","source":"1eaa5d0e6eb76a7e.yaml","type":"application/yaml","size":608},{"uid":"96fa977a210d8675","name":"stage_yaml","source":"96fa977a210d8675.yaml","type":"application/yaml","size":682},{"uid":"32f267bae3d1085c","name":"rest_request","source":"32f267bae3d1085c.yaml","type":"application/yaml","size":161},{"uid":"8327d59ac9ee84f5","name":"rest_response","source":"8327d59ac9ee84f5.yaml","type":"application/yaml","size":608},{"uid":"cad57d416d7f75f4","name":"stage_yaml","source":"cad57d416d7f75f4.yaml","type":"application/yaml","size":682},{"uid":"f800e68f49f9dc06","name":"rest_request","source":"f800e68f49f9dc06.yaml","type":"application/yaml","size":161},{"uid":"61fce744ff47ace","name":"rest_response","source":"61fce744ff47ace.yaml","type":"application/yaml","size":608},{"uid":"b10b93776c739a09","name":"stage_yaml","source":"b10b93776c739a09.yaml","type":"application/yaml","size":682},{"uid":"d3a9fc1c91d13136","name":"rest_request","source":"d3a9fc1c91d13136.yaml","type":"application/yaml","size":161},{"uid":"2f178244e4570af6","name":"rest_response","source":"2f178244e4570af6.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678224446499,"stop":1678224446516,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"bbaab23d563bd90d","name":"stage_yaml","source":"bbaab23d563bd90d.yaml","type":"application/yaml","size":2389},{"uid":"7fe41624b1e0752b","name":"rest_request","source":"7fe41624b1e0752b.yaml","type":"application/yaml","size":161},{"uid":"3b85d4b70ed76f7","name":"rest_response","source":"3b85d4b70ed76f7.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678224446517,"stop":1678224446530,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"10b66618b6825c14","name":"stage_yaml","source":"10b66618b6825c14.yaml","type":"application/yaml","size":978},{"uid":"3410cf0867bda2a7","name":"rest_request","source":"3410cf0867bda2a7.yaml","type":"application/yaml","size":145},{"uid":"377b71697d18dd0f","name":"rest_response","source":"377b71697d18dd0f.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678224446531,"stop":1678224446548,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"d3ca8067f4dbd292","name":"stage_yaml","source":"d3ca8067f4dbd292.yaml","type":"application/yaml","size":763},{"uid":"17349f5dbe013b18","name":"rest_request","source":"17349f5dbe013b18.yaml","type":"application/yaml","size":211},{"uid":"f6f282b0b4073461","name":"rest_response","source":"f6f282b0b4073461.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678224446549,"stop":1678224446569,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"1fb3aaa19e65e663","name":"stage_yaml","source":"1fb3aaa19e65e663.yaml","type":"application/yaml","size":534},{"uid":"e04c90b7fe3c9483","name":"rest_request","source":"e04c90b7fe3c9483.yaml","type":"application/yaml","size":164},{"uid":"f6026c6ea6509634","name":"rest_response","source":"f6026c6ea6509634.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678224446571,"stop":1678224447590,"duration":1019},"status":"passed","steps":[],"attachments":[{"uid":"58004e3419f30f1f","name":"stage_yaml","source":"58004e3419f30f1f.yaml","type":"application/yaml","size":703},{"uid":"f88d7855ea564d00","name":"rest_request","source":"f88d7855ea564d00.yaml","type":"application/yaml","size":161},{"uid":"6cc3cb36e9316d13","name":"rest_response","source":"6cc3cb36e9316d13.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678224447591,"stop":1678224447610,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"d7433ef22f6e65c7","name":"stage_yaml","source":"d7433ef22f6e65c7.yaml","type":"application/yaml","size":2481},{"uid":"c26b47acc282a97a","name":"rest_request","source":"c26b47acc282a97a.yaml","type":"application/yaml","size":161},{"uid":"3eec8bb150e9ebc7","name":"rest_response","source":"3eec8bb150e9ebc7.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"50a2bf4a5bdef5f","name":"log","source":"50a2bf4a5bdef5f.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3159a62854fe"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"38720dbc34713ee5","status":"passed","time":{"start":1678221567105,"stop":1678221599734,"duration":32629}},{"uid":"99ed4edb3ddb2a6f","status":"passed","time":{"start":1678217866036,"stop":1678217898717,"duration":32681}},{"uid":"c86146dec7c16d1e","status":"passed","time":{"start":1676400949598,"stop":1676400982240,"duration":32642}},{"uid":"39eac9a40cbdb3c7","status":"passed","time":{"start":1676399956477,"stop":1676399989102,"duration":32625}},{"uid":"7d14d510db4f3ad6","status":"passed","time":{"start":1676324668777,"stop":1676324701439,"duration":32662}},{"uid":"7d77006b0367179f","status":"passed","time":{"start":1674515479474,"stop":1674515481658,"duration":2184}},{"uid":"42251583897b70fe","status":"passed","time":{"start":1674505607794,"stop":1674505625373,"duration":17579}},{"uid":"8457d14d68377bd0","status":"passed","time":{"start":1674500431023,"stop":1674500463694,"duration":32671}},{"uid":"4657babf55609585","status":"passed","time":{"start":1674257839299,"stop":1674257872071,"duration":32772}},{"uid":"61f114104b193ad3","status":"passed","time":{"start":1674255098685,"stop":1674255146652,"duration":47967}},{"uid":"7e69fbb5c356d59","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080284700,"stop":1674080284747,"duration":47}},{"uid":"787905fa4e3a30e0","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005693,"stop":1674075005733,"duration":40}},{"uid":"f46c206fec567553","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623022,"stop":1674074623054,"duration":32}}]},"tags":[]},"source":"4518c7630dcd8b6e.json","parameterValues":[]}