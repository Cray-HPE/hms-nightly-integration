{"uid":"5166a3f893057431","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1678224070658,"stop":1678224088082,"duration":17424},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678224070668,"stop":1678224070706,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"5d78a6d25f4164af","name":"stage_yaml","source":"5d78a6d25f4164af.yaml","type":"application/yaml","size":302},{"uid":"c76007ccbb6674d0","name":"rest_request","source":"c76007ccbb6674d0.yaml","type":"application/yaml","size":162},{"uid":"3ea65811d7b401cf","name":"rest_response","source":"3ea65811d7b401cf.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678224070707,"stop":1678224070720,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"538f000486fbd97b","name":"stage_yaml","source":"538f000486fbd97b.yaml","type":"application/yaml","size":775},{"uid":"5f9b1d5919e3e5b6","name":"rest_request","source":"5f9b1d5919e3e5b6.yaml","type":"application/yaml","size":211},{"uid":"940ff17c083a517","name":"rest_response","source":"940ff17c083a517.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678224070722,"stop":1678224071737,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"233a6212af9dca61","name":"stage_yaml","source":"233a6212af9dca61.yaml","type":"application/yaml","size":661},{"uid":"73ed9a9935dd65b","name":"rest_request","source":"73ed9a9935dd65b.yaml","type":"application/yaml","size":161},{"uid":"1b029c6dad09c900","name":"rest_response","source":"1b029c6dad09c900.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678224071738,"stop":1678224071755,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"1f0f7bb8fa45d11","name":"stage_yaml","source":"1f0f7bb8fa45d11.yaml","type":"application/yaml","size":2375},{"uid":"b25424d58b9c00cc","name":"rest_request","source":"b25424d58b9c00cc.yaml","type":"application/yaml","size":161},{"uid":"8aa92892e8bbea50","name":"rest_response","source":"8aa92892e8bbea50.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678224071756,"stop":1678224071768,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"5b888189648a29ec","name":"stage_yaml","source":"5b888189648a29ec.yaml","type":"application/yaml","size":976},{"uid":"b36f0f8e75073130","name":"rest_request","source":"b36f0f8e75073130.yaml","type":"application/yaml","size":145},{"uid":"ccb992c6cb6e0f59","name":"rest_response","source":"ccb992c6cb6e0f59.yaml","type":"application/yaml","size":436}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1678224071769,"stop":1678224071782,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"fa1e268941af31b5","name":"stage_yaml","source":"fa1e268941af31b5.yaml","type":"application/yaml","size":795},{"uid":"aa15388fbb97fc6e","name":"rest_request","source":"aa15388fbb97fc6e.yaml","type":"application/yaml","size":216},{"uid":"8aac073fa22daf2f","name":"rest_response","source":"8aac073fa22daf2f.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678224071783,"stop":1678224088051,"duration":16268},"status":"passed","steps":[],"attachments":[{"uid":"97573865dd8eb4b0","name":"stage_yaml","source":"97573865dd8eb4b0.yaml","type":"application/yaml","size":684},{"uid":"62a1169bafc06441","name":"rest_request","source":"62a1169bafc06441.yaml","type":"application/yaml","size":161},{"uid":"53b14367f995bbaa","name":"rest_response","source":"53b14367f995bbaa.yaml","type":"application/yaml","size":572},{"uid":"38eacfbd4f1ffac5","name":"stage_yaml","source":"38eacfbd4f1ffac5.yaml","type":"application/yaml","size":684},{"uid":"b0a0ba870906947b","name":"rest_request","source":"b0a0ba870906947b.yaml","type":"application/yaml","size":161},{"uid":"c3f856948c4e7bb1","name":"rest_response","source":"c3f856948c4e7bb1.yaml","type":"application/yaml","size":608},{"uid":"f2263a934d165c44","name":"stage_yaml","source":"f2263a934d165c44.yaml","type":"application/yaml","size":684},{"uid":"f43b715ea7659d1b","name":"rest_request","source":"f43b715ea7659d1b.yaml","type":"application/yaml","size":161},{"uid":"a36bd14452300694","name":"rest_response","source":"a36bd14452300694.yaml","type":"application/yaml","size":608},{"uid":"a0487efbabf41878","name":"stage_yaml","source":"a0487efbabf41878.yaml","type":"application/yaml","size":684},{"uid":"3c44fa4aaaa80896","name":"rest_request","source":"3c44fa4aaaa80896.yaml","type":"application/yaml","size":161},{"uid":"608d14cfd6603c91","name":"rest_response","source":"608d14cfd6603c91.yaml","type":"application/yaml","size":608},{"uid":"326daad24c1d1d6f","name":"stage_yaml","source":"326daad24c1d1d6f.yaml","type":"application/yaml","size":684},{"uid":"5bd6794cc0f324bf","name":"rest_request","source":"5bd6794cc0f324bf.yaml","type":"application/yaml","size":161},{"uid":"95155ab2fe7e5033","name":"rest_response","source":"95155ab2fe7e5033.yaml","type":"application/yaml","size":608},{"uid":"59ccac2f82a7aab6","name":"stage_yaml","source":"59ccac2f82a7aab6.yaml","type":"application/yaml","size":684},{"uid":"6b26815c0b2006bd","name":"rest_request","source":"6b26815c0b2006bd.yaml","type":"application/yaml","size":161},{"uid":"e8e7a9ed6372b688","name":"rest_response","source":"e8e7a9ed6372b688.yaml","type":"application/yaml","size":608},{"uid":"c33a2d9104c8fd9a","name":"stage_yaml","source":"c33a2d9104c8fd9a.yaml","type":"application/yaml","size":684},{"uid":"a96c13717cfa205","name":"rest_request","source":"a96c13717cfa205.yaml","type":"application/yaml","size":161},{"uid":"1df0f68b9071e906","name":"rest_response","source":"1df0f68b9071e906.yaml","type":"application/yaml","size":608},{"uid":"c7fd25a9c9cc8b64","name":"stage_yaml","source":"c7fd25a9c9cc8b64.yaml","type":"application/yaml","size":684},{"uid":"58c690320027c1cd","name":"rest_request","source":"58c690320027c1cd.yaml","type":"application/yaml","size":161},{"uid":"d4b79e4bc28aa9dc","name":"rest_response","source":"d4b79e4bc28aa9dc.yaml","type":"application/yaml","size":608},{"uid":"c489f729ba79d1ff","name":"stage_yaml","source":"c489f729ba79d1ff.yaml","type":"application/yaml","size":684},{"uid":"b045a571107c11c6","name":"rest_request","source":"b045a571107c11c6.yaml","type":"application/yaml","size":161},{"uid":"82ed5a26442e55c9","name":"rest_response","source":"82ed5a26442e55c9.yaml","type":"application/yaml","size":608},{"uid":"f3eb5152e4fe7e20","name":"stage_yaml","source":"f3eb5152e4fe7e20.yaml","type":"application/yaml","size":684},{"uid":"aa145fbee0f83928","name":"rest_request","source":"aa145fbee0f83928.yaml","type":"application/yaml","size":161},{"uid":"178e11ab7673d8d0","name":"rest_response","source":"178e11ab7673d8d0.yaml","type":"application/yaml","size":608},{"uid":"db83e897a4e00d2e","name":"stage_yaml","source":"db83e897a4e00d2e.yaml","type":"application/yaml","size":684},{"uid":"b0e4c4985a200030","name":"rest_request","source":"b0e4c4985a200030.yaml","type":"application/yaml","size":161},{"uid":"79bef3d9df342ef8","name":"rest_response","source":"79bef3d9df342ef8.yaml","type":"application/yaml","size":608},{"uid":"8e1b161e5c1136cf","name":"stage_yaml","source":"8e1b161e5c1136cf.yaml","type":"application/yaml","size":684},{"uid":"a40c02ffca92688a","name":"rest_request","source":"a40c02ffca92688a.yaml","type":"application/yaml","size":161},{"uid":"7a1814c6c4423171","name":"rest_response","source":"7a1814c6c4423171.yaml","type":"application/yaml","size":608},{"uid":"71e2600492aa306a","name":"stage_yaml","source":"71e2600492aa306a.yaml","type":"application/yaml","size":684},{"uid":"c037e87276283b84","name":"rest_request","source":"c037e87276283b84.yaml","type":"application/yaml","size":161},{"uid":"2017b1e1b2cc5f90","name":"rest_response","source":"2017b1e1b2cc5f90.yaml","type":"application/yaml","size":608},{"uid":"ce7457d57bc77971","name":"stage_yaml","source":"ce7457d57bc77971.yaml","type":"application/yaml","size":684},{"uid":"8608b4f7f66cc66e","name":"rest_request","source":"8608b4f7f66cc66e.yaml","type":"application/yaml","size":161},{"uid":"e6214d66cf65e42a","name":"rest_response","source":"e6214d66cf65e42a.yaml","type":"application/yaml","size":608},{"uid":"1bac2b3a2dc2e60a","name":"stage_yaml","source":"1bac2b3a2dc2e60a.yaml","type":"application/yaml","size":684},{"uid":"e929837dae07d7a6","name":"rest_request","source":"e929837dae07d7a6.yaml","type":"application/yaml","size":161},{"uid":"8e6f6d02ab7704a8","name":"rest_response","source":"8e6f6d02ab7704a8.yaml","type":"application/yaml","size":608},{"uid":"348c75b1d87b63a4","name":"stage_yaml","source":"348c75b1d87b63a4.yaml","type":"application/yaml","size":684},{"uid":"b19c56ba5786a30a","name":"rest_request","source":"b19c56ba5786a30a.yaml","type":"application/yaml","size":161},{"uid":"364a55351ef7583f","name":"rest_response","source":"364a55351ef7583f.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678224088052,"stop":1678224088068,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"9c7e4eb9d841424a","name":"stage_yaml","source":"9c7e4eb9d841424a.yaml","type":"application/yaml","size":2336},{"uid":"d63cd78d28a49926","name":"rest_request","source":"d63cd78d28a49926.yaml","type":"application/yaml","size":161},{"uid":"ef73f57531fe748c","name":"rest_response","source":"ef73f57531fe748c.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1678224088069,"stop":1678224088081,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"ed57978fc96c788d","name":"stage_yaml","source":"ed57978fc96c788d.yaml","type":"application/yaml","size":978},{"uid":"54125c78d7cb8a34","name":"rest_request","source":"54125c78d7cb8a34.yaml","type":"application/yaml","size":145},{"uid":"5f13b1bc3aebd65b","name":"rest_response","source":"5f13b1bc3aebd65b.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"38595f11cbc773a8","name":"log","source":"38595f11cbc773a8.txt","type":"text/plain","size":57878}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3159a62854fe"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"89659e5150a218b","status":"passed","time":{"start":1678221223216,"stop":1678221240609,"duration":17393}},{"uid":"1affcd3d0686b158","status":"passed","time":{"start":1678217521440,"stop":1678217538867,"duration":17427}},{"uid":"ee8043ac6b81568d","status":"passed","time":{"start":1676400590158,"stop":1676400622792,"duration":32634}},{"uid":"e063e4c7b9ddbb6d","status":"passed","time":{"start":1676399582270,"stop":1676399614890,"duration":32620}},{"uid":"a08f0fb12f37f14b","status":"passed","time":{"start":1676324308069,"stop":1676324340838,"duration":32769}},{"uid":"80ef640ccc769ba6","status":"passed","time":{"start":1674515135445,"stop":1674515152857,"duration":17412}},{"uid":"e39f8b3abcbef727","status":"passed","time":{"start":1674505198362,"stop":1674505231270,"duration":32908}},{"uid":"d4a9140df39ed9d5","status":"passed","time":{"start":1674500025702,"stop":1674500043119,"duration":17417}},{"uid":"33e8e355e3ea7392","status":"passed","time":{"start":1674257402786,"stop":1674257481316,"duration":78530}},{"uid":"ab2961c357340a1","status":"passed","time":{"start":1674254723736,"stop":1674254741154,"duration":17418}},{"uid":"6001dae660fb87e0","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080274145,"stop":1674080275280,"duration":1135}},{"uid":"79a5f22179955b39","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005111,"stop":1674075005146,"duration":35}},{"uid":"a9725d25de83b127","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622465,"stop":1674074622502,"duration":37}}]},"tags":[]},"source":"5166a3f893057431.json","parameterValues":[]}