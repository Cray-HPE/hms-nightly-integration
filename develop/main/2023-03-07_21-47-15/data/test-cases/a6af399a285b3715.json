{"uid":"a6af399a285b3715","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1678225287563,"stop":1678225288062,"duration":499},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1678225287577,"stop":1678225287652,"duration":75},"status":"passed","steps":[],"attachments":[{"uid":"d14c589ed6ecb51c","name":"stage_yaml","source":"d14c589ed6ecb51c.yaml","type":"application/yaml","size":457},{"uid":"59371ff1c44e4ed8","name":"rest_request","source":"59371ff1c44e4ed8.yaml","type":"application/yaml","size":149},{"uid":"837f2e52752f396e","name":"rest_response","source":"837f2e52752f396e.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1678225287660,"stop":1678225287826,"duration":166},"status":"passed","steps":[],"attachments":[{"uid":"59f252e772c7e725","name":"stage_yaml","source":"59f252e772c7e725.yaml","type":"application/yaml","size":472},{"uid":"adcc634aa76143f9","name":"rest_request","source":"adcc634aa76143f9.yaml","type":"application/yaml","size":173},{"uid":"edf647b3ef38004","name":"rest_response","source":"edf647b3ef38004.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1678225287827,"stop":1678225287836,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"174343c21dd74ef7","name":"stage_yaml","source":"174343c21dd74ef7.yaml","type":"application/yaml","size":247},{"uid":"49420a0f8d478637","name":"rest_request","source":"49420a0f8d478637.yaml","type":"application/yaml","size":173},{"uid":"29f2e0f175d50f21","name":"rest_response","source":"29f2e0f175d50f21.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1678225287837,"stop":1678225287847,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"46391e0e7b6d8112","name":"stage_yaml","source":"46391e0e7b6d8112.yaml","type":"application/yaml","size":247},{"uid":"3e638a2823458fd6","name":"rest_request","source":"3e638a2823458fd6.yaml","type":"application/yaml","size":173},{"uid":"7b82b32ec00cacff","name":"rest_response","source":"7b82b32ec00cacff.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1678225287848,"stop":1678225287865,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"75653d67bebb665d","name":"stage_yaml","source":"75653d67bebb665d.yaml","type":"application/yaml","size":1395},{"uid":"3d48969f5c49a27d","name":"rest_request","source":"3d48969f5c49a27d.yaml","type":"application/yaml","size":214},{"uid":"840362a5da2f68b3","name":"rest_response","source":"840362a5da2f68b3.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1678225287866,"stop":1678225287876,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"e36591b17e11a280","name":"stage_yaml","source":"e36591b17e11a280.yaml","type":"application/yaml","size":251},{"uid":"24761ed503b1f54b","name":"rest_request","source":"24761ed503b1f54b.yaml","type":"application/yaml","size":173},{"uid":"10346ec3a945532c","name":"rest_response","source":"10346ec3a945532c.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1678225287877,"stop":1678225287886,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"c9bee0a63915380d","name":"stage_yaml","source":"c9bee0a63915380d.yaml","type":"application/yaml","size":251},{"uid":"560819388ff6b7c3","name":"rest_request","source":"560819388ff6b7c3.yaml","type":"application/yaml","size":173},{"uid":"a2f653c7b58e069d","name":"rest_response","source":"a2f653c7b58e069d.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1678225287887,"stop":1678225287914,"duration":27},"status":"passed","steps":[],"attachments":[{"uid":"be6e0db234ce0983","name":"stage_yaml","source":"be6e0db234ce0983.yaml","type":"application/yaml","size":903},{"uid":"f013e37bc883cdb7","name":"rest_request","source":"f013e37bc883cdb7.yaml","type":"application/yaml","size":286},{"uid":"58e63a57690a9443","name":"rest_response","source":"58e63a57690a9443.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1678225287915,"stop":1678225287943,"duration":28},"status":"passed","steps":[],"attachments":[{"uid":"303998d1802c9277","name":"stage_yaml","source":"303998d1802c9277.yaml","type":"application/yaml","size":2415},{"uid":"bb35f82f4b3f48d9","name":"rest_request","source":"bb35f82f4b3f48d9.yaml","type":"application/yaml","size":160},{"uid":"dde55c82ae498fa6","name":"rest_response","source":"dde55c82ae498fa6.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1678225287944,"stop":1678225287961,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"5064549aa0d51cc0","name":"stage_yaml","source":"5064549aa0d51cc0.yaml","type":"application/yaml","size":1466},{"uid":"4354041a32353d8b","name":"rest_request","source":"4354041a32353d8b.yaml","type":"application/yaml","size":218},{"uid":"97e630b50d7af71f","name":"rest_response","source":"97e630b50d7af71f.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1678225287962,"stop":1678225287978,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"379592d1702be0d4","name":"stage_yaml","source":"379592d1702be0d4.yaml","type":"application/yaml","size":1449},{"uid":"a13d54728ed08177","name":"rest_request","source":"a13d54728ed08177.yaml","type":"application/yaml","size":212},{"uid":"bbbc3cec66fa362","name":"rest_response","source":"bbbc3cec66fa362.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1678225287979,"stop":1678225287999,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"119e02000de5a7f2","name":"stage_yaml","source":"119e02000de5a7f2.yaml","type":"application/yaml","size":759},{"uid":"fd07ae752c49ff96","name":"rest_request","source":"fd07ae752c49ff96.yaml","type":"application/yaml","size":212},{"uid":"23771f848477928c","name":"rest_response","source":"23771f848477928c.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1678225288000,"stop":1678225288023,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"9215ad963724605e","name":"stage_yaml","source":"9215ad963724605e.yaml","type":"application/yaml","size":1477},{"uid":"775b58d750ead6d7","name":"rest_request","source":"775b58d750ead6d7.yaml","type":"application/yaml","size":212},{"uid":"a140d1659e7b8aaf","name":"rest_response","source":"a140d1659e7b8aaf.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1678225288023,"stop":1678225288033,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"e71538b4ce3bd544","name":"stage_yaml","source":"e71538b4ce3bd544.yaml","type":"application/yaml","size":247},{"uid":"929aaaa8b5ef51ca","name":"rest_request","source":"929aaaa8b5ef51ca.yaml","type":"application/yaml","size":173},{"uid":"a592374732392654","name":"rest_response","source":"a592374732392654.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1678225288034,"stop":1678225288042,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"bba0e3b28e809d24","name":"stage_yaml","source":"bba0e3b28e809d24.yaml","type":"application/yaml","size":279},{"uid":"b5a2e36055effecf","name":"rest_request","source":"b5a2e36055effecf.yaml","type":"application/yaml","size":173},{"uid":"a77095c6fcc4842e","name":"rest_response","source":"a77095c6fcc4842e.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1678225288043,"stop":1678225288053,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"cd562a6ff85d9cc0","name":"stage_yaml","source":"cd562a6ff85d9cc0.yaml","type":"application/yaml","size":247},{"uid":"a1db30f84a3fd972","name":"rest_request","source":"a1db30f84a3fd972.yaml","type":"application/yaml","size":173},{"uid":"fdeefa049c691b09","name":"rest_response","source":"fdeefa049c691b09.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1678225288053,"stop":1678225288062,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"cf702f7f18fc7e70","name":"stage_yaml","source":"cf702f7f18fc7e70.yaml","type":"application/yaml","size":279},{"uid":"6a30ff717e5cafd0","name":"rest_request","source":"6a30ff717e5cafd0.yaml","type":"application/yaml","size":173},{"uid":"8fccde0ddf774c87","name":"rest_response","source":"8fccde0ddf774c87.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"c6ec84fc7c73"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":11},"items":[{"uid":"a73e3b38d4ac4038","status":"passed","time":{"start":1678222372040,"stop":1678222372351,"duration":311}},{"uid":"85abc9a55ca6ef16","status":"passed","time":{"start":1678218699413,"stop":1678218699721,"duration":308}},{"uid":"1842d17941e1070a","status":"passed","time":{"start":1674515668181,"stop":1674515668515,"duration":334}},{"uid":"22e78f499c7e01f7","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fc6d17dad30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1001, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674505831201,"stop":1674505831457,"duration":256}},{"uid":"40511fa35e2303dc","status":"passed","time":{"start":1674500620671,"stop":1674500621024,"duration":353}},{"uid":"cf66001f458ab575","status":"passed","time":{"start":1674258027431,"stop":1674258027774,"duration":343}},{"uid":"e346f5a249383d1","status":"passed","time":{"start":1674255379914,"stop":1674255380264,"duration":350}},{"uid":"b35bb70cce03f06e","status":"passed","time":{"start":1674080392244,"stop":1674080392612,"duration":368}},{"uid":"29d894711216bae8","status":"passed","time":{"start":1674075104227,"stop":1674075104612,"duration":385}},{"uid":"6017af36c03a18df","status":"passed","time":{"start":1674074718740,"stop":1674074719093,"duration":353}}]},"tags":[]},"source":"a6af399a285b3715.json","parameterValues":[]}