{"uid":"7f24568045894815","name":"Verify transitions powers off multiple compute nodes that are powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off multiple compute nodes that are powered on","historyId":"7a6914758791ce440c4068335f2673d5","time":{"start":1678224120794,"stop":1678224138231,"duration":17437},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve two compute nodes from HSM to be used in later stages","time":{"start":1678224120803,"stop":1678224120840,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"3926518550f53f20","name":"stage_yaml","source":"3926518550f53f20.yaml","type":"application/yaml","size":346},{"uid":"920f40dfe3b2c50a","name":"rest_request","source":"920f40dfe3b2c50a.yaml","type":"application/yaml","size":162},{"uid":"3caef38e106a96c8","name":"rest_response","source":"3caef38e106a96c8.yaml","type":"application/yaml","size":5746}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target nodes on to prepare them for the test case","time":{"start":1678224120841,"stop":1678224120854,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"e6f2e8ac5ce423c8","name":"stage_yaml","source":"e6f2e8ac5ce423c8.yaml","type":"application/yaml","size":807},{"uid":"f67e9f4bb62638b7","name":"rest_request","source":"f67e9f4bb62638b7.yaml","type":"application/yaml","size":236},{"uid":"2635104fb8125d36","name":"rest_response","source":"2635104fb8125d36.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678224120856,"stop":1678224121870,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"429f286ad0b3ad62","name":"stage_yaml","source":"429f286ad0b3ad62.yaml","type":"application/yaml","size":661},{"uid":"ab63f1666d9caa08","name":"rest_request","source":"ab63f1666d9caa08.yaml","type":"application/yaml","size":161},{"uid":"79f403450cecaa02","name":"rest_response","source":"79f403450cecaa02.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678224121871,"stop":1678224121887,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"16c190c0643d3eab","name":"stage_yaml","source":"16c190c0643d3eab.yaml","type":"application/yaml","size":2420},{"uid":"603d14e65207f31b","name":"rest_request","source":"603d14e65207f31b.yaml","type":"application/yaml","size":161},{"uid":"7c7db0966cc881d8","name":"rest_response","source":"7c7db0966cc881d8.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target nodes are powered on using power-status","time":{"start":1678224121888,"stop":1678224121901,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"93e2dddcf0f222ec","name":"stage_yaml","source":"93e2dddcf0f222ec.yaml","type":"application/yaml","size":1046},{"uid":"df32bd91c11623f3","name":"rest_request","source":"df32bd91c11623f3.yaml","type":"application/yaml","size":165},{"uid":"1924963458dab410","name":"rest_response","source":"1924963458dab410.yaml","type":"application/yaml","size":713}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target nodes off with a force-off transition","time":{"start":1678224121902,"stop":1678224121914,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"ae6dd90983337305","name":"stage_yaml","source":"ae6dd90983337305.yaml","type":"application/yaml","size":825},{"uid":"8c87888944dd7b3c","name":"rest_request","source":"8c87888944dd7b3c.yaml","type":"application/yaml","size":241},{"uid":"c00730e9198a147f","name":"rest_response","source":"c00730e9198a147f.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678224121916,"stop":1678224138197,"duration":16281},"status":"passed","steps":[],"attachments":[{"uid":"33126fb1f01f744a","name":"stage_yaml","source":"33126fb1f01f744a.yaml","type":"application/yaml","size":684},{"uid":"af880e173a1ecb4b","name":"rest_request","source":"af880e173a1ecb4b.yaml","type":"application/yaml","size":161},{"uid":"25a819319ba8c839","name":"rest_response","source":"25a819319ba8c839.yaml","type":"application/yaml","size":674},{"uid":"3f7daa80a37a564c","name":"stage_yaml","source":"3f7daa80a37a564c.yaml","type":"application/yaml","size":684},{"uid":"3d163e8e20aac21b","name":"rest_request","source":"3d163e8e20aac21b.yaml","type":"application/yaml","size":161},{"uid":"64ba251c7e2dbbb4","name":"rest_response","source":"64ba251c7e2dbbb4.yaml","type":"application/yaml","size":731},{"uid":"7562ec834bae91a5","name":"stage_yaml","source":"7562ec834bae91a5.yaml","type":"application/yaml","size":684},{"uid":"aa52c897f899b451","name":"rest_request","source":"aa52c897f899b451.yaml","type":"application/yaml","size":161},{"uid":"9929a6bf676072ab","name":"rest_response","source":"9929a6bf676072ab.yaml","type":"application/yaml","size":731},{"uid":"cffebc81abd2fd1f","name":"stage_yaml","source":"cffebc81abd2fd1f.yaml","type":"application/yaml","size":684},{"uid":"e5fa2a37f907ef53","name":"rest_request","source":"e5fa2a37f907ef53.yaml","type":"application/yaml","size":161},{"uid":"45041f5593f10ce6","name":"rest_response","source":"45041f5593f10ce6.yaml","type":"application/yaml","size":731},{"uid":"e03c63cae8c5e67a","name":"stage_yaml","source":"e03c63cae8c5e67a.yaml","type":"application/yaml","size":684},{"uid":"50ec52b73eb6a8b3","name":"rest_request","source":"50ec52b73eb6a8b3.yaml","type":"application/yaml","size":161},{"uid":"d0938f07fe966cf8","name":"rest_response","source":"d0938f07fe966cf8.yaml","type":"application/yaml","size":731},{"uid":"7350e874d9fc75c5","name":"stage_yaml","source":"7350e874d9fc75c5.yaml","type":"application/yaml","size":684},{"uid":"37eba52610a73909","name":"rest_request","source":"37eba52610a73909.yaml","type":"application/yaml","size":161},{"uid":"42c5ac7582d948bd","name":"rest_response","source":"42c5ac7582d948bd.yaml","type":"application/yaml","size":731},{"uid":"7ca76335668b08c5","name":"stage_yaml","source":"7ca76335668b08c5.yaml","type":"application/yaml","size":684},{"uid":"10733d45f39e0b50","name":"rest_request","source":"10733d45f39e0b50.yaml","type":"application/yaml","size":161},{"uid":"1a52febde3bc188c","name":"rest_response","source":"1a52febde3bc188c.yaml","type":"application/yaml","size":731},{"uid":"d218e69c1248b237","name":"stage_yaml","source":"d218e69c1248b237.yaml","type":"application/yaml","size":684},{"uid":"a10d7a248d6dfb7d","name":"rest_request","source":"a10d7a248d6dfb7d.yaml","type":"application/yaml","size":161},{"uid":"a287dec6b3682a20","name":"rest_response","source":"a287dec6b3682a20.yaml","type":"application/yaml","size":731},{"uid":"8e4bb313aa766d9","name":"stage_yaml","source":"8e4bb313aa766d9.yaml","type":"application/yaml","size":684},{"uid":"eb8c56bc8d77562","name":"rest_request","source":"eb8c56bc8d77562.yaml","type":"application/yaml","size":161},{"uid":"68ab4f4906754bdc","name":"rest_response","source":"68ab4f4906754bdc.yaml","type":"application/yaml","size":731},{"uid":"6709f9a44389acdc","name":"stage_yaml","source":"6709f9a44389acdc.yaml","type":"application/yaml","size":684},{"uid":"ec84e366fe369791","name":"rest_request","source":"ec84e366fe369791.yaml","type":"application/yaml","size":161},{"uid":"5651dd0cf30107eb","name":"rest_response","source":"5651dd0cf30107eb.yaml","type":"application/yaml","size":731},{"uid":"7fac99070011777d","name":"stage_yaml","source":"7fac99070011777d.yaml","type":"application/yaml","size":684},{"uid":"9274e10187aa8222","name":"rest_request","source":"9274e10187aa8222.yaml","type":"application/yaml","size":161},{"uid":"25407d226c3d1dd4","name":"rest_response","source":"25407d226c3d1dd4.yaml","type":"application/yaml","size":731},{"uid":"d3fad50d07e5b4af","name":"stage_yaml","source":"d3fad50d07e5b4af.yaml","type":"application/yaml","size":684},{"uid":"a076939f20207139","name":"rest_request","source":"a076939f20207139.yaml","type":"application/yaml","size":161},{"uid":"9801371c775d472f","name":"rest_response","source":"9801371c775d472f.yaml","type":"application/yaml","size":731},{"uid":"6516c8d2b65e1a18","name":"stage_yaml","source":"6516c8d2b65e1a18.yaml","type":"application/yaml","size":684},{"uid":"e93b3419ce1524f2","name":"rest_request","source":"e93b3419ce1524f2.yaml","type":"application/yaml","size":161},{"uid":"bea7b740f9d723fc","name":"rest_response","source":"bea7b740f9d723fc.yaml","type":"application/yaml","size":731},{"uid":"56d6647f0ed1b059","name":"stage_yaml","source":"56d6647f0ed1b059.yaml","type":"application/yaml","size":684},{"uid":"b1c8184850cc3dc6","name":"rest_request","source":"b1c8184850cc3dc6.yaml","type":"application/yaml","size":161},{"uid":"48741c6dd0e71d4","name":"rest_response","source":"48741c6dd0e71d4.yaml","type":"application/yaml","size":731},{"uid":"2b0dc635da81401e","name":"stage_yaml","source":"2b0dc635da81401e.yaml","type":"application/yaml","size":684},{"uid":"3c732b06d2a305af","name":"rest_request","source":"3c732b06d2a305af.yaml","type":"application/yaml","size":161},{"uid":"735e666c9df59171","name":"rest_response","source":"735e666c9df59171.yaml","type":"application/yaml","size":731},{"uid":"71eca144540ff8a9","name":"stage_yaml","source":"71eca144540ff8a9.yaml","type":"application/yaml","size":684},{"uid":"620cb442360b8291","name":"rest_request","source":"620cb442360b8291.yaml","type":"application/yaml","size":161},{"uid":"7278343e2f7b2caf","name":"rest_response","source":"7278343e2f7b2caf.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678224138198,"stop":1678224138215,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"381d7f9a9073533e","name":"stage_yaml","source":"381d7f9a9073533e.yaml","type":"application/yaml","size":2381},{"uid":"c20c71570222e3b1","name":"rest_request","source":"c20c71570222e3b1.yaml","type":"application/yaml","size":161},{"uid":"f6e28e02f4614c1b","name":"rest_response","source":"f6e28e02f4614c1b.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target nodes are powered off using power-status","time":{"start":1678224138216,"stop":1678224138231,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"95b502404c41af2d","name":"stage_yaml","source":"95b502404c41af2d.yaml","type":"application/yaml","size":1048},{"uid":"25f72b7d8e9e6c3c","name":"rest_request","source":"25f72b7d8e9e6c3c.yaml","type":"application/yaml","size":165},{"uid":"916341790c61452c","name":"rest_response","source":"916341790c61452c.yaml","type":"application/yaml","size":715}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"1cd3977615b06056","name":"log","source":"1cd3977615b06056.txt","type":"text/plain","size":59777}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3159a62854fe"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"d16eaed4383b7db4","status":"passed","time":{"start":1678221273246,"stop":1678221290666,"duration":17420}},{"uid":"259eb41f621c8a73","status":"passed","time":{"start":1678217571555,"stop":1678217604323,"duration":32768}},{"uid":"9386260d56452e27","status":"passed","time":{"start":1676400655425,"stop":1676400688072,"duration":32647}},{"uid":"168debf159930da7","status":"passed","time":{"start":1676399647612,"stop":1676399680256,"duration":32644}},{"uid":"a393bd601608c583","status":"passed","time":{"start":1676324373526,"stop":1676324406326,"duration":32800}},{"uid":"46044090d9240cd6","status":"passed","time":{"start":1674515155031,"stop":1674515202986,"duration":47955}},{"uid":"57a583ce363e6ff2","status":"passed","time":{"start":1674505233520,"stop":1674505297194,"duration":63674}},{"uid":"5ac13b4b4cb8e660","status":"passed","time":{"start":1674500075790,"stop":1674500123784,"duration":47994}},{"uid":"5419ac6c60424148","status":"passed","time":{"start":1674257498781,"stop":1674257562090,"duration":63309}},{"uid":"c72f8e529dd2e545","status":"passed","time":{"start":1674254773832,"stop":1674254821848,"duration":48016}},{"uid":"90ce337b77f3adcb","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target nodes off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080275571,"stop":1674080276696,"duration":1125}},{"uid":"ddb08b62cc264b02","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005211,"stop":1674075005247,"duration":36}},{"uid":"7181122f94977d49","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622573,"stop":1674074622606,"duration":33}}]},"tags":[]},"source":"7f24568045894815.json","parameterValues":[]}