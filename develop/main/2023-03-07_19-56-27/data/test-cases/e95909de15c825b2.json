{"uid":"e95909de15c825b2","name":"Verify transitions powers off a ComputeModule that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a ComputeModule that is powered on","historyId":"f1bb6e85db6771d7f52a9148f7e0fa62","time":{"start":1678217636994,"stop":1678217654401,"duration":17407},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a ComputeModule from HSM to be used in later stages","time":{"start":1678217637003,"stop":1678217637018,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"1de380fea6b9949b","name":"stage_yaml","source":"1de380fea6b9949b.yaml","type":"application/yaml","size":296},{"uid":"d5c0d6fdabe3cb44","name":"rest_request","source":"d5c0d6fdabe3cb44.yaml","type":"application/yaml","size":145},{"uid":"3a682bd5d0ff8b9","name":"rest_response","source":"3a682bd5d0ff8b9.yaml","type":"application/yaml","size":1304}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target ComputeModule on to prepare it for the test case","time":{"start":1678217637018,"stop":1678217637030,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"331929813442a76c","name":"stage_yaml","source":"331929813442a76c.yaml","type":"application/yaml","size":794},{"uid":"c6180f1b19515419","name":"rest_request","source":"c6180f1b19515419.yaml","type":"application/yaml","size":207},{"uid":"69ef8682bf7123f1","name":"rest_response","source":"69ef8682bf7123f1.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678217637033,"stop":1678217638047,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"a7ffdd1069103140","name":"stage_yaml","source":"a7ffdd1069103140.yaml","type":"application/yaml","size":661},{"uid":"51bc8d0354fd6b19","name":"rest_request","source":"51bc8d0354fd6b19.yaml","type":"application/yaml","size":161},{"uid":"9eb75a3b8a0c35e9","name":"rest_response","source":"9eb75a3b8a0c35e9.yaml","type":"application/yaml","size":587}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678217638048,"stop":1678217638064,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7716b7861fa05134","name":"stage_yaml","source":"7716b7861fa05134.yaml","type":"application/yaml","size":2385},{"uid":"6dc9b3c6cf85c7d6","name":"rest_request","source":"6dc9b3c6cf85c7d6.yaml","type":"application/yaml","size":161},{"uid":"96ba8f5373c73109","name":"rest_response","source":"96ba8f5373c73109.yaml","type":"application/yaml","size":587}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target ComputeModule is powered on using power-status","time":{"start":1678217638065,"stop":1678217638076,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"a219835e251aa14e","name":"stage_yaml","source":"a219835e251aa14e.yaml","type":"application/yaml","size":1005},{"uid":"70cb6ad3649aac0c","name":"rest_request","source":"70cb6ad3649aac0c.yaml","type":"application/yaml","size":141},{"uid":"c4d523dcfe5e1866","name":"rest_response","source":"c4d523dcfe5e1866.yaml","type":"application/yaml","size":434}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target ComputeModule off with a force-off transition","time":{"start":1678217638077,"stop":1678217638088,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"3906282b343da4f5","name":"stage_yaml","source":"3906282b343da4f5.yaml","type":"application/yaml","size":814},{"uid":"1e0a1a6a6d0251ed","name":"rest_request","source":"1e0a1a6a6d0251ed.yaml","type":"application/yaml","size":212},{"uid":"b29fc7ba4416dafe","name":"rest_response","source":"b29fc7ba4416dafe.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678217638090,"stop":1678217654370,"duration":16280},"status":"passed","steps":[],"attachments":[{"uid":"1847fb038bdf73d0","name":"stage_yaml","source":"1847fb038bdf73d0.yaml","type":"application/yaml","size":684},{"uid":"f43e76961d24959a","name":"rest_request","source":"f43e76961d24959a.yaml","type":"application/yaml","size":161},{"uid":"b25bad9a6e6e1836","name":"rest_response","source":"b25bad9a6e6e1836.yaml","type":"application/yaml","size":568},{"uid":"ad860a8461861560","name":"stage_yaml","source":"ad860a8461861560.yaml","type":"application/yaml","size":684},{"uid":"508ff71375b2aab1","name":"rest_request","source":"508ff71375b2aab1.yaml","type":"application/yaml","size":161},{"uid":"7814329ed19eadd","name":"rest_response","source":"7814329ed19eadd.yaml","type":"application/yaml","size":604},{"uid":"e98b2a5f596c3501","name":"stage_yaml","source":"e98b2a5f596c3501.yaml","type":"application/yaml","size":684},{"uid":"ae8e0e4de31a98e6","name":"rest_request","source":"ae8e0e4de31a98e6.yaml","type":"application/yaml","size":161},{"uid":"ee50a033479876e4","name":"rest_response","source":"ee50a033479876e4.yaml","type":"application/yaml","size":604},{"uid":"c9aa08639733a47b","name":"stage_yaml","source":"c9aa08639733a47b.yaml","type":"application/yaml","size":684},{"uid":"6c1bd5ddf8ae6102","name":"rest_request","source":"6c1bd5ddf8ae6102.yaml","type":"application/yaml","size":161},{"uid":"b61adc327665a152","name":"rest_response","source":"b61adc327665a152.yaml","type":"application/yaml","size":604},{"uid":"d16a5529be3ee79e","name":"stage_yaml","source":"d16a5529be3ee79e.yaml","type":"application/yaml","size":684},{"uid":"45af876733bfce59","name":"rest_request","source":"45af876733bfce59.yaml","type":"application/yaml","size":161},{"uid":"819008ba1681aa88","name":"rest_response","source":"819008ba1681aa88.yaml","type":"application/yaml","size":604},{"uid":"fe321353c65124c0","name":"stage_yaml","source":"fe321353c65124c0.yaml","type":"application/yaml","size":684},{"uid":"d9418f54b6271502","name":"rest_request","source":"d9418f54b6271502.yaml","type":"application/yaml","size":161},{"uid":"a80759b8f468dd06","name":"rest_response","source":"a80759b8f468dd06.yaml","type":"application/yaml","size":604},{"uid":"1d8fc553cef26961","name":"stage_yaml","source":"1d8fc553cef26961.yaml","type":"application/yaml","size":684},{"uid":"617701de8ba9d3ff","name":"rest_request","source":"617701de8ba9d3ff.yaml","type":"application/yaml","size":161},{"uid":"41f8318124e242cb","name":"rest_response","source":"41f8318124e242cb.yaml","type":"application/yaml","size":604},{"uid":"18e7346a9931d1a6","name":"stage_yaml","source":"18e7346a9931d1a6.yaml","type":"application/yaml","size":684},{"uid":"ca065f348ab01978","name":"rest_request","source":"ca065f348ab01978.yaml","type":"application/yaml","size":161},{"uid":"4df6c518d5d11cf7","name":"rest_response","source":"4df6c518d5d11cf7.yaml","type":"application/yaml","size":604},{"uid":"511be03ed6cbc6d4","name":"stage_yaml","source":"511be03ed6cbc6d4.yaml","type":"application/yaml","size":684},{"uid":"adad9f0c1e7fdd96","name":"rest_request","source":"adad9f0c1e7fdd96.yaml","type":"application/yaml","size":161},{"uid":"e4b5ad38b83cacea","name":"rest_response","source":"e4b5ad38b83cacea.yaml","type":"application/yaml","size":604},{"uid":"98efe93f8f27d43a","name":"stage_yaml","source":"98efe93f8f27d43a.yaml","type":"application/yaml","size":684},{"uid":"69d56c975640560f","name":"rest_request","source":"69d56c975640560f.yaml","type":"application/yaml","size":161},{"uid":"bb6e4647b4f83ad9","name":"rest_response","source":"bb6e4647b4f83ad9.yaml","type":"application/yaml","size":604},{"uid":"ccd5ca291455e87e","name":"stage_yaml","source":"ccd5ca291455e87e.yaml","type":"application/yaml","size":684},{"uid":"b582e9841dc8b78f","name":"rest_request","source":"b582e9841dc8b78f.yaml","type":"application/yaml","size":161},{"uid":"ab248f9a69ac065b","name":"rest_response","source":"ab248f9a69ac065b.yaml","type":"application/yaml","size":604},{"uid":"d0cff332efca0d04","name":"stage_yaml","source":"d0cff332efca0d04.yaml","type":"application/yaml","size":684},{"uid":"77a76d1692a5adcb","name":"rest_request","source":"77a76d1692a5adcb.yaml","type":"application/yaml","size":161},{"uid":"9f1f6ed8d584e1eb","name":"rest_response","source":"9f1f6ed8d584e1eb.yaml","type":"application/yaml","size":604},{"uid":"c3db2e51bd16e014","name":"stage_yaml","source":"c3db2e51bd16e014.yaml","type":"application/yaml","size":684},{"uid":"75394f9ce575520d","name":"rest_request","source":"75394f9ce575520d.yaml","type":"application/yaml","size":161},{"uid":"6c2c4516d1be481d","name":"rest_response","source":"6c2c4516d1be481d.yaml","type":"application/yaml","size":604},{"uid":"30ff09e2325bbbc4","name":"stage_yaml","source":"30ff09e2325bbbc4.yaml","type":"application/yaml","size":684},{"uid":"53fa822293ec0fe1","name":"rest_request","source":"53fa822293ec0fe1.yaml","type":"application/yaml","size":161},{"uid":"b4d19210410beaff","name":"rest_response","source":"b4d19210410beaff.yaml","type":"application/yaml","size":604},{"uid":"a8dbf745d24b4e25","name":"stage_yaml","source":"a8dbf745d24b4e25.yaml","type":"application/yaml","size":684},{"uid":"b78307945a6c10e3","name":"rest_request","source":"b78307945a6c10e3.yaml","type":"application/yaml","size":161},{"uid":"4c1f6d9d83d59572","name":"rest_response","source":"4c1f6d9d83d59572.yaml","type":"application/yaml","size":604},{"uid":"216a0efaf46d4e20","name":"stage_yaml","source":"216a0efaf46d4e20.yaml","type":"application/yaml","size":684},{"uid":"f39aea8b6cd6a306","name":"rest_request","source":"f39aea8b6cd6a306.yaml","type":"application/yaml","size":161},{"uid":"54a248772c19bae6","name":"rest_response","source":"54a248772c19bae6.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678217654371,"stop":1678217654388,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"ea01a852158dd23e","name":"stage_yaml","source":"ea01a852158dd23e.yaml","type":"application/yaml","size":2346},{"uid":"4ca9ca6438977db1","name":"rest_request","source":"4ca9ca6438977db1.yaml","type":"application/yaml","size":161},{"uid":"2c51d8871a3ff56a","name":"rest_response","source":"2c51d8871a3ff56a.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target ComputeModule is powered off using power-status","time":{"start":1678217654389,"stop":1678217654400,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"1ec5b6d1d3f4116c","name":"stage_yaml","source":"1ec5b6d1d3f4116c.yaml","type":"application/yaml","size":1007},{"uid":"25a38cf8d6f115c0","name":"rest_request","source":"25a38cf8d6f115c0.yaml","type":"application/yaml","size":141},{"uid":"cd4b47891d17c84f","name":"rest_response","source":"cd4b47891d17c84f.yaml","type":"application/yaml","size":435}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"843bcd941c4c570f","name":"log","source":"843bcd941c4c570f.txt","type":"text/plain","size":57818}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"f01dc9c9016d"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":12},"items":[{"uid":"61704ade98b87efe","status":"passed","time":{"start":1676400720675,"stop":1676400738115,"duration":17440}},{"uid":"74297dbbe45d8fdc","status":"passed","time":{"start":1676399712857,"stop":1676399745455,"duration":32598}},{"uid":"430e8da183a79426","status":"passed","time":{"start":1676324438975,"stop":1676324456374,"duration":17399}},{"uid":"caf1adcd1885160a","status":"passed","time":{"start":1674515235621,"stop":1674515298692,"duration":63071}},{"uid":"e8123918c2f3b990","status":"passed","time":{"start":1674505330117,"stop":1674505393691,"duration":63574}},{"uid":"38e78f078ffa679e","status":"passed","time":{"start":1674500156434,"stop":1674500219557,"duration":63123}},{"uid":"66d7f65e4f39048f","status":"passed","time":{"start":1674257594808,"stop":1674257658055,"duration":63247}},{"uid":"f22da882bc595a31","status":"passed","time":{"start":1674254854503,"stop":1674254887145,"duration":32642}},{"uid":"7e9424f0e5edc2e4","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target ComputeModule off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080278093,"stop":1674080279225,"duration":1132}},{"uid":"fbec65fd7792ec60","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674075005310,"stop":1674075005347,"duration":37}},{"uid":"69162b911b72cac9","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074622666,"stop":1674074622700,"duration":34}}]},"tags":[]},"source":"e95909de15c825b2.json","parameterValues":[]}