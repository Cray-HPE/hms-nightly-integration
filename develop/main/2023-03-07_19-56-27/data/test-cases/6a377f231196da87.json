{"uid":"6a377f231196da87","name":"Verify power-cap for a single node","fullName":"api.4-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"c6d875da97f650251a49a7570403f1b8","time":{"start":1678218682410,"stop":1678218694125,"duration":11715},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678218682608,"stop":1678218682647,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"f07e9e64c2eea947","name":"stage_yaml","source":"f07e9e64c2eea947.yaml","type":"application/yaml","size":333},{"uid":"5648a6aa51288b48","name":"rest_request","source":"5648a6aa51288b48.yaml","type":"application/yaml","size":149},{"uid":"5784fb2d05e778b0","name":"rest_response","source":"5784fb2d05e778b0.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1678218682648,"stop":1678218682657,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"99394fa9c6a1a8e3","name":"stage_yaml","source":"99394fa9c6a1a8e3.yaml","type":"application/yaml","size":228},{"uid":"66e72192bb41ce03","name":"rest_request","source":"66e72192bb41ce03.yaml","type":"application/yaml","size":173},{"uid":"9a71c676f49e770c","name":"rest_response","source":"9a71c676f49e770c.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1678218682658,"stop":1678218682668,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"a10946750d4d70ac","name":"stage_yaml","source":"a10946750d4d70ac.yaml","type":"application/yaml","size":231},{"uid":"6f8828c9220d7c4e","name":"rest_request","source":"6f8828c9220d7c4e.yaml","type":"application/yaml","size":173},{"uid":"81c3a3ef482819e7","name":"rest_response","source":"81c3a3ef482819e7.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1678218682669,"stop":1678218682680,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"62b93462e83ccdee","name":"stage_yaml","source":"62b93462e83ccdee.yaml","type":"application/yaml","size":543},{"uid":"15bafa2e4c3d62e2","name":"rest_request","source":"15bafa2e4c3d62e2.yaml","type":"application/yaml","size":166},{"uid":"5a5078f9eff0bede","name":"rest_response","source":"5a5078f9eff0bede.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1678218682682,"stop":1678218684717,"duration":2035},"status":"passed","steps":[],"attachments":[{"uid":"c948fe7206950f1f","name":"stage_yaml","source":"c948fe7206950f1f.yaml","type":"application/yaml","size":661},{"uid":"e12ccd081136520b","name":"rest_request","source":"e12ccd081136520b.yaml","type":"application/yaml","size":159},{"uid":"69afc7b668a5c14d","name":"rest_response","source":"69afc7b668a5c14d.yaml","type":"application/yaml","size":680},{"uid":"85186ff555c74868","name":"stage_yaml","source":"85186ff555c74868.yaml","type":"application/yaml","size":661},{"uid":"5c58b74e8310ff71","name":"rest_request","source":"5c58b74e8310ff71.yaml","type":"application/yaml","size":159},{"uid":"6141a1e39b004e32","name":"rest_response","source":"6141a1e39b004e32.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1678218684718,"stop":1678218684737,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"aabc4f18f0c1aeef","name":"stage_yaml","source":"aabc4f18f0c1aeef.yaml","type":"application/yaml","size":3543},{"uid":"32c71072fe5e3dd7","name":"rest_request","source":"32c71072fe5e3dd7.yaml","type":"application/yaml","size":159},{"uid":"c5fefe0c3efd29ba","name":"rest_response","source":"c5fefe0c3efd29ba.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1678218684738,"stop":1678218684751,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"843c222f0708bd11","name":"stage_yaml","source":"843c222f0708bd11.yaml","type":"application/yaml","size":639},{"uid":"564c333247855049","name":"rest_request","source":"564c333247855049.yaml","type":"application/yaml","size":229},{"uid":"568200f2ea918297","name":"rest_response","source":"568200f2ea918297.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1678218684757,"stop":1678218686795,"duration":2038},"status":"passed","steps":[],"attachments":[{"uid":"4cf891cc163bcf3f","name":"stage_yaml","source":"4cf891cc163bcf3f.yaml","type":"application/yaml","size":679},{"uid":"c253d8f1c0674e82","name":"rest_request","source":"c253d8f1c0674e82.yaml","type":"application/yaml","size":159},{"uid":"3888c6092ce0bc01","name":"rest_response","source":"3888c6092ce0bc01.yaml","type":"application/yaml","size":619},{"uid":"72ebb98622ed9e16","name":"stage_yaml","source":"72ebb98622ed9e16.yaml","type":"application/yaml","size":679},{"uid":"13e078676c7b924","name":"rest_request","source":"13e078676c7b924.yaml","type":"application/yaml","size":159},{"uid":"f648570134600d08","name":"rest_response","source":"f648570134600d08.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1678218686796,"stop":1678218686815,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"504df4b6c5b7305a","name":"stage_yaml","source":"504df4b6c5b7305a.yaml","type":"application/yaml","size":3157},{"uid":"ddbaf05dddbf1505","name":"rest_request","source":"ddbaf05dddbf1505.yaml","type":"application/yaml","size":159},{"uid":"1f3cad3fdc2b4bec","name":"rest_response","source":"1f3cad3fdc2b4bec.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1678218686816,"stop":1678218686827,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"abd8d6df135571d6","name":"stage_yaml","source":"abd8d6df135571d6.yaml","type":"application/yaml","size":639},{"uid":"7a88b1c5034736d8","name":"rest_request","source":"7a88b1c5034736d8.yaml","type":"application/yaml","size":229},{"uid":"c7758fc028d64ca5","name":"rest_response","source":"c7758fc028d64ca5.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1678218686829,"stop":1678218688863,"duration":2034},"status":"passed","steps":[],"attachments":[{"uid":"f4f0132e86d7060","name":"stage_yaml","source":"f4f0132e86d7060.yaml","type":"application/yaml","size":679},{"uid":"c55d1407eb8efe1b","name":"rest_request","source":"c55d1407eb8efe1b.yaml","type":"application/yaml","size":159},{"uid":"f5677243e8704a87","name":"rest_response","source":"f5677243e8704a87.yaml","type":"application/yaml","size":619},{"uid":"39cdb79e2853b6c7","name":"stage_yaml","source":"39cdb79e2853b6c7.yaml","type":"application/yaml","size":679},{"uid":"d31922d5882b0de3","name":"rest_request","source":"d31922d5882b0de3.yaml","type":"application/yaml","size":159},{"uid":"66a47ba02a0f5b47","name":"rest_response","source":"66a47ba02a0f5b47.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1678218688864,"stop":1678218688882,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"5d90728225c8827b","name":"stage_yaml","source":"5d90728225c8827b.yaml","type":"application/yaml","size":3157},{"uid":"390b35503f0d8704","name":"rest_request","source":"390b35503f0d8704.yaml","type":"application/yaml","size":159},{"uid":"909b4c005d52a7b4","name":"rest_response","source":"909b4c005d52a7b4.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1678218688883,"stop":1678218688895,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"84791fb6676c9417","name":"stage_yaml","source":"84791fb6676c9417.yaml","type":"application/yaml","size":639},{"uid":"d60b3089b7b71239","name":"rest_request","source":"d60b3089b7b71239.yaml","type":"application/yaml","size":233},{"uid":"48f7d9daa9a4bac","name":"rest_response","source":"48f7d9daa9a4bac.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1678218688897,"stop":1678218689911,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"20fa335e2080420e","name":"stage_yaml","source":"20fa335e2080420e.yaml","type":"application/yaml","size":685},{"uid":"16bc6eb6f07327d5","name":"rest_request","source":"16bc6eb6f07327d5.yaml","type":"application/yaml","size":159},{"uid":"688a5d298076e749","name":"rest_response","source":"688a5d298076e749.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1678218689913,"stop":1678218689929,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"e334c5f0099f65b8","name":"stage_yaml","source":"e334c5f0099f65b8.yaml","type":"application/yaml","size":2234},{"uid":"12d0492a06302dae","name":"rest_request","source":"12d0492a06302dae.yaml","type":"application/yaml","size":159},{"uid":"c06261c590b481dd","name":"rest_response","source":"c06261c590b481dd.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1678218689930,"stop":1678218689943,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"37f7a26664d49e5c","name":"stage_yaml","source":"37f7a26664d49e5c.yaml","type":"application/yaml","size":631},{"uid":"4a690c96815e5fc2","name":"rest_request","source":"4a690c96815e5fc2.yaml","type":"application/yaml","size":227},{"uid":"46adb1a9294cd78d","name":"rest_response","source":"46adb1a9294cd78d.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1678218689949,"stop":1678218690963,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"4106f0593c96e67a","name":"stage_yaml","source":"4106f0593c96e67a.yaml","type":"application/yaml","size":685},{"uid":"bc27fed4b25e4fb8","name":"rest_request","source":"bc27fed4b25e4fb8.yaml","type":"application/yaml","size":159},{"uid":"ef006c9e2252938a","name":"rest_response","source":"ef006c9e2252938a.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1678218690964,"stop":1678218690981,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"3e44a7716c178994","name":"stage_yaml","source":"3e44a7716c178994.yaml","type":"application/yaml","size":2230},{"uid":"cd89af207571857","name":"rest_request","source":"cd89af207571857.yaml","type":"application/yaml","size":159},{"uid":"70bc010e9147770e","name":"rest_response","source":"70bc010e9147770e.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1678218690982,"stop":1678218690994,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"38fa51a088b590a6","name":"stage_yaml","source":"38fa51a088b590a6.yaml","type":"application/yaml","size":599},{"uid":"1139e40576231f01","name":"rest_request","source":"1139e40576231f01.yaml","type":"application/yaml","size":227},{"uid":"341233330395c440","name":"rest_response","source":"341233330395c440.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1678218690996,"stop":1678218693031,"duration":2035},"status":"passed","steps":[],"attachments":[{"uid":"628c7a84fa7eaef5","name":"stage_yaml","source":"628c7a84fa7eaef5.yaml","type":"application/yaml","size":679},{"uid":"17f6fe2a6b97a645","name":"rest_request","source":"17f6fe2a6b97a645.yaml","type":"application/yaml","size":159},{"uid":"2e92eefc048694f8","name":"rest_response","source":"2e92eefc048694f8.yaml","type":"application/yaml","size":617},{"uid":"d5e097992e108090","name":"stage_yaml","source":"d5e097992e108090.yaml","type":"application/yaml","size":679},{"uid":"f5a4c21d84721a37","name":"rest_request","source":"f5a4c21d84721a37.yaml","type":"application/yaml","size":159},{"uid":"d14d3bd0b5665438","name":"rest_response","source":"d14d3bd0b5665438.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1678218693033,"stop":1678218693051,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"269f32d9fd8d7c2a","name":"stage_yaml","source":"269f32d9fd8d7c2a.yaml","type":"application/yaml","size":3125},{"uid":"89a748b374aaae0a","name":"rest_request","source":"89a748b374aaae0a.yaml","type":"application/yaml","size":159},{"uid":"199ef9fd8b6fde68","name":"rest_response","source":"199ef9fd8b6fde68.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1678218693052,"stop":1678218693066,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"2fd70db0af283522","name":"stage_yaml","source":"2fd70db0af283522.yaml","type":"application/yaml","size":640},{"uid":"b3e99dad1c5b3028","name":"rest_request","source":"b3e99dad1c5b3028.yaml","type":"application/yaml","size":227},{"uid":"143a4546682b0b1d","name":"rest_response","source":"143a4546682b0b1d.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1678218693068,"stop":1678218694082,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"41a6b35a676dcb90","name":"stage_yaml","source":"41a6b35a676dcb90.yaml","type":"application/yaml","size":680},{"uid":"677a1acafad4c5ae","name":"rest_request","source":"677a1acafad4c5ae.yaml","type":"application/yaml","size":159},{"uid":"8c3de6a369fc2af1","name":"rest_response","source":"8c3de6a369fc2af1.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1678218694084,"stop":1678218694101,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"e74a2b85037d9a9e","name":"stage_yaml","source":"e74a2b85037d9a9e.yaml","type":"application/yaml","size":3160},{"uid":"b9455d3465b25a57","name":"rest_request","source":"b9455d3465b25a57.yaml","type":"application/yaml","size":159},{"uid":"81ea575e754e32d3","name":"rest_response","source":"81ea575e754e32d3.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1678218694102,"stop":1678218694113,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"cda0916b73405f4a","name":"stage_yaml","source":"cda0916b73405f4a.yaml","type":"application/yaml","size":276},{"uid":"51a18f369594644d","name":"rest_request","source":"51a18f369594644d.yaml","type":"application/yaml","size":173},{"uid":"20423b8bdc1f0367","name":"rest_response","source":"20423b8bdc1f0367.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1678218694114,"stop":1678218694124,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"1a3a90d2b49ef9d1","name":"stage_yaml","source":"1a3a90d2b49ef9d1.yaml","type":"application/yaml","size":256},{"uid":"22c0276182e02496","name":"rest_request","source":"22c0276182e02496.yaml","type":"application/yaml","size":172},{"uid":"be048c11a82e85f3","name":"rest_response","source":"be048c11a82e85f3.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"1f7745ae791d400e","name":"log","source":"1f7745ae791d400e.txt","type":"text/plain","size":15404}],"parameters":[],"stepsCount":26,"attachmentsCount":91,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"7b362249d34f"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":12},"items":[{"uid":"ed15d939de6e6799","status":"passed","time":{"start":1676401142951,"stop":1676401150591,"duration":7640}},{"uid":"4a8d9a48b057d3fd","status":"passed","time":{"start":1676400134448,"stop":1676400142057,"duration":7609}},{"uid":"e483cd0368874830","status":"passed","time":{"start":1676324862176,"stop":1676324869810,"duration":7634}},{"uid":"6bc8a408f848ec30","status":"passed","time":{"start":1674515958342,"stop":1674515965969,"duration":7627}},{"uid":"dadd5c6a490277f1","status":"passed","time":{"start":1674506262734,"stop":1674506270612,"duration":7878}},{"uid":"fde88d0f70db11f","status":"passed","time":{"start":1674501028224,"stop":1674501035884,"duration":7660}},{"uid":"e59016a27b9d527c","status":"passed","time":{"start":1674258436574,"stop":1674258444254,"duration":7680}},{"uid":"87edd083db7e8188","status":"passed","time":{"start":1674255758279,"stop":1674255765937,"duration":7658}},{"uid":"ab766ec590b371af","status":"passed","time":{"start":1674080377404,"stop":1674080386217,"duration":8813}},{"uid":"18bdd1e6f9cbca92","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674075100168,"stop":1674075100501,"duration":333}},{"uid":"ba0b0fdecc7b1247","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674074715145,"stop":1674074715443,"duration":298}}]},"tags":[]},"source":"6a377f231196da87.json","parameterValues":[]}