{"uid":"85abc9a55ca6ef16","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1678218699413,"stop":1678218699721,"duration":308},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1678218699426,"stop":1678218699461,"duration":35},"status":"passed","steps":[],"attachments":[{"uid":"e24a2fbcb238b1f","name":"stage_yaml","source":"e24a2fbcb238b1f.yaml","type":"application/yaml","size":457},{"uid":"53a522f5a238f50d","name":"rest_request","source":"53a522f5a238f50d.yaml","type":"application/yaml","size":149},{"uid":"b5236d8d5c9193c2","name":"rest_response","source":"b5236d8d5c9193c2.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1678218699462,"stop":1678218699515,"duration":53},"status":"passed","steps":[],"attachments":[{"uid":"c52147e36022786b","name":"stage_yaml","source":"c52147e36022786b.yaml","type":"application/yaml","size":472},{"uid":"998934cfe8b13ae1","name":"rest_request","source":"998934cfe8b13ae1.yaml","type":"application/yaml","size":173},{"uid":"60fcc083ab3ee77c","name":"rest_response","source":"60fcc083ab3ee77c.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1678218699516,"stop":1678218699526,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"349404912b1927d8","name":"stage_yaml","source":"349404912b1927d8.yaml","type":"application/yaml","size":247},{"uid":"216d2861b942137c","name":"rest_request","source":"216d2861b942137c.yaml","type":"application/yaml","size":173},{"uid":"e5cc6d817388bb6","name":"rest_response","source":"e5cc6d817388bb6.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1678218699527,"stop":1678218699535,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"7aadcd10f9a403c","name":"stage_yaml","source":"7aadcd10f9a403c.yaml","type":"application/yaml","size":247},{"uid":"e7842a03444dc4bb","name":"rest_request","source":"e7842a03444dc4bb.yaml","type":"application/yaml","size":173},{"uid":"9f8b86ce1b91b360","name":"rest_response","source":"9f8b86ce1b91b360.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1678218699536,"stop":1678218699551,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"8a5bc81aa63e46ba","name":"stage_yaml","source":"8a5bc81aa63e46ba.yaml","type":"application/yaml","size":1395},{"uid":"41a94a4af8f8161a","name":"rest_request","source":"41a94a4af8f8161a.yaml","type":"application/yaml","size":214},{"uid":"9d2225c174ed7b98","name":"rest_response","source":"9d2225c174ed7b98.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1678218699552,"stop":1678218699560,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"109a6c6bf7d8a9a6","name":"stage_yaml","source":"109a6c6bf7d8a9a6.yaml","type":"application/yaml","size":251},{"uid":"dc3d330b4bab015d","name":"rest_request","source":"dc3d330b4bab015d.yaml","type":"application/yaml","size":173},{"uid":"5d8f3f3915cff1d3","name":"rest_response","source":"5d8f3f3915cff1d3.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1678218699561,"stop":1678218699569,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"d0e754ee6075c04e","name":"stage_yaml","source":"d0e754ee6075c04e.yaml","type":"application/yaml","size":251},{"uid":"d8f034cee9d1cb76","name":"rest_request","source":"d8f034cee9d1cb76.yaml","type":"application/yaml","size":173},{"uid":"25e5418803c9798f","name":"rest_response","source":"25e5418803c9798f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1678218699570,"stop":1678218699591,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"f113793fc91d6e2a","name":"stage_yaml","source":"f113793fc91d6e2a.yaml","type":"application/yaml","size":903},{"uid":"af8ce66a6b98d851","name":"rest_request","source":"af8ce66a6b98d851.yaml","type":"application/yaml","size":286},{"uid":"830695431b551067","name":"rest_response","source":"830695431b551067.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1678218699591,"stop":1678218699615,"duration":24},"status":"passed","steps":[],"attachments":[{"uid":"9d6bb0e1ca3f58b4","name":"stage_yaml","source":"9d6bb0e1ca3f58b4.yaml","type":"application/yaml","size":2415},{"uid":"6bc32ad4954fb755","name":"rest_request","source":"6bc32ad4954fb755.yaml","type":"application/yaml","size":160},{"uid":"f02c4c3e2b864b4","name":"rest_response","source":"f02c4c3e2b864b4.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1678218699615,"stop":1678218699629,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"857bf36cfe5334f3","name":"stage_yaml","source":"857bf36cfe5334f3.yaml","type":"application/yaml","size":1466},{"uid":"a0baca2e9e8d2add","name":"rest_request","source":"a0baca2e9e8d2add.yaml","type":"application/yaml","size":218},{"uid":"54259b5103dc8281","name":"rest_response","source":"54259b5103dc8281.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1678218699630,"stop":1678218699645,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"bfc31f5392ceecd2","name":"stage_yaml","source":"bfc31f5392ceecd2.yaml","type":"application/yaml","size":1449},{"uid":"d96407fbed093e0e","name":"rest_request","source":"d96407fbed093e0e.yaml","type":"application/yaml","size":212},{"uid":"cfc9d09ed2174d78","name":"rest_response","source":"cfc9d09ed2174d78.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1678218699646,"stop":1678218699663,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"f78549932230af21","name":"stage_yaml","source":"f78549932230af21.yaml","type":"application/yaml","size":759},{"uid":"fd3ce10c9a0e05fe","name":"rest_request","source":"fd3ce10c9a0e05fe.yaml","type":"application/yaml","size":212},{"uid":"bf54fd1f8c0038bb","name":"rest_response","source":"bf54fd1f8c0038bb.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1678218699663,"stop":1678218699682,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"8fa712b7f47995d5","name":"stage_yaml","source":"8fa712b7f47995d5.yaml","type":"application/yaml","size":1477},{"uid":"48948a2957c7af25","name":"rest_request","source":"48948a2957c7af25.yaml","type":"application/yaml","size":212},{"uid":"9c5d75af0160780d","name":"rest_response","source":"9c5d75af0160780d.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1678218699683,"stop":1678218699691,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"f82831e5e6b0bd8e","name":"stage_yaml","source":"f82831e5e6b0bd8e.yaml","type":"application/yaml","size":247},{"uid":"34a66733e38d0951","name":"rest_request","source":"34a66733e38d0951.yaml","type":"application/yaml","size":173},{"uid":"76f7ae1b31bfd6bb","name":"rest_response","source":"76f7ae1b31bfd6bb.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1678218699692,"stop":1678218699702,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"b957d5483915f781","name":"stage_yaml","source":"b957d5483915f781.yaml","type":"application/yaml","size":279},{"uid":"53d6cc951f2dadbf","name":"rest_request","source":"53d6cc951f2dadbf.yaml","type":"application/yaml","size":172},{"uid":"658ddbcc02c6ad9","name":"rest_response","source":"658ddbcc02c6ad9.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1678218699702,"stop":1678218699712,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"4b9d61d38c38759b","name":"stage_yaml","source":"4b9d61d38c38759b.yaml","type":"application/yaml","size":247},{"uid":"815c6af9bdd70fde","name":"rest_request","source":"815c6af9bdd70fde.yaml","type":"application/yaml","size":173},{"uid":"fb0c0c97c32e0fee","name":"rest_response","source":"fb0c0c97c32e0fee.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1678218699713,"stop":1678218699721,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"5baf3206c7407013","name":"stage_yaml","source":"5baf3206c7407013.yaml","type":"application/yaml","size":279},{"uid":"a3095b529e3c0e0f","name":"rest_request","source":"a3095b529e3c0e0f.yaml","type":"application/yaml","size":173},{"uid":"6379e0a6b8fcaa12","name":"rest_response","source":"6379e0a6b8fcaa12.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"4e7d0674bc47"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":9},"items":[{"uid":"1842d17941e1070a","status":"passed","time":{"start":1674515668181,"stop":1674515668515,"duration":334}},{"uid":"22e78f499c7e01f7","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fc6d17dad30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1001, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674505831201,"stop":1674505831457,"duration":256}},{"uid":"40511fa35e2303dc","status":"passed","time":{"start":1674500620671,"stop":1674500621024,"duration":353}},{"uid":"cf66001f458ab575","status":"passed","time":{"start":1674258027431,"stop":1674258027774,"duration":343}},{"uid":"e346f5a249383d1","status":"passed","time":{"start":1674255379914,"stop":1674255380264,"duration":350}},{"uid":"b35bb70cce03f06e","status":"passed","time":{"start":1674080392244,"stop":1674080392612,"duration":368}},{"uid":"29d894711216bae8","status":"passed","time":{"start":1674075104227,"stop":1674075104612,"duration":385}},{"uid":"6017af36c03a18df","status":"passed","time":{"start":1674074718740,"stop":1674074719093,"duration":353}}]},"tags":[]},"source":"85abc9a55ca6ef16.json","parameterValues":[]}