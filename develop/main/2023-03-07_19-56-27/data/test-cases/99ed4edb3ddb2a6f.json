{"uid":"99ed4edb3ddb2a6f","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678217866036,"stop":1678217898717,"duration":32681},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678217866045,"stop":1678217866081,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"1e03a5babff7a3c8","name":"stage_yaml","source":"1e03a5babff7a3c8.yaml","type":"application/yaml","size":302},{"uid":"ca92e0832c24fe50","name":"rest_request","source":"ca92e0832c24fe50.yaml","type":"application/yaml","size":162},{"uid":"eb82643e21684ffa","name":"rest_response","source":"eb82643e21684ffa.yaml","type":"application/yaml","size":5749}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678217866081,"stop":1678217866109,"duration":28},"status":"passed","steps":[],"attachments":[{"uid":"cb46d5bb2f4712cd","name":"stage_yaml","source":"cb46d5bb2f4712cd.yaml","type":"application/yaml","size":797},{"uid":"88c4b7a133fe4e2b","name":"rest_request","source":"88c4b7a133fe4e2b.yaml","type":"application/yaml","size":216},{"uid":"ce7bef5180f9b7ab","name":"rest_response","source":"ce7bef5180f9b7ab.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678217866110,"stop":1678217897630,"duration":31520},"status":"passed","steps":[],"attachments":[{"uid":"b4cba692021fcac8","name":"stage_yaml","source":"b4cba692021fcac8.yaml","type":"application/yaml","size":682},{"uid":"e3f7998480e2eee5","name":"rest_request","source":"e3f7998480e2eee5.yaml","type":"application/yaml","size":161},{"uid":"b8fbdc864a11c4e6","name":"rest_response","source":"b8fbdc864a11c4e6.yaml","type":"application/yaml","size":608},{"uid":"eaf48e25648b2427","name":"stage_yaml","source":"eaf48e25648b2427.yaml","type":"application/yaml","size":682},{"uid":"f4aefba1ba7b9fe9","name":"rest_request","source":"f4aefba1ba7b9fe9.yaml","type":"application/yaml","size":161},{"uid":"72d0acadb7b337aa","name":"rest_response","source":"72d0acadb7b337aa.yaml","type":"application/yaml","size":608},{"uid":"7c51f07cb243fc6b","name":"stage_yaml","source":"7c51f07cb243fc6b.yaml","type":"application/yaml","size":682},{"uid":"c31c169f244d158f","name":"rest_request","source":"c31c169f244d158f.yaml","type":"application/yaml","size":161},{"uid":"ff35655537984fe3","name":"rest_response","source":"ff35655537984fe3.yaml","type":"application/yaml","size":608},{"uid":"ac4d39e8a9fee7f7","name":"stage_yaml","source":"ac4d39e8a9fee7f7.yaml","type":"application/yaml","size":682},{"uid":"a514589f3b8eeb69","name":"rest_request","source":"a514589f3b8eeb69.yaml","type":"application/yaml","size":161},{"uid":"26e99ed5ffa31a25","name":"rest_response","source":"26e99ed5ffa31a25.yaml","type":"application/yaml","size":608},{"uid":"349aedf881157ef7","name":"stage_yaml","source":"349aedf881157ef7.yaml","type":"application/yaml","size":682},{"uid":"6d29cae064d41ccf","name":"rest_request","source":"6d29cae064d41ccf.yaml","type":"application/yaml","size":161},{"uid":"ab0bcf4b1b36f8dd","name":"rest_response","source":"ab0bcf4b1b36f8dd.yaml","type":"application/yaml","size":608},{"uid":"cdadfd0fce67ebd6","name":"stage_yaml","source":"cdadfd0fce67ebd6.yaml","type":"application/yaml","size":682},{"uid":"6f7348867829d0f5","name":"rest_request","source":"6f7348867829d0f5.yaml","type":"application/yaml","size":161},{"uid":"11021ec8e93930d1","name":"rest_response","source":"11021ec8e93930d1.yaml","type":"application/yaml","size":608},{"uid":"3d723b017e493ebc","name":"stage_yaml","source":"3d723b017e493ebc.yaml","type":"application/yaml","size":682},{"uid":"f413a7e19ec61a","name":"rest_request","source":"f413a7e19ec61a.yaml","type":"application/yaml","size":161},{"uid":"10721c2ca3f07eef","name":"rest_response","source":"10721c2ca3f07eef.yaml","type":"application/yaml","size":608},{"uid":"b81716fb839ed68e","name":"stage_yaml","source":"b81716fb839ed68e.yaml","type":"application/yaml","size":682},{"uid":"af033d3ecbffe38d","name":"rest_request","source":"af033d3ecbffe38d.yaml","type":"application/yaml","size":161},{"uid":"c6a3df47bfa5f436","name":"rest_response","source":"c6a3df47bfa5f436.yaml","type":"application/yaml","size":608},{"uid":"6a9104848eb4a404","name":"stage_yaml","source":"6a9104848eb4a404.yaml","type":"application/yaml","size":682},{"uid":"5fedf6674c93c20b","name":"rest_request","source":"5fedf6674c93c20b.yaml","type":"application/yaml","size":161},{"uid":"f86923a70b455ec8","name":"rest_response","source":"f86923a70b455ec8.yaml","type":"application/yaml","size":608},{"uid":"bde4a38c51842ea5","name":"stage_yaml","source":"bde4a38c51842ea5.yaml","type":"application/yaml","size":682},{"uid":"2a838c520b6f233b","name":"rest_request","source":"2a838c520b6f233b.yaml","type":"application/yaml","size":161},{"uid":"f6e89860f775d1bf","name":"rest_response","source":"f6e89860f775d1bf.yaml","type":"application/yaml","size":608},{"uid":"23cd9d83f40468b5","name":"stage_yaml","source":"23cd9d83f40468b5.yaml","type":"application/yaml","size":682},{"uid":"98b3d0e22f013549","name":"rest_request","source":"98b3d0e22f013549.yaml","type":"application/yaml","size":161},{"uid":"e5a4381b85389c11","name":"rest_response","source":"e5a4381b85389c11.yaml","type":"application/yaml","size":608},{"uid":"a254c920f1b6268d","name":"stage_yaml","source":"a254c920f1b6268d.yaml","type":"application/yaml","size":682},{"uid":"ad9e0e8db08fce07","name":"rest_request","source":"ad9e0e8db08fce07.yaml","type":"application/yaml","size":161},{"uid":"ce498bbbedd6b7eb","name":"rest_response","source":"ce498bbbedd6b7eb.yaml","type":"application/yaml","size":608},{"uid":"26a4523ba11c5272","name":"stage_yaml","source":"26a4523ba11c5272.yaml","type":"application/yaml","size":682},{"uid":"a596b93167652554","name":"rest_request","source":"a596b93167652554.yaml","type":"application/yaml","size":161},{"uid":"b4c4137761278c28","name":"rest_response","source":"b4c4137761278c28.yaml","type":"application/yaml","size":608},{"uid":"dd4dd3c3c5a5598e","name":"stage_yaml","source":"dd4dd3c3c5a5598e.yaml","type":"application/yaml","size":682},{"uid":"92a632a965713756","name":"rest_request","source":"92a632a965713756.yaml","type":"application/yaml","size":161},{"uid":"a4f9f233f30e4323","name":"rest_response","source":"a4f9f233f30e4323.yaml","type":"application/yaml","size":608},{"uid":"e41e806c47ad03d1","name":"stage_yaml","source":"e41e806c47ad03d1.yaml","type":"application/yaml","size":682},{"uid":"5d9d5dc35a27679a","name":"rest_request","source":"5d9d5dc35a27679a.yaml","type":"application/yaml","size":161},{"uid":"ade31a33dd055ccc","name":"rest_response","source":"ade31a33dd055ccc.yaml","type":"application/yaml","size":608},{"uid":"d02b5277ffe3732f","name":"stage_yaml","source":"d02b5277ffe3732f.yaml","type":"application/yaml","size":682},{"uid":"35036343401a676a","name":"rest_request","source":"35036343401a676a.yaml","type":"application/yaml","size":161},{"uid":"469ad1ddb2c8d4e1","name":"rest_response","source":"469ad1ddb2c8d4e1.yaml","type":"application/yaml","size":608},{"uid":"ebe817cb69f5f91c","name":"stage_yaml","source":"ebe817cb69f5f91c.yaml","type":"application/yaml","size":682},{"uid":"4ed2830f8b5c2246","name":"rest_request","source":"4ed2830f8b5c2246.yaml","type":"application/yaml","size":161},{"uid":"69d112c1e5309de8","name":"rest_response","source":"69d112c1e5309de8.yaml","type":"application/yaml","size":608},{"uid":"1ef875ac67bf24f6","name":"stage_yaml","source":"1ef875ac67bf24f6.yaml","type":"application/yaml","size":682},{"uid":"4bfa793ddee39a6","name":"rest_request","source":"4bfa793ddee39a6.yaml","type":"application/yaml","size":161},{"uid":"586a67d295e734ca","name":"rest_response","source":"586a67d295e734ca.yaml","type":"application/yaml","size":608},{"uid":"5cf0532095bb05b","name":"stage_yaml","source":"5cf0532095bb05b.yaml","type":"application/yaml","size":682},{"uid":"a80d226458a444bd","name":"rest_request","source":"a80d226458a444bd.yaml","type":"application/yaml","size":161},{"uid":"5ab8e7f2b6f5d888","name":"rest_response","source":"5ab8e7f2b6f5d888.yaml","type":"application/yaml","size":608},{"uid":"1bbbe76509891808","name":"stage_yaml","source":"1bbbe76509891808.yaml","type":"application/yaml","size":682},{"uid":"add53842b10d9f09","name":"rest_request","source":"add53842b10d9f09.yaml","type":"application/yaml","size":161},{"uid":"b643dca0bd6ad5db","name":"rest_response","source":"b643dca0bd6ad5db.yaml","type":"application/yaml","size":608},{"uid":"7b0248e756fa51a7","name":"stage_yaml","source":"7b0248e756fa51a7.yaml","type":"application/yaml","size":682},{"uid":"5b44d1c989a51d1d","name":"rest_request","source":"5b44d1c989a51d1d.yaml","type":"application/yaml","size":161},{"uid":"eaf249cc4f991e9a","name":"rest_response","source":"eaf249cc4f991e9a.yaml","type":"application/yaml","size":608},{"uid":"baabc5882c22e8ba","name":"stage_yaml","source":"baabc5882c22e8ba.yaml","type":"application/yaml","size":682},{"uid":"14a6fb3967d8b81a","name":"rest_request","source":"14a6fb3967d8b81a.yaml","type":"application/yaml","size":161},{"uid":"41f6046a71833fec","name":"rest_response","source":"41f6046a71833fec.yaml","type":"application/yaml","size":608},{"uid":"8e9bf4b770148d40","name":"stage_yaml","source":"8e9bf4b770148d40.yaml","type":"application/yaml","size":682},{"uid":"99b4c0bb6a273f88","name":"rest_request","source":"99b4c0bb6a273f88.yaml","type":"application/yaml","size":161},{"uid":"9bc8c81b19fcb670","name":"rest_response","source":"9bc8c81b19fcb670.yaml","type":"application/yaml","size":608},{"uid":"b7d604cebde6b7f3","name":"stage_yaml","source":"b7d604cebde6b7f3.yaml","type":"application/yaml","size":682},{"uid":"3086588fb6156a4f","name":"rest_request","source":"3086588fb6156a4f.yaml","type":"application/yaml","size":161},{"uid":"41f4fa128e191a58","name":"rest_response","source":"41f4fa128e191a58.yaml","type":"application/yaml","size":608},{"uid":"c50dcd7b8241e22","name":"stage_yaml","source":"c50dcd7b8241e22.yaml","type":"application/yaml","size":682},{"uid":"bf04c650137ff391","name":"rest_request","source":"bf04c650137ff391.yaml","type":"application/yaml","size":161},{"uid":"ad34597fccd664a9","name":"rest_response","source":"ad34597fccd664a9.yaml","type":"application/yaml","size":608},{"uid":"1dc08c7aa5b43f0e","name":"stage_yaml","source":"1dc08c7aa5b43f0e.yaml","type":"application/yaml","size":682},{"uid":"11f15ff2eaf15372","name":"rest_request","source":"11f15ff2eaf15372.yaml","type":"application/yaml","size":161},{"uid":"9f86bd11b0f98c3f","name":"rest_response","source":"9f86bd11b0f98c3f.yaml","type":"application/yaml","size":608},{"uid":"92047751ddaa3787","name":"stage_yaml","source":"92047751ddaa3787.yaml","type":"application/yaml","size":682},{"uid":"1a0551ca84657a5a","name":"rest_request","source":"1a0551ca84657a5a.yaml","type":"application/yaml","size":161},{"uid":"a835608fc556d5e0","name":"rest_response","source":"a835608fc556d5e0.yaml","type":"application/yaml","size":608},{"uid":"be2e491e3b439e1d","name":"stage_yaml","source":"be2e491e3b439e1d.yaml","type":"application/yaml","size":682},{"uid":"aa3544dd8ce2249c","name":"rest_request","source":"aa3544dd8ce2249c.yaml","type":"application/yaml","size":161},{"uid":"eebf90dcc8d9e4e","name":"rest_response","source":"eebf90dcc8d9e4e.yaml","type":"application/yaml","size":608},{"uid":"216e6195c3d8efe4","name":"stage_yaml","source":"216e6195c3d8efe4.yaml","type":"application/yaml","size":682},{"uid":"c46b50b2d599b647","name":"rest_request","source":"c46b50b2d599b647.yaml","type":"application/yaml","size":161},{"uid":"a1cfaa1af22cb0d","name":"rest_response","source":"a1cfaa1af22cb0d.yaml","type":"application/yaml","size":608},{"uid":"63575b130f885ee1","name":"stage_yaml","source":"63575b130f885ee1.yaml","type":"application/yaml","size":682},{"uid":"4c6cb38c026472b7","name":"rest_request","source":"4c6cb38c026472b7.yaml","type":"application/yaml","size":161},{"uid":"f551e12927345183","name":"rest_response","source":"f551e12927345183.yaml","type":"application/yaml","size":608},{"uid":"9504a9fcbd8896a8","name":"stage_yaml","source":"9504a9fcbd8896a8.yaml","type":"application/yaml","size":682},{"uid":"549d2e0d2c5da7b5","name":"rest_request","source":"549d2e0d2c5da7b5.yaml","type":"application/yaml","size":161},{"uid":"154c796d97953fb1","name":"rest_response","source":"154c796d97953fb1.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678217897632,"stop":1678217897648,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"c7d4c9a8b5d34c22","name":"stage_yaml","source":"c7d4c9a8b5d34c22.yaml","type":"application/yaml","size":2389},{"uid":"1bf320a9e84d66c7","name":"rest_request","source":"1bf320a9e84d66c7.yaml","type":"application/yaml","size":161},{"uid":"6cc75b62135cdd1","name":"rest_response","source":"6cc75b62135cdd1.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678217897648,"stop":1678217897660,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"9b160687830a137b","name":"stage_yaml","source":"9b160687830a137b.yaml","type":"application/yaml","size":978},{"uid":"2d571ca68996874e","name":"rest_request","source":"2d571ca68996874e.yaml","type":"application/yaml","size":145},{"uid":"353f215e25e580e8","name":"rest_response","source":"353f215e25e580e8.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678217897661,"stop":1678217897671,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"93535d8f9af74b26","name":"stage_yaml","source":"93535d8f9af74b26.yaml","type":"application/yaml","size":763},{"uid":"d119fe73e4fbe9a1","name":"rest_request","source":"d119fe73e4fbe9a1.yaml","type":"application/yaml","size":211},{"uid":"8bd4f22fe5b1475c","name":"rest_response","source":"8bd4f22fe5b1475c.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678217897672,"stop":1678217897684,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"abcbce4a1cb73dea","name":"stage_yaml","source":"abcbce4a1cb73dea.yaml","type":"application/yaml","size":534},{"uid":"1131ff937247d7c","name":"rest_request","source":"1131ff937247d7c.yaml","type":"application/yaml","size":164},{"uid":"858d8ab9d502b450","name":"rest_response","source":"858d8ab9d502b450.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678217897686,"stop":1678217898699,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"a8c092646c9a1f36","name":"stage_yaml","source":"a8c092646c9a1f36.yaml","type":"application/yaml","size":703},{"uid":"ea07a36d41bd9e06","name":"rest_request","source":"ea07a36d41bd9e06.yaml","type":"application/yaml","size":161},{"uid":"d37e092bbc1a9fe9","name":"rest_response","source":"d37e092bbc1a9fe9.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678217898700,"stop":1678217898717,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"4302dd5aba6d3bf2","name":"stage_yaml","source":"4302dd5aba6d3bf2.yaml","type":"application/yaml","size":2481},{"uid":"dfed926c9182d072","name":"rest_request","source":"dfed926c9182d072.yaml","type":"application/yaml","size":161},{"uid":"a3fc8235808e29e9","name":"rest_response","source":"a3fc8235808e29e9.yaml","type":"application/yaml","size":619}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"51c4c522a8e98132","name":"log","source":"51c4c522a8e98132.txt","type":"text/plain","size":115829}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"f01dc9c9016d"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":12},"items":[{"uid":"c86146dec7c16d1e","status":"passed","time":{"start":1676400949598,"stop":1676400982240,"duration":32642}},{"uid":"39eac9a40cbdb3c7","status":"passed","time":{"start":1676399956477,"stop":1676399989102,"duration":32625}},{"uid":"7d14d510db4f3ad6","status":"passed","time":{"start":1676324668777,"stop":1676324701439,"duration":32662}},{"uid":"7d77006b0367179f","status":"passed","time":{"start":1674515479474,"stop":1674515481658,"duration":2184}},{"uid":"42251583897b70fe","status":"passed","time":{"start":1674505607794,"stop":1674505625373,"duration":17579}},{"uid":"8457d14d68377bd0","status":"passed","time":{"start":1674500431023,"stop":1674500463694,"duration":32671}},{"uid":"4657babf55609585","status":"passed","time":{"start":1674257839299,"stop":1674257872071,"duration":32772}},{"uid":"61f114104b193ad3","status":"passed","time":{"start":1674255098685,"stop":1674255146652,"duration":47967}},{"uid":"7e69fbb5c356d59","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080284700,"stop":1674080284747,"duration":47}},{"uid":"787905fa4e3a30e0","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005693,"stop":1674075005733,"duration":40}},{"uid":"f46c206fec567553","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623022,"stop":1674074623054,"duration":32}}]},"tags":[]},"source":"99ed4edb3ddb2a6f.json","parameterValues":[]}