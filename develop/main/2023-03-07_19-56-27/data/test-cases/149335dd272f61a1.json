{"uid":"149335dd272f61a1","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1678217961039,"stop":1678217993697,"duration":32658},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678217961048,"stop":1678217961084,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"a66a9826f494fbb7","name":"stage_yaml","source":"a66a9826f494fbb7.yaml","type":"application/yaml","size":302},{"uid":"cb91ae1c5c060245","name":"rest_request","source":"cb91ae1c5c060245.yaml","type":"application/yaml","size":162},{"uid":"d3580d5f0c04d1bc","name":"rest_response","source":"d3580d5f0c04d1bc.yaml","type":"application/yaml","size":5750}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678217961085,"stop":1678217961101,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"380469534f9f999b","name":"stage_yaml","source":"380469534f9f999b.yaml","type":"application/yaml","size":797},{"uid":"94403d861e3e1ef3","name":"rest_request","source":"94403d861e3e1ef3.yaml","type":"application/yaml","size":216},{"uid":"3e326d8182c5b2dc","name":"rest_response","source":"3e326d8182c5b2dc.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678217961103,"stop":1678217992623,"duration":31520},"status":"passed","steps":[],"attachments":[{"uid":"e637d402020cbe76","name":"stage_yaml","source":"e637d402020cbe76.yaml","type":"application/yaml","size":682},{"uid":"9c58877132d69803","name":"rest_request","source":"9c58877132d69803.yaml","type":"application/yaml","size":161},{"uid":"7b1a881afbdc218b","name":"rest_response","source":"7b1a881afbdc218b.yaml","type":"application/yaml","size":608},{"uid":"e7a12d716c85098e","name":"stage_yaml","source":"e7a12d716c85098e.yaml","type":"application/yaml","size":682},{"uid":"cbb1c4c408534fb6","name":"rest_request","source":"cbb1c4c408534fb6.yaml","type":"application/yaml","size":161},{"uid":"2c55cef5492deb5e","name":"rest_response","source":"2c55cef5492deb5e.yaml","type":"application/yaml","size":608},{"uid":"636c9ba6cc005c8","name":"stage_yaml","source":"636c9ba6cc005c8.yaml","type":"application/yaml","size":682},{"uid":"d433b3d6955e8846","name":"rest_request","source":"d433b3d6955e8846.yaml","type":"application/yaml","size":161},{"uid":"97ac9c69c27f4008","name":"rest_response","source":"97ac9c69c27f4008.yaml","type":"application/yaml","size":608},{"uid":"8cdebb1eb2e19806","name":"stage_yaml","source":"8cdebb1eb2e19806.yaml","type":"application/yaml","size":682},{"uid":"26a02c3923a70e73","name":"rest_request","source":"26a02c3923a70e73.yaml","type":"application/yaml","size":161},{"uid":"b546f28e4d6f384a","name":"rest_response","source":"b546f28e4d6f384a.yaml","type":"application/yaml","size":608},{"uid":"da72c90c7448b83a","name":"stage_yaml","source":"da72c90c7448b83a.yaml","type":"application/yaml","size":682},{"uid":"2520a9673a4bc886","name":"rest_request","source":"2520a9673a4bc886.yaml","type":"application/yaml","size":161},{"uid":"8bac4afc2aef6b08","name":"rest_response","source":"8bac4afc2aef6b08.yaml","type":"application/yaml","size":608},{"uid":"a87d83b063bfb7c4","name":"stage_yaml","source":"a87d83b063bfb7c4.yaml","type":"application/yaml","size":682},{"uid":"efed6c8156832fd4","name":"rest_request","source":"efed6c8156832fd4.yaml","type":"application/yaml","size":161},{"uid":"8d6f64c11b4a5214","name":"rest_response","source":"8d6f64c11b4a5214.yaml","type":"application/yaml","size":608},{"uid":"e5a4c71845004997","name":"stage_yaml","source":"e5a4c71845004997.yaml","type":"application/yaml","size":682},{"uid":"d0523234e9f9a582","name":"rest_request","source":"d0523234e9f9a582.yaml","type":"application/yaml","size":161},{"uid":"878c1483904e069","name":"rest_response","source":"878c1483904e069.yaml","type":"application/yaml","size":608},{"uid":"22c6dfe97f5ccdb","name":"stage_yaml","source":"22c6dfe97f5ccdb.yaml","type":"application/yaml","size":682},{"uid":"14fc714d876d4b6b","name":"rest_request","source":"14fc714d876d4b6b.yaml","type":"application/yaml","size":161},{"uid":"51a779ab82587242","name":"rest_response","source":"51a779ab82587242.yaml","type":"application/yaml","size":608},{"uid":"64f52b2368ff5b3d","name":"stage_yaml","source":"64f52b2368ff5b3d.yaml","type":"application/yaml","size":682},{"uid":"1dd3188d5668110b","name":"rest_request","source":"1dd3188d5668110b.yaml","type":"application/yaml","size":161},{"uid":"f84e1981635565e1","name":"rest_response","source":"f84e1981635565e1.yaml","type":"application/yaml","size":608},{"uid":"9bdb039385f66add","name":"stage_yaml","source":"9bdb039385f66add.yaml","type":"application/yaml","size":682},{"uid":"81e93dcec105870b","name":"rest_request","source":"81e93dcec105870b.yaml","type":"application/yaml","size":161},{"uid":"8d1c44fbe30f3078","name":"rest_response","source":"8d1c44fbe30f3078.yaml","type":"application/yaml","size":608},{"uid":"f533209fddbedcf9","name":"stage_yaml","source":"f533209fddbedcf9.yaml","type":"application/yaml","size":682},{"uid":"5cdd72903e5b1791","name":"rest_request","source":"5cdd72903e5b1791.yaml","type":"application/yaml","size":161},{"uid":"5204d2e87db49fbd","name":"rest_response","source":"5204d2e87db49fbd.yaml","type":"application/yaml","size":608},{"uid":"2b3757d74b72b79","name":"stage_yaml","source":"2b3757d74b72b79.yaml","type":"application/yaml","size":682},{"uid":"2af4fc40c356dfd7","name":"rest_request","source":"2af4fc40c356dfd7.yaml","type":"application/yaml","size":161},{"uid":"4ce939458e133a88","name":"rest_response","source":"4ce939458e133a88.yaml","type":"application/yaml","size":608},{"uid":"5768dfe779a413e8","name":"stage_yaml","source":"5768dfe779a413e8.yaml","type":"application/yaml","size":682},{"uid":"6e22fea212e8f75d","name":"rest_request","source":"6e22fea212e8f75d.yaml","type":"application/yaml","size":161},{"uid":"7af97f9bb3da54f5","name":"rest_response","source":"7af97f9bb3da54f5.yaml","type":"application/yaml","size":608},{"uid":"f87def192cb76020","name":"stage_yaml","source":"f87def192cb76020.yaml","type":"application/yaml","size":682},{"uid":"6d2c9219b8c54805","name":"rest_request","source":"6d2c9219b8c54805.yaml","type":"application/yaml","size":161},{"uid":"662dca335d52a872","name":"rest_response","source":"662dca335d52a872.yaml","type":"application/yaml","size":608},{"uid":"1176307c12a9fb07","name":"stage_yaml","source":"1176307c12a9fb07.yaml","type":"application/yaml","size":682},{"uid":"812817b25c3d36ee","name":"rest_request","source":"812817b25c3d36ee.yaml","type":"application/yaml","size":161},{"uid":"ac1927e2003e9b52","name":"rest_response","source":"ac1927e2003e9b52.yaml","type":"application/yaml","size":608},{"uid":"8ff00315e0477181","name":"stage_yaml","source":"8ff00315e0477181.yaml","type":"application/yaml","size":682},{"uid":"57c025a9bc46cc4b","name":"rest_request","source":"57c025a9bc46cc4b.yaml","type":"application/yaml","size":161},{"uid":"a65d2f7d1465c6c2","name":"rest_response","source":"a65d2f7d1465c6c2.yaml","type":"application/yaml","size":608},{"uid":"6bdb58d76b552940","name":"stage_yaml","source":"6bdb58d76b552940.yaml","type":"application/yaml","size":682},{"uid":"19ffb2df80710864","name":"rest_request","source":"19ffb2df80710864.yaml","type":"application/yaml","size":161},{"uid":"bbfb57a3d23a7970","name":"rest_response","source":"bbfb57a3d23a7970.yaml","type":"application/yaml","size":608},{"uid":"4a062c4b7e3685e0","name":"stage_yaml","source":"4a062c4b7e3685e0.yaml","type":"application/yaml","size":682},{"uid":"8f38a0d6b2b0c500","name":"rest_request","source":"8f38a0d6b2b0c500.yaml","type":"application/yaml","size":161},{"uid":"2845e01f9398a5df","name":"rest_response","source":"2845e01f9398a5df.yaml","type":"application/yaml","size":608},{"uid":"19b5a30aeebd2ab2","name":"stage_yaml","source":"19b5a30aeebd2ab2.yaml","type":"application/yaml","size":682},{"uid":"31a45021a346b225","name":"rest_request","source":"31a45021a346b225.yaml","type":"application/yaml","size":161},{"uid":"b60a08143ae9b752","name":"rest_response","source":"b60a08143ae9b752.yaml","type":"application/yaml","size":608},{"uid":"9efbb0437b2868fe","name":"stage_yaml","source":"9efbb0437b2868fe.yaml","type":"application/yaml","size":682},{"uid":"b0e0d04dc20151b1","name":"rest_request","source":"b0e0d04dc20151b1.yaml","type":"application/yaml","size":161},{"uid":"59f34edb48c544b","name":"rest_response","source":"59f34edb48c544b.yaml","type":"application/yaml","size":608},{"uid":"8b463a49eb9c4475","name":"stage_yaml","source":"8b463a49eb9c4475.yaml","type":"application/yaml","size":682},{"uid":"692e8ecc3a20f20e","name":"rest_request","source":"692e8ecc3a20f20e.yaml","type":"application/yaml","size":161},{"uid":"fe664942532ae110","name":"rest_response","source":"fe664942532ae110.yaml","type":"application/yaml","size":608},{"uid":"aadfcd5cdc29c001","name":"stage_yaml","source":"aadfcd5cdc29c001.yaml","type":"application/yaml","size":682},{"uid":"cde16624b0ff98a0","name":"rest_request","source":"cde16624b0ff98a0.yaml","type":"application/yaml","size":161},{"uid":"450ce43eb939f88d","name":"rest_response","source":"450ce43eb939f88d.yaml","type":"application/yaml","size":608},{"uid":"4fd28902100d7d92","name":"stage_yaml","source":"4fd28902100d7d92.yaml","type":"application/yaml","size":682},{"uid":"f1b7c33b4014f2de","name":"rest_request","source":"f1b7c33b4014f2de.yaml","type":"application/yaml","size":161},{"uid":"a990ccef22910cdc","name":"rest_response","source":"a990ccef22910cdc.yaml","type":"application/yaml","size":608},{"uid":"a56aeb6e205aaa22","name":"stage_yaml","source":"a56aeb6e205aaa22.yaml","type":"application/yaml","size":682},{"uid":"528da87af7363877","name":"rest_request","source":"528da87af7363877.yaml","type":"application/yaml","size":161},{"uid":"21d3bb5f6fc34c31","name":"rest_response","source":"21d3bb5f6fc34c31.yaml","type":"application/yaml","size":608},{"uid":"9e8851f189c42503","name":"stage_yaml","source":"9e8851f189c42503.yaml","type":"application/yaml","size":682},{"uid":"843838b6101728c5","name":"rest_request","source":"843838b6101728c5.yaml","type":"application/yaml","size":161},{"uid":"222dc97bf795f1d","name":"rest_response","source":"222dc97bf795f1d.yaml","type":"application/yaml","size":608},{"uid":"38cdd8bc66b88a8b","name":"stage_yaml","source":"38cdd8bc66b88a8b.yaml","type":"application/yaml","size":682},{"uid":"477a89c0ac3ed5f1","name":"rest_request","source":"477a89c0ac3ed5f1.yaml","type":"application/yaml","size":161},{"uid":"fb8c071be9fb02af","name":"rest_response","source":"fb8c071be9fb02af.yaml","type":"application/yaml","size":608},{"uid":"48faa3d97582f752","name":"stage_yaml","source":"48faa3d97582f752.yaml","type":"application/yaml","size":682},{"uid":"e852b7ae784026a8","name":"rest_request","source":"e852b7ae784026a8.yaml","type":"application/yaml","size":161},{"uid":"a6231e2d3c9fc972","name":"rest_response","source":"a6231e2d3c9fc972.yaml","type":"application/yaml","size":608},{"uid":"9e108722049dccc5","name":"stage_yaml","source":"9e108722049dccc5.yaml","type":"application/yaml","size":682},{"uid":"276b87d11182f47f","name":"rest_request","source":"276b87d11182f47f.yaml","type":"application/yaml","size":161},{"uid":"80e9038317a5bdac","name":"rest_response","source":"80e9038317a5bdac.yaml","type":"application/yaml","size":608},{"uid":"b7712e2594bc6d83","name":"stage_yaml","source":"b7712e2594bc6d83.yaml","type":"application/yaml","size":682},{"uid":"a63bf322ddbdb274","name":"rest_request","source":"a63bf322ddbdb274.yaml","type":"application/yaml","size":161},{"uid":"dcd44906ec898190","name":"rest_response","source":"dcd44906ec898190.yaml","type":"application/yaml","size":608},{"uid":"96032772ab9de1ae","name":"stage_yaml","source":"96032772ab9de1ae.yaml","type":"application/yaml","size":682},{"uid":"1a71a66a7ad73ad5","name":"rest_request","source":"1a71a66a7ad73ad5.yaml","type":"application/yaml","size":161},{"uid":"cc536db2d82fa4ee","name":"rest_response","source":"cc536db2d82fa4ee.yaml","type":"application/yaml","size":608},{"uid":"a54fb4aeb58de903","name":"stage_yaml","source":"a54fb4aeb58de903.yaml","type":"application/yaml","size":682},{"uid":"53b0039856e5a8b1","name":"rest_request","source":"53b0039856e5a8b1.yaml","type":"application/yaml","size":161},{"uid":"5c12bffb05ae220","name":"rest_response","source":"5c12bffb05ae220.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1678217992624,"stop":1678217992640,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7654f8d1aeea7d19","name":"stage_yaml","source":"7654f8d1aeea7d19.yaml","type":"application/yaml","size":2395},{"uid":"b3ec82be65ebba17","name":"rest_request","source":"b3ec82be65ebba17.yaml","type":"application/yaml","size":161},{"uid":"e14e587e13e66566","name":"rest_response","source":"e14e587e13e66566.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678217992641,"stop":1678217992652,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"1990943e18031f1e","name":"stage_yaml","source":"1990943e18031f1e.yaml","type":"application/yaml","size":978},{"uid":"cf2325c79c8fb708","name":"rest_request","source":"cf2325c79c8fb708.yaml","type":"application/yaml","size":145},{"uid":"94768ea3f261e9de","name":"rest_response","source":"94768ea3f261e9de.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1678217992653,"stop":1678217992664,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"20ae139559ee3e40","name":"stage_yaml","source":"20ae139559ee3e40.yaml","type":"application/yaml","size":816},{"uid":"a761c5502d31fd92","name":"rest_request","source":"a761c5502d31fd92.yaml","type":"application/yaml","size":219},{"uid":"22fefd72fc3b9fb0","name":"rest_response","source":"22fefd72fc3b9fb0.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1678217992666,"stop":1678217993680,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"6ded372f76265679","name":"stage_yaml","source":"6ded372f76265679.yaml","type":"application/yaml","size":693},{"uid":"146db82d14acf644","name":"rest_request","source":"146db82d14acf644.yaml","type":"application/yaml","size":161},{"uid":"5fd3b3462cb22fbf","name":"rest_response","source":"5fd3b3462cb22fbf.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1678217993681,"stop":1678217993696,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"da547c0f00130599","name":"stage_yaml","source":"da547c0f00130599.yaml","type":"application/yaml","size":2549},{"uid":"92e7618cdc29efa4","name":"rest_request","source":"92e7618cdc29efa4.yaml","type":"application/yaml","size":161},{"uid":"8a9b59ad7882a4f1","name":"rest_response","source":"8a9b59ad7882a4f1.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"b14d7f9281bd9db9","name":"log","source":"b14d7f9281bd9db9.txt","type":"text/plain","size":115829}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"f01dc9c9016d"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":12},"items":[{"uid":"be4b6438db5b348d","status":"passed","time":{"start":1676401045550,"stop":1676401078169,"duration":32619}},{"uid":"56e8f7fd60dbbc7f","status":"passed","time":{"start":1676400037143,"stop":1676400069726,"duration":32583}},{"uid":"dadcf9b04d98696f","status":"passed","time":{"start":1676324764693,"stop":1676324797333,"duration":32640}},{"uid":"e68cd2560b96d8bc","status":"passed","time":{"start":1674515544898,"stop":1674515577491,"duration":32593}},{"uid":"75bc9fe4ff46b849","status":"passed","time":{"start":1674505718646,"stop":1674505720853,"duration":2207}},{"uid":"7994173b87f76ee4","status":"passed","time":{"start":1674500526963,"stop":1674500529126,"duration":2163}},{"uid":"d3c1fd66308b1580","status":"passed","time":{"start":1674257934555,"stop":1674257936714,"duration":2159}},{"uid":"7378a7cdf4d39cac","status":"passed","time":{"start":1674255255677,"stop":1674255273083,"duration":17406}},{"uid":"fc16bb501e6af1dd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0feda3bc10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080286390,"stop":1674080286435,"duration":45}},{"uid":"34e35d6cba29643d","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674075005824,"stop":1674075005855,"duration":31}},{"uid":"424446345afae529","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074623136,"stop":1674074623166,"duration":30}}]},"tags":[]},"source":"149335dd272f61a1.json","parameterValues":[]}