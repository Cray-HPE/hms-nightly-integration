- name: Verify /partitions/names GET method test partitions present
  request:
    url: "{hsm_base_url}/hsm/v2/partitions/names"
    method: GET
    verify: !bool "{verify}"
  response:
    status_code: 200
    verify_response_with:
      - function: tavern.testutils.helpers:validate_pykwalify
        extra_kwargs:
          schema:
            type: seq
            required: True
            matching: all
            sequence:
              - type: str
      - function: tavern.testutils.helpers:validate_content
        extra_kwargs:
          comparisons:
            - jmespath: "length(@)"
              operator: "gt"
              expected: 1
            - jmespath: "contains((@), 'p98')"
              operator: "eq"
              expected: True
            - jmespath: "contains((@), 'p99')"
              operator: "eq"
              expected: True


