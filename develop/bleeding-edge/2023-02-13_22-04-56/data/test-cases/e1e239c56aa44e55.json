{"uid":"e1e239c56aa44e55","name":"bssAPIbootscript","fullName":"api.3-destructive.test_bootscript.tavern#bssAPIbootscript","historyId":"ff44602a431006bd697b1eab372c4466","time":{"start":1676325894224,"stop":1676325894308,"duration":84},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s6b1n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1027' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s6b1n1'\n  node_xname = 'x1000c0s6b1n1'\n  node_nid = '1027'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s6b1n1'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s6b1n1\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1027\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s6b1n1' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1027' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s6b1n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1027' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s6b1n1'\n  node_xname = 'x1000c0s6b1n1'\n  node_nid = '1027'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s6b1n1'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s6b1n1\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1027\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s6b1n1' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1027' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1","steps":[{"name":"Stage 0: Query HSM State Components for a compute node","time":{"start":1676325894233,"stop":1676325894268,"duration":35},"status":"passed","steps":[],"attachments":[{"uid":"60e8a2cc3abff112","name":"stage_yaml","source":"60e8a2cc3abff112.yaml","type":"application/yaml","size":311},{"uid":"3dc491654773879","name":"rest_request","source":"3dc491654773879.yaml","type":"application/yaml","size":149},{"uid":"f139dbac1407a07e","name":"rest_response","source":"f139dbac1407a07e.yaml","type":"application/yaml","size":5770}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Query HSM EthernetInterfaces for the compute nodes MAC address","time":{"start":1676325894269,"stop":1676325894277,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"54b42fc7024b34a2","name":"stage_yaml","source":"54b42fc7024b34a2.yaml","type":"application/yaml","size":312},{"uid":"8aeb71e0d58bfea3","name":"rest_request","source":"8aeb71e0d58bfea3.yaml","type":"application/yaml","size":164},{"uid":"e88bfc3a7314b30c","name":"rest_response","source":"e88bfc3a7314b30c.yaml","type":"application/yaml","size":348}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Create or update Bootparameter for compute node","time":{"start":1676325894277,"stop":1676325894290,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"dd38d8d365d30f49","name":"stage_yaml","source":"dd38d8d365d30f49.yaml","type":"application/yaml","size":417},{"uid":"5d23f3518317efc7","name":"rest_request","source":"5d23f3518317efc7.yaml","type":"application/yaml","size":323},{"uid":"edb5e62e754821cb","name":"rest_response","source":"edb5e62e754821cb.yaml","type":"application/yaml","size":230}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Query bootscript by xname","time":{"start":1676325894291,"stop":1676325894306,"duration":15},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s6b1n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1027' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f6bda205820>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:40:87:70&retry=1\n\n\n\n","statusTrace":"  File \"/usr/lib/python3.9/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/usr/lib/python3.9/site-packages/tavern/util/retry.py\", line 31, in wrapped\n    res = fn(*args, **kwargs)\n  File \"/usr/lib/python3.9/site-packages/tavern/core.py\", line 270, in run_stage\n    saved = v.verify(response)\n  File \"/usr/lib/python3.9/site-packages/tavern/_plugins/rest/response.py\", line 201, in verify\n    raise exceptions.TestFailError(\n","steps":[],"attachments":[{"uid":"c795401617db54b4","name":"stage_yaml","source":"c795401617db54b4.yaml","type":"application/yaml","size":1301},{"uid":"b5bd3a93ccaa8969","name":"rest_request","source":"b5bd3a93ccaa8969.yaml","type":"application/yaml","size":151},{"uid":"f25374c81319f359","name":"rest_response","source":"f25374c81319f359.yaml","type":"application/yaml","size":167}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"f0d81d9ad85cf055","name":"error_output","source":"f0d81d9ad85cf055.attach","type":"text/plain","size":8257},{"uid":"39470343e55c8d07","name":"log","source":"39470343e55c8d07.txt","type":"text/plain","size":9641}],"parameters":[],"stepsCount":4,"attachmentsCount":14,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-bss-hmth-test"},{"name":"suite","value":"3-destructive"},{"name":"host","value":"abfac8d7598b"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-destructive.test_bootscript.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"e1e239c56aa44e55.json","parameterValues":[]}