{"uid":"92a0341aa609975b","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1676400721652,"stop":1676400739246,"duration":17594},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676400721665,"stop":1676400721713,"duration":48},"status":"passed","steps":[],"attachments":[{"uid":"9aa38aefb7112c75","name":"stage_yaml","source":"9aa38aefb7112c75.yaml","type":"application/yaml","size":302},{"uid":"7c37386bff30cf26","name":"rest_request","source":"7c37386bff30cf26.yaml","type":"application/yaml","size":162},{"uid":"179d63170da11271","name":"rest_response","source":"179d63170da11271.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676400721714,"stop":1676400721742,"duration":28},"status":"passed","steps":[],"attachments":[{"uid":"fef552212e88af6","name":"stage_yaml","source":"fef552212e88af6.yaml","type":"application/yaml","size":797},{"uid":"fcdf98bd46a86f05","name":"rest_request","source":"fcdf98bd46a86f05.yaml","type":"application/yaml","size":216},{"uid":"f6628a15a46e8a2e","name":"rest_response","source":"f6628a15a46e8a2e.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676400721744,"stop":1676400722764,"duration":1020},"status":"passed","steps":[],"attachments":[{"uid":"2416c0bf85fc89ae","name":"stage_yaml","source":"2416c0bf85fc89ae.yaml","type":"application/yaml","size":682},{"uid":"d138e76db64074ae","name":"rest_request","source":"d138e76db64074ae.yaml","type":"application/yaml","size":161},{"uid":"db002d4cd9a2711b","name":"rest_response","source":"db002d4cd9a2711b.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1676400722766,"stop":1676400722788,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"574a87864592d0d5","name":"stage_yaml","source":"574a87864592d0d5.yaml","type":"application/yaml","size":2389},{"uid":"507351c1e7e35049","name":"rest_request","source":"507351c1e7e35049.yaml","type":"application/yaml","size":161},{"uid":"31e1aa99db70931b","name":"rest_response","source":"31e1aa99db70931b.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676400722789,"stop":1676400722809,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"925aaa79f4f4fdc0","name":"stage_yaml","source":"925aaa79f4f4fdc0.yaml","type":"application/yaml","size":978},{"uid":"d912675d98121382","name":"rest_request","source":"d912675d98121382.yaml","type":"application/yaml","size":145},{"uid":"e848b60f2e25ccfd","name":"rest_response","source":"e848b60f2e25ccfd.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1676400722810,"stop":1676400722832,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"a2d47cbd80bb8c9b","name":"stage_yaml","source":"a2d47cbd80bb8c9b.yaml","type":"application/yaml","size":763},{"uid":"4f14498eca34e6b5","name":"rest_request","source":"4f14498eca34e6b5.yaml","type":"application/yaml","size":211},{"uid":"2a8add3c37222853","name":"rest_response","source":"2a8add3c37222853.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1676400722834,"stop":1676400722863,"duration":29},"status":"passed","steps":[],"attachments":[{"uid":"668904e5d560d883","name":"stage_yaml","source":"668904e5d560d883.yaml","type":"application/yaml","size":534},{"uid":"898d7fb6633747c1","name":"rest_request","source":"898d7fb6633747c1.yaml","type":"application/yaml","size":164},{"uid":"d5d3588b073c8e47","name":"rest_response","source":"d5d3588b073c8e47.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1676400722866,"stop":1676400739222,"duration":16356},"status":"passed","steps":[],"attachments":[{"uid":"71d4fec5927fdd27","name":"stage_yaml","source":"71d4fec5927fdd27.yaml","type":"application/yaml","size":703},{"uid":"f99873907afb8e2","name":"rest_request","source":"f99873907afb8e2.yaml","type":"application/yaml","size":161},{"uid":"5f2df9c04e840e67","name":"rest_response","source":"5f2df9c04e840e67.yaml","type":"application/yaml","size":598},{"uid":"22a633532bf79d99","name":"stage_yaml","source":"22a633532bf79d99.yaml","type":"application/yaml","size":703},{"uid":"e56248d57b9d7333","name":"rest_request","source":"e56248d57b9d7333.yaml","type":"application/yaml","size":161},{"uid":"2f3a2c518140ba2b","name":"rest_response","source":"2f3a2c518140ba2b.yaml","type":"application/yaml","size":598},{"uid":"93b960792aed60ad","name":"stage_yaml","source":"93b960792aed60ad.yaml","type":"application/yaml","size":703},{"uid":"692891d87b80c100","name":"rest_request","source":"692891d87b80c100.yaml","type":"application/yaml","size":161},{"uid":"66b6e728a2e7d5cf","name":"rest_response","source":"66b6e728a2e7d5cf.yaml","type":"application/yaml","size":598},{"uid":"5457ad461fa85e0a","name":"stage_yaml","source":"5457ad461fa85e0a.yaml","type":"application/yaml","size":703},{"uid":"650cd6127ad2a1e7","name":"rest_request","source":"650cd6127ad2a1e7.yaml","type":"application/yaml","size":161},{"uid":"54647c6deb5afa03","name":"rest_response","source":"54647c6deb5afa03.yaml","type":"application/yaml","size":598},{"uid":"633bd77bbbe7a779","name":"stage_yaml","source":"633bd77bbbe7a779.yaml","type":"application/yaml","size":703},{"uid":"775714e84e4e54e0","name":"rest_request","source":"775714e84e4e54e0.yaml","type":"application/yaml","size":161},{"uid":"ae55b1548294b727","name":"rest_response","source":"ae55b1548294b727.yaml","type":"application/yaml","size":598},{"uid":"a800907a94262cc1","name":"stage_yaml","source":"a800907a94262cc1.yaml","type":"application/yaml","size":703},{"uid":"1d5c9e17f4caddcf","name":"rest_request","source":"1d5c9e17f4caddcf.yaml","type":"application/yaml","size":161},{"uid":"f26802f9e8f1f0b0","name":"rest_response","source":"f26802f9e8f1f0b0.yaml","type":"application/yaml","size":598},{"uid":"cadb620dd504385a","name":"stage_yaml","source":"cadb620dd504385a.yaml","type":"application/yaml","size":703},{"uid":"30f0d7414065f332","name":"rest_request","source":"30f0d7414065f332.yaml","type":"application/yaml","size":161},{"uid":"704392c02bfbfe7","name":"rest_response","source":"704392c02bfbfe7.yaml","type":"application/yaml","size":598},{"uid":"946c5e477c8158","name":"stage_yaml","source":"946c5e477c8158.yaml","type":"application/yaml","size":703},{"uid":"7d06bcba92099bbb","name":"rest_request","source":"7d06bcba92099bbb.yaml","type":"application/yaml","size":161},{"uid":"7e22c4bf8c94dec3","name":"rest_response","source":"7e22c4bf8c94dec3.yaml","type":"application/yaml","size":598},{"uid":"33ffa5f7997bf82c","name":"stage_yaml","source":"33ffa5f7997bf82c.yaml","type":"application/yaml","size":703},{"uid":"6e460707b07d81fa","name":"rest_request","source":"6e460707b07d81fa.yaml","type":"application/yaml","size":161},{"uid":"ab7914d566875449","name":"rest_response","source":"ab7914d566875449.yaml","type":"application/yaml","size":598},{"uid":"3e971e0245a680c8","name":"stage_yaml","source":"3e971e0245a680c8.yaml","type":"application/yaml","size":703},{"uid":"672dac9790066905","name":"rest_request","source":"672dac9790066905.yaml","type":"application/yaml","size":161},{"uid":"5af396286156d4a6","name":"rest_response","source":"5af396286156d4a6.yaml","type":"application/yaml","size":598},{"uid":"47c5de8c559c2fa0","name":"stage_yaml","source":"47c5de8c559c2fa0.yaml","type":"application/yaml","size":703},{"uid":"ca9bc66a4a4d74c","name":"rest_request","source":"ca9bc66a4a4d74c.yaml","type":"application/yaml","size":161},{"uid":"a444658daaf23a98","name":"rest_response","source":"a444658daaf23a98.yaml","type":"application/yaml","size":598},{"uid":"3b854dcfdeb216d3","name":"stage_yaml","source":"3b854dcfdeb216d3.yaml","type":"application/yaml","size":703},{"uid":"2818079317360e53","name":"rest_request","source":"2818079317360e53.yaml","type":"application/yaml","size":161},{"uid":"7b1ee39a14d32093","name":"rest_response","source":"7b1ee39a14d32093.yaml","type":"application/yaml","size":598},{"uid":"37cad1b744019550","name":"stage_yaml","source":"37cad1b744019550.yaml","type":"application/yaml","size":703},{"uid":"743648e62a29945c","name":"rest_request","source":"743648e62a29945c.yaml","type":"application/yaml","size":161},{"uid":"f05f9092377ad074","name":"rest_response","source":"f05f9092377ad074.yaml","type":"application/yaml","size":598},{"uid":"126570aeee540f75","name":"stage_yaml","source":"126570aeee540f75.yaml","type":"application/yaml","size":703},{"uid":"616e60843b3f2ab3","name":"rest_request","source":"616e60843b3f2ab3.yaml","type":"application/yaml","size":161},{"uid":"77ce115600a78fb8","name":"rest_response","source":"77ce115600a78fb8.yaml","type":"application/yaml","size":598},{"uid":"b8c8a73894571e95","name":"stage_yaml","source":"b8c8a73894571e95.yaml","type":"application/yaml","size":703},{"uid":"956d466991f64b23","name":"rest_request","source":"956d466991f64b23.yaml","type":"application/yaml","size":161},{"uid":"da62828599a10976","name":"rest_response","source":"da62828599a10976.yaml","type":"application/yaml","size":598},{"uid":"1929d8d8304429e4","name":"stage_yaml","source":"1929d8d8304429e4.yaml","type":"application/yaml","size":703},{"uid":"53473743e53b74c4","name":"rest_request","source":"53473743e53b74c4.yaml","type":"application/yaml","size":161},{"uid":"fe8f1c1930f2036c","name":"rest_response","source":"fe8f1c1930f2036c.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1676400739223,"stop":1676400739245,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"74a60370b8019329","name":"stage_yaml","source":"74a60370b8019329.yaml","type":"application/yaml","size":2481},{"uid":"bedc43ebb99256d8","name":"rest_request","source":"bedc43ebb99256d8.yaml","type":"application/yaml","size":161},{"uid":"f54da2e963168529","name":"rest_response","source":"f54da2e963168529.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"5e4cd56d53777f","name":"log","source":"5e4cd56d53777f.txt","type":"text/plain","size":58574}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3c0e82a9f1f2"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":10},"items":[{"uid":"40b2ef1f6b425f11","status":"passed","time":{"start":1676325491337,"stop":1676325524186,"duration":32849}},{"uid":"811fca76fbd6ef66","status":"passed","time":{"start":1674515478327,"stop":1674515480517,"duration":2190}},{"uid":"581553a55830abee","status":"passed","time":{"start":1674505594923,"stop":1674505627619,"duration":32696}},{"uid":"b7652eeb396ac6df","status":"passed","time":{"start":1674500192649,"stop":1674500225333,"duration":32684}},{"uid":"be0332c5a369daf0","status":"passed","time":{"start":1674257688409,"stop":1674257721210,"duration":32801}},{"uid":"5caf77cfa70d0722","status":"passed","time":{"start":1674255184100,"stop":1674255186375,"duration":2275}},{"uid":"f65957d67d0c7638","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080261298,"stop":1674080261337,"duration":39}},{"uid":"1a5f1976e1434678","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977875,"stop":1674074977907,"duration":32}},{"uid":"ce8f9d7dcc0d543","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600333,"stop":1674074600359,"duration":26}}]},"tags":[]},"source":"92a0341aa609975b.json","parameterValues":[]}