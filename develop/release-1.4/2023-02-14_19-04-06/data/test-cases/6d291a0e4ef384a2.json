{"uid":"6d291a0e4ef384a2","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1676400847279,"stop":1676400880180,"duration":32901},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676400847292,"stop":1676400847346,"duration":54},"status":"passed","steps":[],"attachments":[{"uid":"39dbe91db98670f","name":"stage_yaml","source":"39dbe91db98670f.yaml","type":"application/yaml","size":302},{"uid":"f7e6aa0fb3a01307","name":"rest_request","source":"f7e6aa0fb3a01307.yaml","type":"application/yaml","size":162},{"uid":"2ebee54bd28b5cf0","name":"rest_response","source":"2ebee54bd28b5cf0.yaml","type":"application/yaml","size":5770}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676400847347,"stop":1676400847365,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"cf148a723aa9e17a","name":"stage_yaml","source":"cf148a723aa9e17a.yaml","type":"application/yaml","size":797},{"uid":"84f211c47e7b442f","name":"rest_request","source":"84f211c47e7b442f.yaml","type":"application/yaml","size":216},{"uid":"1485d5a74103959e","name":"rest_response","source":"1485d5a74103959e.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676400847371,"stop":1676400879073,"duration":31702},"status":"passed","steps":[],"attachments":[{"uid":"88a92b4c0c4b1db2","name":"stage_yaml","source":"88a92b4c0c4b1db2.yaml","type":"application/yaml","size":682},{"uid":"f5cc4a148907ed9e","name":"rest_request","source":"f5cc4a148907ed9e.yaml","type":"application/yaml","size":161},{"uid":"1e33f234402dcb88","name":"rest_response","source":"1e33f234402dcb88.yaml","type":"application/yaml","size":572},{"uid":"83a54601a573d061","name":"stage_yaml","source":"83a54601a573d061.yaml","type":"application/yaml","size":682},{"uid":"b22e88a76cd2bbbf","name":"rest_request","source":"b22e88a76cd2bbbf.yaml","type":"application/yaml","size":161},{"uid":"9bf9943a93964ac9","name":"rest_response","source":"9bf9943a93964ac9.yaml","type":"application/yaml","size":608},{"uid":"8dd7062411c0e0ec","name":"stage_yaml","source":"8dd7062411c0e0ec.yaml","type":"application/yaml","size":682},{"uid":"72152ba717ac91d1","name":"rest_request","source":"72152ba717ac91d1.yaml","type":"application/yaml","size":161},{"uid":"3976fa0a246628b9","name":"rest_response","source":"3976fa0a246628b9.yaml","type":"application/yaml","size":608},{"uid":"dc39f254e2181113","name":"stage_yaml","source":"dc39f254e2181113.yaml","type":"application/yaml","size":682},{"uid":"3c1caa8e98768464","name":"rest_request","source":"3c1caa8e98768464.yaml","type":"application/yaml","size":161},{"uid":"35f04a9d9d1df5ff","name":"rest_response","source":"35f04a9d9d1df5ff.yaml","type":"application/yaml","size":608},{"uid":"70df9993e0769c2f","name":"stage_yaml","source":"70df9993e0769c2f.yaml","type":"application/yaml","size":682},{"uid":"a0594107d82661b","name":"rest_request","source":"a0594107d82661b.yaml","type":"application/yaml","size":161},{"uid":"3b0cabae0b8178f","name":"rest_response","source":"3b0cabae0b8178f.yaml","type":"application/yaml","size":608},{"uid":"c071e2ab661de5c5","name":"stage_yaml","source":"c071e2ab661de5c5.yaml","type":"application/yaml","size":682},{"uid":"69b1f0f20f0a2356","name":"rest_request","source":"69b1f0f20f0a2356.yaml","type":"application/yaml","size":161},{"uid":"3c741065d33e0a05","name":"rest_response","source":"3c741065d33e0a05.yaml","type":"application/yaml","size":608},{"uid":"275785195944ccf6","name":"stage_yaml","source":"275785195944ccf6.yaml","type":"application/yaml","size":682},{"uid":"800f1864735a0264","name":"rest_request","source":"800f1864735a0264.yaml","type":"application/yaml","size":161},{"uid":"a715ad89aa1e1693","name":"rest_response","source":"a715ad89aa1e1693.yaml","type":"application/yaml","size":608},{"uid":"dd48ce82ad58d6e2","name":"stage_yaml","source":"dd48ce82ad58d6e2.yaml","type":"application/yaml","size":682},{"uid":"4fc7bebef64b11d5","name":"rest_request","source":"4fc7bebef64b11d5.yaml","type":"application/yaml","size":161},{"uid":"59f7d8ccc6d90482","name":"rest_response","source":"59f7d8ccc6d90482.yaml","type":"application/yaml","size":608},{"uid":"7ab170da855a3211","name":"stage_yaml","source":"7ab170da855a3211.yaml","type":"application/yaml","size":682},{"uid":"f3d2d94b25fdce67","name":"rest_request","source":"f3d2d94b25fdce67.yaml","type":"application/yaml","size":161},{"uid":"f122f0b35b2c87ff","name":"rest_response","source":"f122f0b35b2c87ff.yaml","type":"application/yaml","size":608},{"uid":"4f33f1de5ba2f8eb","name":"stage_yaml","source":"4f33f1de5ba2f8eb.yaml","type":"application/yaml","size":682},{"uid":"38ce6bb5be92bf00","name":"rest_request","source":"38ce6bb5be92bf00.yaml","type":"application/yaml","size":161},{"uid":"bd9d316b470c8099","name":"rest_response","source":"bd9d316b470c8099.yaml","type":"application/yaml","size":608},{"uid":"45773da687d6807d","name":"stage_yaml","source":"45773da687d6807d.yaml","type":"application/yaml","size":682},{"uid":"25abc8d7ec853e0b","name":"rest_request","source":"25abc8d7ec853e0b.yaml","type":"application/yaml","size":161},{"uid":"217248d971573173","name":"rest_response","source":"217248d971573173.yaml","type":"application/yaml","size":608},{"uid":"494ce6df544910b5","name":"stage_yaml","source":"494ce6df544910b5.yaml","type":"application/yaml","size":682},{"uid":"d3eaae2a54839a47","name":"rest_request","source":"d3eaae2a54839a47.yaml","type":"application/yaml","size":161},{"uid":"bcb4e9dadd930921","name":"rest_response","source":"bcb4e9dadd930921.yaml","type":"application/yaml","size":608},{"uid":"6db80eaf43405fe7","name":"stage_yaml","source":"6db80eaf43405fe7.yaml","type":"application/yaml","size":682},{"uid":"2f694be99e2d90c0","name":"rest_request","source":"2f694be99e2d90c0.yaml","type":"application/yaml","size":161},{"uid":"1476c7973967d150","name":"rest_response","source":"1476c7973967d150.yaml","type":"application/yaml","size":608},{"uid":"369ec6f8a65bb17c","name":"stage_yaml","source":"369ec6f8a65bb17c.yaml","type":"application/yaml","size":682},{"uid":"49a7328d75d8bca1","name":"rest_request","source":"49a7328d75d8bca1.yaml","type":"application/yaml","size":161},{"uid":"ec5e9e0642c71ef1","name":"rest_response","source":"ec5e9e0642c71ef1.yaml","type":"application/yaml","size":608},{"uid":"88f5d082bb200809","name":"stage_yaml","source":"88f5d082bb200809.yaml","type":"application/yaml","size":682},{"uid":"e83da5792bf58de5","name":"rest_request","source":"e83da5792bf58de5.yaml","type":"application/yaml","size":161},{"uid":"e4aa893a5a30139","name":"rest_response","source":"e4aa893a5a30139.yaml","type":"application/yaml","size":608},{"uid":"b17e0b6ebe1d347a","name":"stage_yaml","source":"b17e0b6ebe1d347a.yaml","type":"application/yaml","size":682},{"uid":"30ba4aa051667615","name":"rest_request","source":"30ba4aa051667615.yaml","type":"application/yaml","size":161},{"uid":"c103ff6102ee4d6","name":"rest_response","source":"c103ff6102ee4d6.yaml","type":"application/yaml","size":608},{"uid":"342f2673d552ebe3","name":"stage_yaml","source":"342f2673d552ebe3.yaml","type":"application/yaml","size":682},{"uid":"6e467038326dca37","name":"rest_request","source":"6e467038326dca37.yaml","type":"application/yaml","size":161},{"uid":"e87fa8b6ad279f49","name":"rest_response","source":"e87fa8b6ad279f49.yaml","type":"application/yaml","size":608},{"uid":"dea20551b1ee9f8a","name":"stage_yaml","source":"dea20551b1ee9f8a.yaml","type":"application/yaml","size":682},{"uid":"995b0a9181036e6c","name":"rest_request","source":"995b0a9181036e6c.yaml","type":"application/yaml","size":161},{"uid":"ee0e90350449e2e3","name":"rest_response","source":"ee0e90350449e2e3.yaml","type":"application/yaml","size":608},{"uid":"8d2b8763c39d49cf","name":"stage_yaml","source":"8d2b8763c39d49cf.yaml","type":"application/yaml","size":682},{"uid":"ef94d84a6494f3","name":"rest_request","source":"ef94d84a6494f3.yaml","type":"application/yaml","size":161},{"uid":"a95ad5948f9e46b5","name":"rest_response","source":"a95ad5948f9e46b5.yaml","type":"application/yaml","size":608},{"uid":"557d68a4f5e83498","name":"stage_yaml","source":"557d68a4f5e83498.yaml","type":"application/yaml","size":682},{"uid":"28d88f666eec76c9","name":"rest_request","source":"28d88f666eec76c9.yaml","type":"application/yaml","size":161},{"uid":"6e4723c9650ef32f","name":"rest_response","source":"6e4723c9650ef32f.yaml","type":"application/yaml","size":608},{"uid":"8653fe518d37dea8","name":"stage_yaml","source":"8653fe518d37dea8.yaml","type":"application/yaml","size":682},{"uid":"35f3b3a0163206c","name":"rest_request","source":"35f3b3a0163206c.yaml","type":"application/yaml","size":161},{"uid":"aced954633f3ff5c","name":"rest_response","source":"aced954633f3ff5c.yaml","type":"application/yaml","size":608},{"uid":"ddb566fdeec65f10","name":"stage_yaml","source":"ddb566fdeec65f10.yaml","type":"application/yaml","size":682},{"uid":"73033985e0bc50f3","name":"rest_request","source":"73033985e0bc50f3.yaml","type":"application/yaml","size":161},{"uid":"4cb1b04c094b73cd","name":"rest_response","source":"4cb1b04c094b73cd.yaml","type":"application/yaml","size":608},{"uid":"a181b087974fd466","name":"stage_yaml","source":"a181b087974fd466.yaml","type":"application/yaml","size":682},{"uid":"b0883304a0c16e8a","name":"rest_request","source":"b0883304a0c16e8a.yaml","type":"application/yaml","size":161},{"uid":"1bb1c5bd49ab502a","name":"rest_response","source":"1bb1c5bd49ab502a.yaml","type":"application/yaml","size":608},{"uid":"708d5561a5bc544a","name":"stage_yaml","source":"708d5561a5bc544a.yaml","type":"application/yaml","size":682},{"uid":"3079f37a5b45af0f","name":"rest_request","source":"3079f37a5b45af0f.yaml","type":"application/yaml","size":161},{"uid":"fb9d15024c937047","name":"rest_response","source":"fb9d15024c937047.yaml","type":"application/yaml","size":608},{"uid":"cf4f8df569180e07","name":"stage_yaml","source":"cf4f8df569180e07.yaml","type":"application/yaml","size":682},{"uid":"17ae249f8c87b3ea","name":"rest_request","source":"17ae249f8c87b3ea.yaml","type":"application/yaml","size":161},{"uid":"1bc5676d9118c3bb","name":"rest_response","source":"1bc5676d9118c3bb.yaml","type":"application/yaml","size":608},{"uid":"dde5834ff9389ed9","name":"stage_yaml","source":"dde5834ff9389ed9.yaml","type":"application/yaml","size":682},{"uid":"6a71511e8892e884","name":"rest_request","source":"6a71511e8892e884.yaml","type":"application/yaml","size":161},{"uid":"68aea61e5e46dce2","name":"rest_response","source":"68aea61e5e46dce2.yaml","type":"application/yaml","size":608},{"uid":"73423c4ef659c14c","name":"stage_yaml","source":"73423c4ef659c14c.yaml","type":"application/yaml","size":682},{"uid":"caa6f58521bb50fb","name":"rest_request","source":"caa6f58521bb50fb.yaml","type":"application/yaml","size":161},{"uid":"c44c5c7587f9dece","name":"rest_response","source":"c44c5c7587f9dece.yaml","type":"application/yaml","size":608},{"uid":"cb0f405a9c745358","name":"stage_yaml","source":"cb0f405a9c745358.yaml","type":"application/yaml","size":682},{"uid":"5a08f6bec8bdec9b","name":"rest_request","source":"5a08f6bec8bdec9b.yaml","type":"application/yaml","size":161},{"uid":"1a00ea8cf67b7355","name":"rest_response","source":"1a00ea8cf67b7355.yaml","type":"application/yaml","size":608},{"uid":"91c351cb78fccb65","name":"stage_yaml","source":"91c351cb78fccb65.yaml","type":"application/yaml","size":682},{"uid":"43eb06fae18f350","name":"rest_request","source":"43eb06fae18f350.yaml","type":"application/yaml","size":161},{"uid":"bf29260f2cfd1503","name":"rest_response","source":"bf29260f2cfd1503.yaml","type":"application/yaml","size":608},{"uid":"dba6976795be9df7","name":"stage_yaml","source":"dba6976795be9df7.yaml","type":"application/yaml","size":682},{"uid":"dc8d3c7e7960e0f9","name":"rest_request","source":"dc8d3c7e7960e0f9.yaml","type":"application/yaml","size":161},{"uid":"56be54a47a0c9123","name":"rest_response","source":"56be54a47a0c9123.yaml","type":"application/yaml","size":608},{"uid":"33c1125dc1ae227d","name":"stage_yaml","source":"33c1125dc1ae227d.yaml","type":"application/yaml","size":682},{"uid":"a920af6c399cdb03","name":"rest_request","source":"a920af6c399cdb03.yaml","type":"application/yaml","size":161},{"uid":"133ff95ef457519e","name":"rest_response","source":"133ff95ef457519e.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1676400879074,"stop":1676400879096,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"2afb8a4fd975b040","name":"stage_yaml","source":"2afb8a4fd975b040.yaml","type":"application/yaml","size":2395},{"uid":"c25cfedd3271f591","name":"rest_request","source":"c25cfedd3271f591.yaml","type":"application/yaml","size":161},{"uid":"6dc0e3cd8003124","name":"rest_response","source":"6dc0e3cd8003124.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676400879097,"stop":1676400879112,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"9c8ff19d3c74c829","name":"stage_yaml","source":"9c8ff19d3c74c829.yaml","type":"application/yaml","size":978},{"uid":"4021a99688322265","name":"rest_request","source":"4021a99688322265.yaml","type":"application/yaml","size":145},{"uid":"557db9671c7dccb1","name":"rest_response","source":"557db9671c7dccb1.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1676400879113,"stop":1676400879131,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"2d12056dced7c59c","name":"stage_yaml","source":"2d12056dced7c59c.yaml","type":"application/yaml","size":816},{"uid":"e8fd839fa60162c0","name":"rest_request","source":"e8fd839fa60162c0.yaml","type":"application/yaml","size":219},{"uid":"94e38731c57e769c","name":"rest_response","source":"94e38731c57e769c.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1676400879134,"stop":1676400880156,"duration":1022},"status":"passed","steps":[],"attachments":[{"uid":"310cad9f26fd7b22","name":"stage_yaml","source":"310cad9f26fd7b22.yaml","type":"application/yaml","size":693},{"uid":"68996db8b9219d33","name":"rest_request","source":"68996db8b9219d33.yaml","type":"application/yaml","size":161},{"uid":"bcdc3647d9a92728","name":"rest_response","source":"bcdc3647d9a92728.yaml","type":"application/yaml","size":659}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1676400880157,"stop":1676400880179,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"55813f1546730944","name":"stage_yaml","source":"55813f1546730944.yaml","type":"application/yaml","size":2549},{"uid":"3b5a4dff434f3407","name":"rest_request","source":"3b5a4dff434f3407.yaml","type":"application/yaml","size":161},{"uid":"667f2f4d4ae1856","name":"rest_response","source":"667f2f4d4ae1856.yaml","type":"application/yaml","size":659}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"1dff7f9de327ad90","name":"log","source":"1dff7f9de327ad90.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3c0e82a9f1f2"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":10},"items":[{"uid":"487cfda790237fd9","status":"passed","time":{"start":1676325617086,"stop":1676325650758,"duration":33672}},{"uid":"e2bf4ff70f030fbd","status":"passed","time":{"start":1674515574170,"stop":1674515576315,"duration":2145}},{"uid":"ac2c2c43995e5b5d","status":"passed","time":{"start":1674505690917,"stop":1674505723638,"duration":32721}},{"uid":"e465f9b1ebf7fc5f","status":"passed","time":{"start":1674500319095,"stop":1674500351749,"duration":32654}},{"uid":"f3f1f42e434c66e6","status":"passed","time":{"start":1674257814137,"stop":1674257846813,"duration":32676}},{"uid":"89f3a5ffdf236413","status":"passed","time":{"start":1674255264575,"stop":1674255297412,"duration":32837}},{"uid":"8d8f1724188849cb","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080262851,"stop":1674080262890,"duration":39}},{"uid":"63766b707ffc90e1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977989,"stop":1674074978018,"duration":29}},{"uid":"ef814c26c444c457","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600425,"stop":1674074600449,"duration":24}}]},"tags":[]},"source":"6d291a0e4ef384a2.json","parameterValues":[]}