{"uid":"37c84b61dfd81f86","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1676400983897,"stop":1676400984368,"duration":471},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1676400983913,"stop":1676400983960,"duration":47},"status":"passed","steps":[],"attachments":[{"uid":"351d710a1d308b02","name":"stage_yaml","source":"351d710a1d308b02.yaml","type":"application/yaml","size":457},{"uid":"acdcb9dcc4002446","name":"rest_request","source":"acdcb9dcc4002446.yaml","type":"application/yaml","size":149},{"uid":"c9c4e36a9fedc8ff","name":"rest_response","source":"c9c4e36a9fedc8ff.yaml","type":"application/yaml","size":5769}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1676400983961,"stop":1676400984032,"duration":71},"status":"passed","steps":[],"attachments":[{"uid":"6a5a538066b20282","name":"stage_yaml","source":"6a5a538066b20282.yaml","type":"application/yaml","size":472},{"uid":"746fcfaa7f00c025","name":"rest_request","source":"746fcfaa7f00c025.yaml","type":"application/yaml","size":173},{"uid":"679472453a6bed2c","name":"rest_response","source":"679472453a6bed2c.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1676400984033,"stop":1676400984049,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"cdd14a15df8c83a","name":"stage_yaml","source":"cdd14a15df8c83a.yaml","type":"application/yaml","size":247},{"uid":"416088a6243e76d","name":"rest_request","source":"416088a6243e76d.yaml","type":"application/yaml","size":173},{"uid":"fce0a77db1e1f77","name":"rest_response","source":"fce0a77db1e1f77.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1676400984052,"stop":1676400984068,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"98849db094fd6c99","name":"stage_yaml","source":"98849db094fd6c99.yaml","type":"application/yaml","size":247},{"uid":"71464fc1bf243d9c","name":"rest_request","source":"71464fc1bf243d9c.yaml","type":"application/yaml","size":173},{"uid":"d6e984279b21ca17","name":"rest_response","source":"d6e984279b21ca17.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1676400984069,"stop":1676400984092,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"bd9063a858a98f08","name":"stage_yaml","source":"bd9063a858a98f08.yaml","type":"application/yaml","size":1395},{"uid":"e487f0a29921c945","name":"rest_request","source":"e487f0a29921c945.yaml","type":"application/yaml","size":214},{"uid":"9243a576f9bbdc50","name":"rest_response","source":"9243a576f9bbdc50.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1676400984094,"stop":1676400984108,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"29f4c1043749ef9","name":"stage_yaml","source":"29f4c1043749ef9.yaml","type":"application/yaml","size":251},{"uid":"7f959c7b94dde253","name":"rest_request","source":"7f959c7b94dde253.yaml","type":"application/yaml","size":173},{"uid":"da5c4b47d60be359","name":"rest_response","source":"da5c4b47d60be359.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1676400984109,"stop":1676400984122,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"809c86efcf4790aa","name":"stage_yaml","source":"809c86efcf4790aa.yaml","type":"application/yaml","size":251},{"uid":"1f7fe56637a37c19","name":"rest_request","source":"1f7fe56637a37c19.yaml","type":"application/yaml","size":173},{"uid":"3b470e11aac43520","name":"rest_response","source":"3b470e11aac43520.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1676400984123,"stop":1676400984156,"duration":33},"status":"passed","steps":[],"attachments":[{"uid":"998dd7d65e318bdb","name":"stage_yaml","source":"998dd7d65e318bdb.yaml","type":"application/yaml","size":903},{"uid":"21a4c264ec11b886","name":"rest_request","source":"21a4c264ec11b886.yaml","type":"application/yaml","size":286},{"uid":"77893256ac78908d","name":"rest_response","source":"77893256ac78908d.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1676400984157,"stop":1676400984196,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"c4f6aac4e79099ec","name":"stage_yaml","source":"c4f6aac4e79099ec.yaml","type":"application/yaml","size":2415},{"uid":"8a2e9778308612d1","name":"rest_request","source":"8a2e9778308612d1.yaml","type":"application/yaml","size":160},{"uid":"fe1a2d1be7cfc06c","name":"rest_response","source":"fe1a2d1be7cfc06c.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1676400984198,"stop":1676400984220,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"6e87446fe4e1ebdc","name":"stage_yaml","source":"6e87446fe4e1ebdc.yaml","type":"application/yaml","size":1466},{"uid":"dfb9a7f00043d93f","name":"rest_request","source":"dfb9a7f00043d93f.yaml","type":"application/yaml","size":218},{"uid":"fee9af8c5d3febe0","name":"rest_response","source":"fee9af8c5d3febe0.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1676400984221,"stop":1676400984242,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"20d0314c4f4932bd","name":"stage_yaml","source":"20d0314c4f4932bd.yaml","type":"application/yaml","size":1449},{"uid":"7c3371d3878cad44","name":"rest_request","source":"7c3371d3878cad44.yaml","type":"application/yaml","size":212},{"uid":"2d921e46f693fc13","name":"rest_response","source":"2d921e46f693fc13.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1676400984243,"stop":1676400984274,"duration":31},"status":"passed","steps":[],"attachments":[{"uid":"4f40323d78aa8e31","name":"stage_yaml","source":"4f40323d78aa8e31.yaml","type":"application/yaml","size":759},{"uid":"f5985d94a49acd67","name":"rest_request","source":"f5985d94a49acd67.yaml","type":"application/yaml","size":212},{"uid":"2a8658fd270af06f","name":"rest_response","source":"2a8658fd270af06f.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1676400984275,"stop":1676400984307,"duration":32},"status":"passed","steps":[],"attachments":[{"uid":"dd725621c7d6ad2e","name":"stage_yaml","source":"dd725621c7d6ad2e.yaml","type":"application/yaml","size":1477},{"uid":"9c5e04b2e15b3104","name":"rest_request","source":"9c5e04b2e15b3104.yaml","type":"application/yaml","size":212},{"uid":"dbdab267cc3ac8c6","name":"rest_response","source":"dbdab267cc3ac8c6.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1676400984308,"stop":1676400984321,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"8829535b3660f8d6","name":"stage_yaml","source":"8829535b3660f8d6.yaml","type":"application/yaml","size":247},{"uid":"ffe5291e22825422","name":"rest_request","source":"ffe5291e22825422.yaml","type":"application/yaml","size":173},{"uid":"33c6e1a9f42efc67","name":"rest_response","source":"33c6e1a9f42efc67.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1676400984322,"stop":1676400984338,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"e7dd5fe31c25c2c4","name":"stage_yaml","source":"e7dd5fe31c25c2c4.yaml","type":"application/yaml","size":279},{"uid":"b346e539fceeaacc","name":"rest_request","source":"b346e539fceeaacc.yaml","type":"application/yaml","size":172},{"uid":"4da1b9aa17c18dfd","name":"rest_response","source":"4da1b9aa17c18dfd.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1676400984340,"stop":1676400984352,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"b5e33a33cef25a55","name":"stage_yaml","source":"b5e33a33cef25a55.yaml","type":"application/yaml","size":247},{"uid":"58f95a234daf26bc","name":"rest_request","source":"58f95a234daf26bc.yaml","type":"application/yaml","size":173},{"uid":"d4efeacc056e509a","name":"rest_response","source":"d4efeacc056e509a.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1676400984354,"stop":1676400984367,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"497799600bcf4c46","name":"stage_yaml","source":"497799600bcf4c46.yaml","type":"application/yaml","size":279},{"uid":"8cae9d987aa495cf","name":"rest_request","source":"8cae9d987aa495cf.yaml","type":"application/yaml","size":173},{"uid":"41113b2cec3ef4bd","name":"rest_response","source":"41113b2cec3ef4bd.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"c069b38535e4"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":10},"items":[{"uid":"bdd8c3928563041","status":"passed","time":{"start":1676325746647,"stop":1676325746962,"duration":315}},{"uid":"3701acfb86e35aff","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fc264103dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1011, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674515666959,"stop":1674515667146,"duration":187}},{"uid":"eeda7491e217027","status":"passed","time":{"start":1674505814966,"stop":1674505815297,"duration":331}},{"uid":"fd035f00e785b5b9","status":"passed","time":{"start":1674500443456,"stop":1674500443788,"duration":332}},{"uid":"905dc1816fa06906","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f8634481d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1004, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674257937578,"stop":1674257937796,"duration":218}},{"uid":"573ed33dbbcc41f4","status":"passed","time":{"start":1674255406619,"stop":1674255407055,"duration":436}},{"uid":"d0455b1410482332","status":"passed","time":{"start":1674080366050,"stop":1674080366335,"duration":285}},{"uid":"325ceb16bb4f82f","status":"passed","time":{"start":1674075072815,"stop":1674075073142,"duration":327}},{"uid":"189c4bc9aab9102d","status":"passed","time":{"start":1674074690593,"stop":1674074690884,"duration":291}}]},"tags":[]},"source":"37c84b61dfd81f86.json","parameterValues":[]}