{"uid":"646301c1268271fc","name":"Verify transitions powers off a chassis that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a chassis that is powered on","historyId":"5d81f3489d062d69a1bf0c1814cdfdee","time":{"start":1676400426907,"stop":1676400444442,"duration":17535},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a chassis from HSM to be used in later stages","time":{"start":1676400426921,"stop":1676400426936,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"7dcbcc7dbd4ca3e3","name":"stage_yaml","source":"7dcbcc7dbd4ca3e3.yaml","type":"application/yaml","size":277},{"uid":"4dc19b00d198d70a","name":"rest_request","source":"4dc19b00d198d70a.yaml","type":"application/yaml","size":139},{"uid":"5cb65146cbdea009","name":"rest_response","source":"5cb65146cbdea009.yaml","type":"application/yaml","size":301}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target chassis on to prepare it for the test case","time":{"start":1676400426937,"stop":1676400426958,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"bdfeec50209bf126","name":"stage_yaml","source":"bdfeec50209bf126.yaml","type":"application/yaml","size":781},{"uid":"49019e0903085f5d","name":"rest_request","source":"49019e0903085f5d.yaml","type":"application/yaml","size":205},{"uid":"6990d91d00dbbb91","name":"rest_response","source":"6990d91d00dbbb91.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676400426962,"stop":1676400427985,"duration":1023},"status":"passed","steps":[],"attachments":[{"uid":"764dd3203c7d4bef","name":"stage_yaml","source":"764dd3203c7d4bef.yaml","type":"application/yaml","size":661},{"uid":"5d38f0b4809ddeb0","name":"rest_request","source":"5d38f0b4809ddeb0.yaml","type":"application/yaml","size":161},{"uid":"d20d4ab3511fe4ec","name":"rest_response","source":"d20d4ab3511fe4ec.yaml","type":"application/yaml","size":585}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676400427986,"stop":1676400428008,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"9dec800f31d4c784","name":"stage_yaml","source":"9dec800f31d4c784.yaml","type":"application/yaml","size":2378},{"uid":"abf72222881c89ac","name":"rest_request","source":"abf72222881c89ac.yaml","type":"application/yaml","size":161},{"uid":"36812c9eb2c11d41","name":"rest_response","source":"36812c9eb2c11d41.yaml","type":"application/yaml","size":585}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target chassis is powered on using power-status","time":{"start":1676400428010,"stop":1676400428026,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7731ebadcb4caefe","name":"stage_yaml","source":"7731ebadcb4caefe.yaml","type":"application/yaml","size":985},{"uid":"b3a1b2be7f50c361","name":"rest_request","source":"b3a1b2be7f50c361.yaml","type":"application/yaml","size":139},{"uid":"ca280ed0189e05c9","name":"rest_response","source":"ca280ed0189e05c9.yaml","type":"application/yaml","size":432}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target chassis off with a force-off transition","time":{"start":1676400428027,"stop":1676400428045,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"ed94bd1dac614f3a","name":"stage_yaml","source":"ed94bd1dac614f3a.yaml","type":"application/yaml","size":801},{"uid":"98fd3abe31bdb3d8","name":"rest_request","source":"98fd3abe31bdb3d8.yaml","type":"application/yaml","size":210},{"uid":"7ca2db98a1e0169c","name":"rest_response","source":"7ca2db98a1e0169c.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1676400428047,"stop":1676400444399,"duration":16352},"status":"passed","steps":[],"attachments":[{"uid":"42ab1e8fda017a05","name":"stage_yaml","source":"42ab1e8fda017a05.yaml","type":"application/yaml","size":684},{"uid":"271d035ffe81ee4c","name":"rest_request","source":"271d035ffe81ee4c.yaml","type":"application/yaml","size":161},{"uid":"428096166ef23d58","name":"rest_response","source":"428096166ef23d58.yaml","type":"application/yaml","size":566},{"uid":"28a15cd684865736","name":"stage_yaml","source":"28a15cd684865736.yaml","type":"application/yaml","size":684},{"uid":"86a4ac5fc1d3b343","name":"rest_request","source":"86a4ac5fc1d3b343.yaml","type":"application/yaml","size":161},{"uid":"7c2b77d3acf4e640","name":"rest_response","source":"7c2b77d3acf4e640.yaml","type":"application/yaml","size":602},{"uid":"3f40334d556061c6","name":"stage_yaml","source":"3f40334d556061c6.yaml","type":"application/yaml","size":684},{"uid":"b0e87593a3855776","name":"rest_request","source":"b0e87593a3855776.yaml","type":"application/yaml","size":161},{"uid":"ea1b638fed2bb132","name":"rest_response","source":"ea1b638fed2bb132.yaml","type":"application/yaml","size":602},{"uid":"aa5c51478e770354","name":"stage_yaml","source":"aa5c51478e770354.yaml","type":"application/yaml","size":684},{"uid":"66e2a6127df0753","name":"rest_request","source":"66e2a6127df0753.yaml","type":"application/yaml","size":161},{"uid":"e37305733a54a5fc","name":"rest_response","source":"e37305733a54a5fc.yaml","type":"application/yaml","size":602},{"uid":"a749bdd8d276924f","name":"stage_yaml","source":"a749bdd8d276924f.yaml","type":"application/yaml","size":684},{"uid":"38d35a7ecb376ab3","name":"rest_request","source":"38d35a7ecb376ab3.yaml","type":"application/yaml","size":161},{"uid":"1cc55e393b1d1e7c","name":"rest_response","source":"1cc55e393b1d1e7c.yaml","type":"application/yaml","size":602},{"uid":"ca1692d5bd33028a","name":"stage_yaml","source":"ca1692d5bd33028a.yaml","type":"application/yaml","size":684},{"uid":"85b2af822a6ec037","name":"rest_request","source":"85b2af822a6ec037.yaml","type":"application/yaml","size":161},{"uid":"2dc23aa22adba702","name":"rest_response","source":"2dc23aa22adba702.yaml","type":"application/yaml","size":602},{"uid":"6d26a45aefb9a6a1","name":"stage_yaml","source":"6d26a45aefb9a6a1.yaml","type":"application/yaml","size":684},{"uid":"a5ce541151dd8142","name":"rest_request","source":"a5ce541151dd8142.yaml","type":"application/yaml","size":161},{"uid":"e9fae6add19f0db5","name":"rest_response","source":"e9fae6add19f0db5.yaml","type":"application/yaml","size":602},{"uid":"b35323f5ec98211a","name":"stage_yaml","source":"b35323f5ec98211a.yaml","type":"application/yaml","size":684},{"uid":"11c3000cfcdf6437","name":"rest_request","source":"11c3000cfcdf6437.yaml","type":"application/yaml","size":161},{"uid":"142286283d8cfcda","name":"rest_response","source":"142286283d8cfcda.yaml","type":"application/yaml","size":602},{"uid":"ef6abc03e51a151f","name":"stage_yaml","source":"ef6abc03e51a151f.yaml","type":"application/yaml","size":684},{"uid":"48f9774537ec03dc","name":"rest_request","source":"48f9774537ec03dc.yaml","type":"application/yaml","size":161},{"uid":"193a5bc8ef5cb485","name":"rest_response","source":"193a5bc8ef5cb485.yaml","type":"application/yaml","size":602},{"uid":"e1540f8d1774173a","name":"stage_yaml","source":"e1540f8d1774173a.yaml","type":"application/yaml","size":684},{"uid":"bad6971fa82c3ae3","name":"rest_request","source":"bad6971fa82c3ae3.yaml","type":"application/yaml","size":161},{"uid":"f57aa1f8f132a94e","name":"rest_response","source":"f57aa1f8f132a94e.yaml","type":"application/yaml","size":602},{"uid":"f8ce7bf58be023b7","name":"stage_yaml","source":"f8ce7bf58be023b7.yaml","type":"application/yaml","size":684},{"uid":"ae961c6e0416f727","name":"rest_request","source":"ae961c6e0416f727.yaml","type":"application/yaml","size":161},{"uid":"b239c69a8189ca80","name":"rest_response","source":"b239c69a8189ca80.yaml","type":"application/yaml","size":602},{"uid":"94b7a7c190399a5","name":"stage_yaml","source":"94b7a7c190399a5.yaml","type":"application/yaml","size":684},{"uid":"6b550b596547568d","name":"rest_request","source":"6b550b596547568d.yaml","type":"application/yaml","size":161},{"uid":"dc41cb1d8a279bab","name":"rest_response","source":"dc41cb1d8a279bab.yaml","type":"application/yaml","size":602},{"uid":"65fd9d1aef2c7d47","name":"stage_yaml","source":"65fd9d1aef2c7d47.yaml","type":"application/yaml","size":684},{"uid":"8b0850e4ed218016","name":"rest_request","source":"8b0850e4ed218016.yaml","type":"application/yaml","size":161},{"uid":"3c71daafb50506c3","name":"rest_response","source":"3c71daafb50506c3.yaml","type":"application/yaml","size":602},{"uid":"bd5a8a99adcd40b4","name":"stage_yaml","source":"bd5a8a99adcd40b4.yaml","type":"application/yaml","size":684},{"uid":"6c7558dfa3c8b633","name":"rest_request","source":"6c7558dfa3c8b633.yaml","type":"application/yaml","size":161},{"uid":"99679ba0f577ab3c","name":"rest_response","source":"99679ba0f577ab3c.yaml","type":"application/yaml","size":602},{"uid":"4009cc99dedc5da7","name":"stage_yaml","source":"4009cc99dedc5da7.yaml","type":"application/yaml","size":684},{"uid":"879148e65b1e9b6e","name":"rest_request","source":"879148e65b1e9b6e.yaml","type":"application/yaml","size":161},{"uid":"9f72e707b6a206a6","name":"rest_response","source":"9f72e707b6a206a6.yaml","type":"application/yaml","size":602},{"uid":"90706fe94977453f","name":"stage_yaml","source":"90706fe94977453f.yaml","type":"application/yaml","size":684},{"uid":"4c59323961e32101","name":"rest_request","source":"4c59323961e32101.yaml","type":"application/yaml","size":161},{"uid":"9caf957391d432fb","name":"rest_response","source":"9caf957391d432fb.yaml","type":"application/yaml","size":586}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1676400444401,"stop":1676400444423,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"ae98b52e318483b","name":"stage_yaml","source":"ae98b52e318483b.yaml","type":"application/yaml","size":2339},{"uid":"e5de3bbe9cb08470","name":"rest_request","source":"e5de3bbe9cb08470.yaml","type":"application/yaml","size":161},{"uid":"2cfa053d2d358529","name":"rest_response","source":"2cfa053d2d358529.yaml","type":"application/yaml","size":586}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target chassis is powered off using power-status","time":{"start":1676400444424,"stop":1676400444441,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"dce3c2232074aa45","name":"stage_yaml","source":"dce3c2232074aa45.yaml","type":"application/yaml","size":987},{"uid":"d213030d3a92823f","name":"rest_request","source":"d213030d3a92823f.yaml","type":"application/yaml","size":139},{"uid":"e28a94736fa2fdf5","name":"rest_response","source":"e28a94736fa2fdf5.yaml","type":"application/yaml","size":433}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"5e81ec9db396504c","name":"log","source":"5e81ec9db396504c.txt","type":"text/plain","size":57788}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3c0e82a9f1f2"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":10},"items":[{"uid":"ea9ba007409fa0a2","status":"passed","time":{"start":1676325197624,"stop":1676325216075,"duration":18451}},{"uid":"6b6ad0ce673fd08d","status":"passed","time":{"start":1674515201892,"stop":1674515234493,"duration":32601}},{"uid":"a49954727fd6885f","status":"passed","time":{"start":1674505317989,"stop":1674505350627,"duration":32638}},{"uid":"bc3aa9df78228ed5","status":"passed","time":{"start":1674499885332,"stop":1674499917965,"duration":32633}},{"uid":"6c2c5363fed53434","status":"passed","time":{"start":1674257411022,"stop":1674257443706,"duration":32684}},{"uid":"91555021c7edac10","status":"passed","time":{"start":1674254905329,"stop":1674254938172,"duration":32843}},{"uid":"cb81d038fb993f1e","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target chassis off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080254788,"stop":1674080255886,"duration":1098}},{"uid":"3a69df632b687ea2","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977473,"stop":1674074977501,"duration":28}},{"uid":"d1c2f8d6b3620780","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074600004,"stop":1674074600027,"duration":23}}]},"tags":[]},"source":"646301c1268271fc.json","parameterValues":[]}