{"uid":"b681e513815f6d76","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1678217580891,"stop":1678217613553,"duration":32662},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678217580900,"stop":1678217580938,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"75d2ab5764a7fdf","name":"stage_yaml","source":"75d2ab5764a7fdf.yaml","type":"application/yaml","size":302},{"uid":"9609479f40d93368","name":"rest_request","source":"9609479f40d93368.yaml","type":"application/yaml","size":162},{"uid":"49acdc747452d269","name":"rest_response","source":"49acdc747452d269.yaml","type":"application/yaml","size":5745}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678217580939,"stop":1678217580952,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"cb06569b8aae9616","name":"stage_yaml","source":"cb06569b8aae9616.yaml","type":"application/yaml","size":797},{"uid":"32b16b21117862d9","name":"rest_request","source":"32b16b21117862d9.yaml","type":"application/yaml","size":216},{"uid":"af49d800ecd3fb2a","name":"rest_response","source":"af49d800ecd3fb2a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1678217580953,"stop":1678217612463,"duration":31510},"status":"passed","steps":[],"attachments":[{"uid":"99eb14dad0b2af77","name":"stage_yaml","source":"99eb14dad0b2af77.yaml","type":"application/yaml","size":690},{"uid":"ee188695d1fa85ee","name":"rest_request","source":"ee188695d1fa85ee.yaml","type":"application/yaml","size":161},{"uid":"f3263b6f1f0afd34","name":"rest_response","source":"f3263b6f1f0afd34.yaml","type":"application/yaml","size":572},{"uid":"b1dfbd407743d7e7","name":"stage_yaml","source":"b1dfbd407743d7e7.yaml","type":"application/yaml","size":690},{"uid":"68de150af45ed8d3","name":"rest_request","source":"68de150af45ed8d3.yaml","type":"application/yaml","size":161},{"uid":"266475c1ba3d0898","name":"rest_response","source":"266475c1ba3d0898.yaml","type":"application/yaml","size":608},{"uid":"aa95c4f7e5de36fe","name":"stage_yaml","source":"aa95c4f7e5de36fe.yaml","type":"application/yaml","size":690},{"uid":"2493089841f038bf","name":"rest_request","source":"2493089841f038bf.yaml","type":"application/yaml","size":161},{"uid":"e57cec007c2e281e","name":"rest_response","source":"e57cec007c2e281e.yaml","type":"application/yaml","size":608},{"uid":"6627a034e6a22e25","name":"stage_yaml","source":"6627a034e6a22e25.yaml","type":"application/yaml","size":690},{"uid":"cf5222a31a0c9bea","name":"rest_request","source":"cf5222a31a0c9bea.yaml","type":"application/yaml","size":161},{"uid":"33e768af7e6f751d","name":"rest_response","source":"33e768af7e6f751d.yaml","type":"application/yaml","size":608},{"uid":"ec2e43d01b441d9e","name":"stage_yaml","source":"ec2e43d01b441d9e.yaml","type":"application/yaml","size":690},{"uid":"9422c0153af88dfe","name":"rest_request","source":"9422c0153af88dfe.yaml","type":"application/yaml","size":161},{"uid":"996eb323859d05b5","name":"rest_response","source":"996eb323859d05b5.yaml","type":"application/yaml","size":608},{"uid":"e8429215085fde55","name":"stage_yaml","source":"e8429215085fde55.yaml","type":"application/yaml","size":690},{"uid":"f08815c04ca368f1","name":"rest_request","source":"f08815c04ca368f1.yaml","type":"application/yaml","size":161},{"uid":"e9a61ed51adde17","name":"rest_response","source":"e9a61ed51adde17.yaml","type":"application/yaml","size":608},{"uid":"117f3795e26bab6","name":"stage_yaml","source":"117f3795e26bab6.yaml","type":"application/yaml","size":690},{"uid":"666ebbd96a7013d","name":"rest_request","source":"666ebbd96a7013d.yaml","type":"application/yaml","size":161},{"uid":"843b9ebef47dc604","name":"rest_response","source":"843b9ebef47dc604.yaml","type":"application/yaml","size":608},{"uid":"4ba8cb424631bee2","name":"stage_yaml","source":"4ba8cb424631bee2.yaml","type":"application/yaml","size":690},{"uid":"be119895bb749213","name":"rest_request","source":"be119895bb749213.yaml","type":"application/yaml","size":161},{"uid":"c59be19b0cb284e","name":"rest_response","source":"c59be19b0cb284e.yaml","type":"application/yaml","size":608},{"uid":"f4eb210ee0103c08","name":"stage_yaml","source":"f4eb210ee0103c08.yaml","type":"application/yaml","size":690},{"uid":"12dcaf5c27fe8013","name":"rest_request","source":"12dcaf5c27fe8013.yaml","type":"application/yaml","size":161},{"uid":"e83b893748cef9cc","name":"rest_response","source":"e83b893748cef9cc.yaml","type":"application/yaml","size":608},{"uid":"dd4324f66c2a5e92","name":"stage_yaml","source":"dd4324f66c2a5e92.yaml","type":"application/yaml","size":690},{"uid":"faceed43f7dd9d8e","name":"rest_request","source":"faceed43f7dd9d8e.yaml","type":"application/yaml","size":161},{"uid":"672493b38e59311c","name":"rest_response","source":"672493b38e59311c.yaml","type":"application/yaml","size":608},{"uid":"b42b1bb564eb903a","name":"stage_yaml","source":"b42b1bb564eb903a.yaml","type":"application/yaml","size":690},{"uid":"aa314d51b6d5cece","name":"rest_request","source":"aa314d51b6d5cece.yaml","type":"application/yaml","size":161},{"uid":"c711555dd4b80e1e","name":"rest_response","source":"c711555dd4b80e1e.yaml","type":"application/yaml","size":608},{"uid":"53c3f4b1a10ecbfe","name":"stage_yaml","source":"53c3f4b1a10ecbfe.yaml","type":"application/yaml","size":690},{"uid":"bd8e75e5245ba4e1","name":"rest_request","source":"bd8e75e5245ba4e1.yaml","type":"application/yaml","size":161},{"uid":"ce690f049c05447","name":"rest_response","source":"ce690f049c05447.yaml","type":"application/yaml","size":608},{"uid":"8bf9751455bec5f1","name":"stage_yaml","source":"8bf9751455bec5f1.yaml","type":"application/yaml","size":690},{"uid":"b850e1fb3271322d","name":"rest_request","source":"b850e1fb3271322d.yaml","type":"application/yaml","size":161},{"uid":"da9eb1e47fa6965b","name":"rest_response","source":"da9eb1e47fa6965b.yaml","type":"application/yaml","size":608},{"uid":"640e7646c674bca1","name":"stage_yaml","source":"640e7646c674bca1.yaml","type":"application/yaml","size":690},{"uid":"17d0960026d70407","name":"rest_request","source":"17d0960026d70407.yaml","type":"application/yaml","size":161},{"uid":"83ff4486dbd712c2","name":"rest_response","source":"83ff4486dbd712c2.yaml","type":"application/yaml","size":608},{"uid":"f37e51afab8dbd3d","name":"stage_yaml","source":"f37e51afab8dbd3d.yaml","type":"application/yaml","size":690},{"uid":"c7686aaa2495ac2","name":"rest_request","source":"c7686aaa2495ac2.yaml","type":"application/yaml","size":161},{"uid":"ea4e4631c3df7c25","name":"rest_response","source":"ea4e4631c3df7c25.yaml","type":"application/yaml","size":608},{"uid":"933f0cb8f7d37863","name":"stage_yaml","source":"933f0cb8f7d37863.yaml","type":"application/yaml","size":690},{"uid":"7789013b8c69c357","name":"rest_request","source":"7789013b8c69c357.yaml","type":"application/yaml","size":161},{"uid":"82c7f88e9237bb13","name":"rest_response","source":"82c7f88e9237bb13.yaml","type":"application/yaml","size":608},{"uid":"1faa49b35484db23","name":"stage_yaml","source":"1faa49b35484db23.yaml","type":"application/yaml","size":690},{"uid":"738d31281de3a21b","name":"rest_request","source":"738d31281de3a21b.yaml","type":"application/yaml","size":161},{"uid":"942da5d44ca37958","name":"rest_response","source":"942da5d44ca37958.yaml","type":"application/yaml","size":608},{"uid":"1f0c33c2c4647f2d","name":"stage_yaml","source":"1f0c33c2c4647f2d.yaml","type":"application/yaml","size":690},{"uid":"5bd97aaee0f055af","name":"rest_request","source":"5bd97aaee0f055af.yaml","type":"application/yaml","size":161},{"uid":"fc58de61146e2a1e","name":"rest_response","source":"fc58de61146e2a1e.yaml","type":"application/yaml","size":608},{"uid":"aad1b5d9d1e967e8","name":"stage_yaml","source":"aad1b5d9d1e967e8.yaml","type":"application/yaml","size":690},{"uid":"64a56efebe776b74","name":"rest_request","source":"64a56efebe776b74.yaml","type":"application/yaml","size":161},{"uid":"9d6b1dd02bb0dbef","name":"rest_response","source":"9d6b1dd02bb0dbef.yaml","type":"application/yaml","size":608},{"uid":"c5692cc7614c3c05","name":"stage_yaml","source":"c5692cc7614c3c05.yaml","type":"application/yaml","size":690},{"uid":"1473f6b2e2f710ee","name":"rest_request","source":"1473f6b2e2f710ee.yaml","type":"application/yaml","size":161},{"uid":"e62fa9e864d251e2","name":"rest_response","source":"e62fa9e864d251e2.yaml","type":"application/yaml","size":608},{"uid":"f0cdcd3ffb2dbf90","name":"stage_yaml","source":"f0cdcd3ffb2dbf90.yaml","type":"application/yaml","size":690},{"uid":"e01164ece1b70a8c","name":"rest_request","source":"e01164ece1b70a8c.yaml","type":"application/yaml","size":161},{"uid":"3dcad2c265770d03","name":"rest_response","source":"3dcad2c265770d03.yaml","type":"application/yaml","size":608},{"uid":"508b60f21021d3eb","name":"stage_yaml","source":"508b60f21021d3eb.yaml","type":"application/yaml","size":690},{"uid":"3a1f5d58d98071e2","name":"rest_request","source":"3a1f5d58d98071e2.yaml","type":"application/yaml","size":161},{"uid":"340026338ee1d001","name":"rest_response","source":"340026338ee1d001.yaml","type":"application/yaml","size":608},{"uid":"9a1cf86bb77b9cf5","name":"stage_yaml","source":"9a1cf86bb77b9cf5.yaml","type":"application/yaml","size":690},{"uid":"24eb201bac9df136","name":"rest_request","source":"24eb201bac9df136.yaml","type":"application/yaml","size":161},{"uid":"6c3f1de6485c751c","name":"rest_response","source":"6c3f1de6485c751c.yaml","type":"application/yaml","size":608},{"uid":"2f726e34b036860c","name":"stage_yaml","source":"2f726e34b036860c.yaml","type":"application/yaml","size":690},{"uid":"b7a934b558f9792a","name":"rest_request","source":"b7a934b558f9792a.yaml","type":"application/yaml","size":161},{"uid":"ddfa641188fde559","name":"rest_response","source":"ddfa641188fde559.yaml","type":"application/yaml","size":608},{"uid":"c6ba2ffc7633f241","name":"stage_yaml","source":"c6ba2ffc7633f241.yaml","type":"application/yaml","size":690},{"uid":"97d2cf265d4baa13","name":"rest_request","source":"97d2cf265d4baa13.yaml","type":"application/yaml","size":161},{"uid":"c79baecdc418542b","name":"rest_response","source":"c79baecdc418542b.yaml","type":"application/yaml","size":608},{"uid":"3e2b21651a176cfc","name":"stage_yaml","source":"3e2b21651a176cfc.yaml","type":"application/yaml","size":690},{"uid":"324494c03e5cfb1d","name":"rest_request","source":"324494c03e5cfb1d.yaml","type":"application/yaml","size":161},{"uid":"c58e7a4f4b2faf3c","name":"rest_response","source":"c58e7a4f4b2faf3c.yaml","type":"application/yaml","size":608},{"uid":"45aaf92167d59349","name":"stage_yaml","source":"45aaf92167d59349.yaml","type":"application/yaml","size":690},{"uid":"f5de6ac5d7a03fe7","name":"rest_request","source":"f5de6ac5d7a03fe7.yaml","type":"application/yaml","size":161},{"uid":"2d319827b575973c","name":"rest_response","source":"2d319827b575973c.yaml","type":"application/yaml","size":608},{"uid":"ffad3d5717a7413d","name":"stage_yaml","source":"ffad3d5717a7413d.yaml","type":"application/yaml","size":690},{"uid":"bb77e6a82e1291f5","name":"rest_request","source":"bb77e6a82e1291f5.yaml","type":"application/yaml","size":161},{"uid":"a73dc8cf29597c54","name":"rest_response","source":"a73dc8cf29597c54.yaml","type":"application/yaml","size":608},{"uid":"b6789d241d45e2a8","name":"stage_yaml","source":"b6789d241d45e2a8.yaml","type":"application/yaml","size":690},{"uid":"4bd7fcfe8925edae","name":"rest_request","source":"4bd7fcfe8925edae.yaml","type":"application/yaml","size":161},{"uid":"7fc3dca65e32c3a8","name":"rest_response","source":"7fc3dca65e32c3a8.yaml","type":"application/yaml","size":608},{"uid":"5d7aed20b6e3f797","name":"stage_yaml","source":"5d7aed20b6e3f797.yaml","type":"application/yaml","size":690},{"uid":"f502b30f0b753cf6","name":"rest_request","source":"f502b30f0b753cf6.yaml","type":"application/yaml","size":161},{"uid":"6b8a08109dc35936","name":"rest_response","source":"6b8a08109dc35936.yaml","type":"application/yaml","size":608},{"uid":"9a38b48c4ee3e8d7","name":"stage_yaml","source":"9a38b48c4ee3e8d7.yaml","type":"application/yaml","size":690},{"uid":"727851d76c96b1dd","name":"rest_request","source":"727851d76c96b1dd.yaml","type":"application/yaml","size":161},{"uid":"990f9d7ade5bf1ea","name":"rest_response","source":"990f9d7ade5bf1ea.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1678217612464,"stop":1678217612479,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"40df80516eda09d","name":"stage_yaml","source":"40df80516eda09d.yaml","type":"application/yaml","size":2405},{"uid":"a3af8d040bf25341","name":"rest_request","source":"a3af8d040bf25341.yaml","type":"application/yaml","size":161},{"uid":"c7c96f29898ef7ca","name":"rest_response","source":"c7c96f29898ef7ca.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678217612480,"stop":1678217612492,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"cce60719cab1713a","name":"stage_yaml","source":"cce60719cab1713a.yaml","type":"application/yaml","size":978},{"uid":"9b1bd7e76ba69ec9","name":"rest_request","source":"9b1bd7e76ba69ec9.yaml","type":"application/yaml","size":145},{"uid":"9845a0b6a1def400","name":"rest_response","source":"9845a0b6a1def400.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1678217612493,"stop":1678217612504,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"a9542c29d848fd00","name":"stage_yaml","source":"a9542c29d848fd00.yaml","type":"application/yaml","size":796},{"uid":"ac1199783a7ed88e","name":"rest_request","source":"ac1199783a7ed88e.yaml","type":"application/yaml","size":216},{"uid":"1d8505dbee68e94f","name":"rest_response","source":"1d8505dbee68e94f.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1678217612506,"stop":1678217613522,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"5545916bfe17d2a9","name":"stage_yaml","source":"5545916bfe17d2a9.yaml","type":"application/yaml","size":691},{"uid":"abbcf04f93d5998f","name":"rest_request","source":"abbcf04f93d5998f.yaml","type":"application/yaml","size":161},{"uid":"79dff6413f80bc57","name":"rest_response","source":"79dff6413f80bc57.yaml","type":"application/yaml","size":594}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1678217613524,"stop":1678217613540,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"61252918ca7933","name":"stage_yaml","source":"61252918ca7933.yaml","type":"application/yaml","size":2355},{"uid":"dd50ca758ff69abc","name":"rest_request","source":"dd50ca758ff69abc.yaml","type":"application/yaml","size":161},{"uid":"70760ee58161c0a1","name":"rest_response","source":"70760ee58161c0a1.yaml","type":"application/yaml","size":594}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1678217613541,"stop":1678217613553,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"9ad253293393fb02","name":"stage_yaml","source":"9ad253293393fb02.yaml","type":"application/yaml","size":984},{"uid":"edc0409831b27cf8","name":"rest_request","source":"edc0409831b27cf8.yaml","type":"application/yaml","size":145},{"uid":"806e44619919dec4","name":"rest_response","source":"806e44619919dec4.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"1dc107c12d059496","name":"log","source":"1dc107c12d059496.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3b92db619d34"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"85ff74b7141d7ee6","status":"passed","time":{"start":1676400330124,"stop":1676400363168,"duration":33044}},{"uid":"3d623b6a5a01f2a6","status":"passed","time":{"start":1676325132108,"stop":1676325134293,"duration":2185}},{"uid":"5ec7da1a1d91c8a","status":"passed","time":{"start":1674515151846,"stop":1674515154002,"duration":2156}},{"uid":"c623d51c04162ad6","status":"passed","time":{"start":1674505267810,"stop":1674505269983,"duration":2173}},{"uid":"f93de3fc506b7f33","status":"passed","time":{"start":1674499835157,"stop":1674499837329,"duration":2172}},{"uid":"66978a349132f841","status":"passed","time":{"start":1674257360812,"stop":1674257362991,"duration":2179}},{"uid":"b21104f385af5ade","status":"passed","time":{"start":1674254839479,"stop":1674254841702,"duration":2223}},{"uid":"3e6dd229d002194a","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080253450,"stop":1674080253489,"duration":39}},{"uid":"f991ded276090da8","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977376,"stop":1674074977408,"duration":32}},{"uid":"618a50f6fccb3535","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074599920,"stop":1674074599946,"duration":26}}]},"tags":[]},"source":"b681e513815f6d76.json","parameterValues":[]}