{"uid":"5c22dd95b116e8f9","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1678217548056,"stop":1678217580883,"duration":32827},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678217548065,"stop":1678217548103,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"3ddb0b0677e6f8e3","name":"stage_yaml","source":"3ddb0b0677e6f8e3.yaml","type":"application/yaml","size":302},{"uid":"c80ff8c3a3ac127","name":"rest_request","source":"c80ff8c3a3ac127.yaml","type":"application/yaml","size":162},{"uid":"e5938316cb9d133d","name":"rest_response","source":"e5938316cb9d133d.yaml","type":"application/yaml","size":5744}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678217548104,"stop":1678217548117,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"f007bbeb14d43632","name":"stage_yaml","source":"f007bbeb14d43632.yaml","type":"application/yaml","size":775},{"uid":"995027c46f352dd4","name":"rest_request","source":"995027c46f352dd4.yaml","type":"application/yaml","size":211},{"uid":"715f5d341fa471bd","name":"rest_response","source":"715f5d341fa471bd.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678217548118,"stop":1678217549133,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"5dbdf19ed3a307cb","name":"stage_yaml","source":"5dbdf19ed3a307cb.yaml","type":"application/yaml","size":661},{"uid":"997abd6ca76fdf9f","name":"rest_request","source":"997abd6ca76fdf9f.yaml","type":"application/yaml","size":161},{"uid":"1610702194ad3209","name":"rest_response","source":"1610702194ad3209.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678217549134,"stop":1678217549151,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"3f2624c596b7890","name":"stage_yaml","source":"3f2624c596b7890.yaml","type":"application/yaml","size":2375},{"uid":"ef0358a2e9e25fca","name":"rest_request","source":"ef0358a2e9e25fca.yaml","type":"application/yaml","size":161},{"uid":"eb3b5e95686a5bd1","name":"rest_response","source":"eb3b5e95686a5bd1.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678217549152,"stop":1678217549165,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"431755f8f4df10ba","name":"stage_yaml","source":"431755f8f4df10ba.yaml","type":"application/yaml","size":976},{"uid":"310c1a236e23911d","name":"rest_request","source":"310c1a236e23911d.yaml","type":"application/yaml","size":145},{"uid":"297cf9c93916f8f3","name":"rest_response","source":"297cf9c93916f8f3.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1678217549166,"stop":1678217549179,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"8794746c54f49df7","name":"stage_yaml","source":"8794746c54f49df7.yaml","type":"application/yaml","size":795},{"uid":"a712da4cc85cf9d6","name":"rest_request","source":"a712da4cc85cf9d6.yaml","type":"application/yaml","size":216},{"uid":"c7d7f9d3eefd648a","name":"rest_response","source":"c7d7f9d3eefd648a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678217549181,"stop":1678217580851,"duration":31670},"status":"passed","steps":[],"attachments":[{"uid":"f9bb46cc6c9c749","name":"stage_yaml","source":"f9bb46cc6c9c749.yaml","type":"application/yaml","size":684},{"uid":"f48ba6b72b8322ee","name":"rest_request","source":"f48ba6b72b8322ee.yaml","type":"application/yaml","size":161},{"uid":"81ebe3ac1827bcf8","name":"rest_response","source":"81ebe3ac1827bcf8.yaml","type":"application/yaml","size":587},{"uid":"91d41c036c909ffb","name":"stage_yaml","source":"91d41c036c909ffb.yaml","type":"application/yaml","size":684},{"uid":"63b307a8398d9f29","name":"rest_request","source":"63b307a8398d9f29.yaml","type":"application/yaml","size":161},{"uid":"4a176ccadbb29393","name":"rest_response","source":"4a176ccadbb29393.yaml","type":"application/yaml","size":608},{"uid":"23ab41373f4ff326","name":"stage_yaml","source":"23ab41373f4ff326.yaml","type":"application/yaml","size":684},{"uid":"59451743aed9fc4e","name":"rest_request","source":"59451743aed9fc4e.yaml","type":"application/yaml","size":161},{"uid":"d38ee4bdd3cfe100","name":"rest_response","source":"d38ee4bdd3cfe100.yaml","type":"application/yaml","size":608},{"uid":"a052be8ee607846","name":"stage_yaml","source":"a052be8ee607846.yaml","type":"application/yaml","size":684},{"uid":"6f92d2e283943578","name":"rest_request","source":"6f92d2e283943578.yaml","type":"application/yaml","size":161},{"uid":"bbdfc53e34af4ad8","name":"rest_response","source":"bbdfc53e34af4ad8.yaml","type":"application/yaml","size":608},{"uid":"5ffb68de39f3c9b1","name":"stage_yaml","source":"5ffb68de39f3c9b1.yaml","type":"application/yaml","size":684},{"uid":"36bb98ac83379eef","name":"rest_request","source":"36bb98ac83379eef.yaml","type":"application/yaml","size":161},{"uid":"befe2a56168106a3","name":"rest_response","source":"befe2a56168106a3.yaml","type":"application/yaml","size":608},{"uid":"f46fa6d77bbee936","name":"stage_yaml","source":"f46fa6d77bbee936.yaml","type":"application/yaml","size":684},{"uid":"d2e8a34cbd46b54a","name":"rest_request","source":"d2e8a34cbd46b54a.yaml","type":"application/yaml","size":161},{"uid":"8b497fed5dfcb097","name":"rest_response","source":"8b497fed5dfcb097.yaml","type":"application/yaml","size":608},{"uid":"45785e4accae6b9a","name":"stage_yaml","source":"45785e4accae6b9a.yaml","type":"application/yaml","size":684},{"uid":"a7bbdbd9aa8b56e","name":"rest_request","source":"a7bbdbd9aa8b56e.yaml","type":"application/yaml","size":161},{"uid":"f815317941201ec5","name":"rest_response","source":"f815317941201ec5.yaml","type":"application/yaml","size":608},{"uid":"f0bbb2d0b2f3f9c2","name":"stage_yaml","source":"f0bbb2d0b2f3f9c2.yaml","type":"application/yaml","size":684},{"uid":"803e69c11f652d21","name":"rest_request","source":"803e69c11f652d21.yaml","type":"application/yaml","size":161},{"uid":"4dfc685b6a33c943","name":"rest_response","source":"4dfc685b6a33c943.yaml","type":"application/yaml","size":608},{"uid":"cf27ea935d6e096c","name":"stage_yaml","source":"cf27ea935d6e096c.yaml","type":"application/yaml","size":684},{"uid":"6fc7eb73900e6a98","name":"rest_request","source":"6fc7eb73900e6a98.yaml","type":"application/yaml","size":161},{"uid":"7668574e758df1db","name":"rest_response","source":"7668574e758df1db.yaml","type":"application/yaml","size":608},{"uid":"a19c413e5f807381","name":"stage_yaml","source":"a19c413e5f807381.yaml","type":"application/yaml","size":684},{"uid":"2e110dba803be262","name":"rest_request","source":"2e110dba803be262.yaml","type":"application/yaml","size":161},{"uid":"915e0543022b5fb4","name":"rest_response","source":"915e0543022b5fb4.yaml","type":"application/yaml","size":608},{"uid":"411696d6cfb9b756","name":"stage_yaml","source":"411696d6cfb9b756.yaml","type":"application/yaml","size":684},{"uid":"205e1c47c2fc386e","name":"rest_request","source":"205e1c47c2fc386e.yaml","type":"application/yaml","size":161},{"uid":"1c4b73503556a717","name":"rest_response","source":"1c4b73503556a717.yaml","type":"application/yaml","size":608},{"uid":"979b06594a226e80","name":"stage_yaml","source":"979b06594a226e80.yaml","type":"application/yaml","size":684},{"uid":"82046804e46c1d10","name":"rest_request","source":"82046804e46c1d10.yaml","type":"application/yaml","size":161},{"uid":"76ab0fb2b15c4ea4","name":"rest_response","source":"76ab0fb2b15c4ea4.yaml","type":"application/yaml","size":608},{"uid":"85754c0b4739b44a","name":"stage_yaml","source":"85754c0b4739b44a.yaml","type":"application/yaml","size":684},{"uid":"f346b1f24f7b3b92","name":"rest_request","source":"f346b1f24f7b3b92.yaml","type":"application/yaml","size":161},{"uid":"a795196faefa03db","name":"rest_response","source":"a795196faefa03db.yaml","type":"application/yaml","size":608},{"uid":"7e9cdf457459182c","name":"stage_yaml","source":"7e9cdf457459182c.yaml","type":"application/yaml","size":684},{"uid":"8d2c2ad4ecbad4b8","name":"rest_request","source":"8d2c2ad4ecbad4b8.yaml","type":"application/yaml","size":161},{"uid":"b4878fd07d9918ef","name":"rest_response","source":"b4878fd07d9918ef.yaml","type":"application/yaml","size":608},{"uid":"15774bbb2186e2f1","name":"stage_yaml","source":"15774bbb2186e2f1.yaml","type":"application/yaml","size":684},{"uid":"5e397547b246dc73","name":"rest_request","source":"5e397547b246dc73.yaml","type":"application/yaml","size":161},{"uid":"29e1a17f4598c5d4","name":"rest_response","source":"29e1a17f4598c5d4.yaml","type":"application/yaml","size":608},{"uid":"fbb765eae7441dff","name":"stage_yaml","source":"fbb765eae7441dff.yaml","type":"application/yaml","size":684},{"uid":"3395c6a45c1f7a6f","name":"rest_request","source":"3395c6a45c1f7a6f.yaml","type":"application/yaml","size":161},{"uid":"aaa953823f2cc327","name":"rest_response","source":"aaa953823f2cc327.yaml","type":"application/yaml","size":608},{"uid":"e32aaf7e041c0c36","name":"stage_yaml","source":"e32aaf7e041c0c36.yaml","type":"application/yaml","size":684},{"uid":"d7b5b80b7b40923d","name":"rest_request","source":"d7b5b80b7b40923d.yaml","type":"application/yaml","size":161},{"uid":"cf04a5fce114e2d6","name":"rest_response","source":"cf04a5fce114e2d6.yaml","type":"application/yaml","size":608},{"uid":"eda64a787229cb12","name":"stage_yaml","source":"eda64a787229cb12.yaml","type":"application/yaml","size":684},{"uid":"19f6b4bb7c328415","name":"rest_request","source":"19f6b4bb7c328415.yaml","type":"application/yaml","size":161},{"uid":"2c8a47ba03ca5382","name":"rest_response","source":"2c8a47ba03ca5382.yaml","type":"application/yaml","size":608},{"uid":"65beae83d56a22b1","name":"stage_yaml","source":"65beae83d56a22b1.yaml","type":"application/yaml","size":684},{"uid":"7937f1bd0d3b4ce1","name":"rest_request","source":"7937f1bd0d3b4ce1.yaml","type":"application/yaml","size":161},{"uid":"845b0f2620ac2404","name":"rest_response","source":"845b0f2620ac2404.yaml","type":"application/yaml","size":608},{"uid":"97168c0b6fc92a2c","name":"stage_yaml","source":"97168c0b6fc92a2c.yaml","type":"application/yaml","size":684},{"uid":"ff7a757af9543a69","name":"rest_request","source":"ff7a757af9543a69.yaml","type":"application/yaml","size":161},{"uid":"1ce0e10908f0a8d1","name":"rest_response","source":"1ce0e10908f0a8d1.yaml","type":"application/yaml","size":608},{"uid":"aadbb184c5cec438","name":"stage_yaml","source":"aadbb184c5cec438.yaml","type":"application/yaml","size":684},{"uid":"6908f763fca4b407","name":"rest_request","source":"6908f763fca4b407.yaml","type":"application/yaml","size":161},{"uid":"a672b2f0219f254","name":"rest_response","source":"a672b2f0219f254.yaml","type":"application/yaml","size":608},{"uid":"c96a58823c3e0634","name":"stage_yaml","source":"c96a58823c3e0634.yaml","type":"application/yaml","size":684},{"uid":"c4ef56dcb755ad2d","name":"rest_request","source":"c4ef56dcb755ad2d.yaml","type":"application/yaml","size":161},{"uid":"b15f5223feb1c8b3","name":"rest_response","source":"b15f5223feb1c8b3.yaml","type":"application/yaml","size":608},{"uid":"7c49fafa4385c7f9","name":"stage_yaml","source":"7c49fafa4385c7f9.yaml","type":"application/yaml","size":684},{"uid":"df9d811b8e38e654","name":"rest_request","source":"df9d811b8e38e654.yaml","type":"application/yaml","size":161},{"uid":"4883d8a6f6a3ec5c","name":"rest_response","source":"4883d8a6f6a3ec5c.yaml","type":"application/yaml","size":608},{"uid":"9c4435de88c73cbf","name":"stage_yaml","source":"9c4435de88c73cbf.yaml","type":"application/yaml","size":684},{"uid":"11f4ad05ef759614","name":"rest_request","source":"11f4ad05ef759614.yaml","type":"application/yaml","size":161},{"uid":"ec3d00011e8565b0","name":"rest_response","source":"ec3d00011e8565b0.yaml","type":"application/yaml","size":608},{"uid":"6f089f7934f01bbd","name":"stage_yaml","source":"6f089f7934f01bbd.yaml","type":"application/yaml","size":684},{"uid":"b871e729454c3d04","name":"rest_request","source":"b871e729454c3d04.yaml","type":"application/yaml","size":161},{"uid":"3e0d8c4c317ddeae","name":"rest_response","source":"3e0d8c4c317ddeae.yaml","type":"application/yaml","size":608},{"uid":"8d62e057ed10396e","name":"stage_yaml","source":"8d62e057ed10396e.yaml","type":"application/yaml","size":684},{"uid":"b4e54d5a91b1fae8","name":"rest_request","source":"b4e54d5a91b1fae8.yaml","type":"application/yaml","size":161},{"uid":"6bfd117e9f6af3ca","name":"rest_response","source":"6bfd117e9f6af3ca.yaml","type":"application/yaml","size":608},{"uid":"6611bb4815acba00","name":"stage_yaml","source":"6611bb4815acba00.yaml","type":"application/yaml","size":684},{"uid":"13ccb3d5740e364c","name":"rest_request","source":"13ccb3d5740e364c.yaml","type":"application/yaml","size":161},{"uid":"57020cf4ffe0fee8","name":"rest_response","source":"57020cf4ffe0fee8.yaml","type":"application/yaml","size":608},{"uid":"39bcfe9be5bd11da","name":"stage_yaml","source":"39bcfe9be5bd11da.yaml","type":"application/yaml","size":684},{"uid":"3f690c253890d516","name":"rest_request","source":"3f690c253890d516.yaml","type":"application/yaml","size":161},{"uid":"2b685d641622d200","name":"rest_response","source":"2b685d641622d200.yaml","type":"application/yaml","size":608},{"uid":"5e79476f54aff9a0","name":"stage_yaml","source":"5e79476f54aff9a0.yaml","type":"application/yaml","size":684},{"uid":"8ec0c28279ab86b2","name":"rest_request","source":"8ec0c28279ab86b2.yaml","type":"application/yaml","size":161},{"uid":"5b90e25e108ebba7","name":"rest_response","source":"5b90e25e108ebba7.yaml","type":"application/yaml","size":608},{"uid":"664015ab69f462e1","name":"stage_yaml","source":"664015ab69f462e1.yaml","type":"application/yaml","size":684},{"uid":"7a4d1b154b7d7995","name":"rest_request","source":"7a4d1b154b7d7995.yaml","type":"application/yaml","size":161},{"uid":"ee5b78cbcf11871c","name":"rest_response","source":"ee5b78cbcf11871c.yaml","type":"application/yaml","size":608},{"uid":"97e38beec6ae39fd","name":"stage_yaml","source":"97e38beec6ae39fd.yaml","type":"application/yaml","size":684},{"uid":"e22b9cf33978c18f","name":"rest_request","source":"e22b9cf33978c18f.yaml","type":"application/yaml","size":161},{"uid":"9dbbce4768d00258","name":"rest_response","source":"9dbbce4768d00258.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678217580852,"stop":1678217580870,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"697e64f7bb40ba31","name":"stage_yaml","source":"697e64f7bb40ba31.yaml","type":"application/yaml","size":2336},{"uid":"5da9ee7ef7fca17","name":"rest_request","source":"5da9ee7ef7fca17.yaml","type":"application/yaml","size":161},{"uid":"680504ce15e6c53a","name":"rest_response","source":"680504ce15e6c53a.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1678217580871,"stop":1678217580883,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"38b0e875b0a1faa0","name":"stage_yaml","source":"38b0e875b0a1faa0.yaml","type":"application/yaml","size":978},{"uid":"b37c07cc39bbee3a","name":"rest_request","source":"b37c07cc39bbee3a.yaml","type":"application/yaml","size":145},{"uid":"df9202b85a6ce4d9","name":"rest_response","source":"df9202b85a6ce4d9.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"e7969ca98a25abe7","name":"log","source":"e7969ca98a25abe7.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3b92db619d34"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"1af85ca214995f20","status":"passed","time":{"start":1676400281810,"stop":1676400330113,"duration":48303}},{"uid":"9a589c4d7544e9b5","status":"passed","time":{"start":1676325084137,"stop":1676325132098,"duration":47961}},{"uid":"51ef7ae4fc3c53","status":"passed","time":{"start":1674515134334,"stop":1674515151841,"duration":17507}},{"uid":"a58062c594158194","status":"passed","time":{"start":1674505250368,"stop":1674505267805,"duration":17437}},{"uid":"75b97c78a335c2f8","status":"passed","time":{"start":1674499817706,"stop":1674499835151,"duration":17445}},{"uid":"29c73c748f71fdab","status":"passed","time":{"start":1674257343358,"stop":1674257360807,"duration":17449}},{"uid":"dc6123d42ff8c88b","status":"passed","time":{"start":1674254775951,"stop":1674254839467,"duration":63516}},{"uid":"14460516f21fd40b","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080252242,"stop":1674080253345,"duration":1103}},{"uid":"7d8d664370cbe07c","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977327,"stop":1674074977361,"duration":34}},{"uid":"396884d66981d972","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074599879,"stop":1674074599908,"duration":29}}]},"tags":[]},"source":"5c22dd95b116e8f9.json","parameterValues":[]}