{"uid":"7ec2fcfe2c6cd2fe","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678217907866,"stop":1678217940574,"duration":32708},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678217907875,"stop":1678217907912,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"5420579effbcf3c9","name":"stage_yaml","source":"5420579effbcf3c9.yaml","type":"application/yaml","size":302},{"uid":"54931640212e142a","name":"rest_request","source":"54931640212e142a.yaml","type":"application/yaml","size":162},{"uid":"a8ca31991c88aa31","name":"rest_response","source":"a8ca31991c88aa31.yaml","type":"application/yaml","size":5752}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678217907913,"stop":1678217907926,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"f491b3e542ff619e","name":"stage_yaml","source":"f491b3e542ff619e.yaml","type":"application/yaml","size":797},{"uid":"5ad72d6290aaf032","name":"rest_request","source":"5ad72d6290aaf032.yaml","type":"application/yaml","size":216},{"uid":"5a37c8c5333084dc","name":"rest_response","source":"5a37c8c5333084dc.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678217907928,"stop":1678217939458,"duration":31530},"status":"passed","steps":[],"attachments":[{"uid":"de1858083e0ce8b5","name":"stage_yaml","source":"de1858083e0ce8b5.yaml","type":"application/yaml","size":682},{"uid":"6c9e440a0db2885f","name":"rest_request","source":"6c9e440a0db2885f.yaml","type":"application/yaml","size":161},{"uid":"e869acb770dba9bf","name":"rest_response","source":"e869acb770dba9bf.yaml","type":"application/yaml","size":572},{"uid":"22daf89fd18faa5d","name":"stage_yaml","source":"22daf89fd18faa5d.yaml","type":"application/yaml","size":682},{"uid":"43b3f852ed6d1d59","name":"rest_request","source":"43b3f852ed6d1d59.yaml","type":"application/yaml","size":161},{"uid":"48af4f9fcef99ea6","name":"rest_response","source":"48af4f9fcef99ea6.yaml","type":"application/yaml","size":608},{"uid":"6bc62edbda7504ac","name":"stage_yaml","source":"6bc62edbda7504ac.yaml","type":"application/yaml","size":682},{"uid":"9556dc2236f011b7","name":"rest_request","source":"9556dc2236f011b7.yaml","type":"application/yaml","size":161},{"uid":"fa28a81ce79eb6b","name":"rest_response","source":"fa28a81ce79eb6b.yaml","type":"application/yaml","size":608},{"uid":"5bf76abc693d7ecf","name":"stage_yaml","source":"5bf76abc693d7ecf.yaml","type":"application/yaml","size":682},{"uid":"478f8b1ea4849b7e","name":"rest_request","source":"478f8b1ea4849b7e.yaml","type":"application/yaml","size":161},{"uid":"59f0e8bb6792187f","name":"rest_response","source":"59f0e8bb6792187f.yaml","type":"application/yaml","size":608},{"uid":"441cd210e7c47373","name":"stage_yaml","source":"441cd210e7c47373.yaml","type":"application/yaml","size":682},{"uid":"e29e844edcf805e1","name":"rest_request","source":"e29e844edcf805e1.yaml","type":"application/yaml","size":161},{"uid":"1e2098fa7382919e","name":"rest_response","source":"1e2098fa7382919e.yaml","type":"application/yaml","size":608},{"uid":"a3397a369a1c3ad3","name":"stage_yaml","source":"a3397a369a1c3ad3.yaml","type":"application/yaml","size":682},{"uid":"73599bdb77be132e","name":"rest_request","source":"73599bdb77be132e.yaml","type":"application/yaml","size":161},{"uid":"994044b17848ae49","name":"rest_response","source":"994044b17848ae49.yaml","type":"application/yaml","size":608},{"uid":"f0ee9cdf4e8ffdcd","name":"stage_yaml","source":"f0ee9cdf4e8ffdcd.yaml","type":"application/yaml","size":682},{"uid":"af434407d2864cc4","name":"rest_request","source":"af434407d2864cc4.yaml","type":"application/yaml","size":161},{"uid":"4c58f8667f8b2c8b","name":"rest_response","source":"4c58f8667f8b2c8b.yaml","type":"application/yaml","size":608},{"uid":"c7e37141b660b85","name":"stage_yaml","source":"c7e37141b660b85.yaml","type":"application/yaml","size":682},{"uid":"ef771ac808b896d1","name":"rest_request","source":"ef771ac808b896d1.yaml","type":"application/yaml","size":161},{"uid":"36eafc4893b38f1e","name":"rest_response","source":"36eafc4893b38f1e.yaml","type":"application/yaml","size":608},{"uid":"90279e64050925b7","name":"stage_yaml","source":"90279e64050925b7.yaml","type":"application/yaml","size":682},{"uid":"4ae2c8a5431347b3","name":"rest_request","source":"4ae2c8a5431347b3.yaml","type":"application/yaml","size":161},{"uid":"a1675882f721f8d5","name":"rest_response","source":"a1675882f721f8d5.yaml","type":"application/yaml","size":608},{"uid":"333439f811a124dc","name":"stage_yaml","source":"333439f811a124dc.yaml","type":"application/yaml","size":682},{"uid":"8953f8704af705f1","name":"rest_request","source":"8953f8704af705f1.yaml","type":"application/yaml","size":161},{"uid":"d4b4190d751bf916","name":"rest_response","source":"d4b4190d751bf916.yaml","type":"application/yaml","size":608},{"uid":"b5f1cf89227165a1","name":"stage_yaml","source":"b5f1cf89227165a1.yaml","type":"application/yaml","size":682},{"uid":"bd675ebe3f50a063","name":"rest_request","source":"bd675ebe3f50a063.yaml","type":"application/yaml","size":161},{"uid":"81b6e61ee7884bda","name":"rest_response","source":"81b6e61ee7884bda.yaml","type":"application/yaml","size":608},{"uid":"1f99efdb608e1e38","name":"stage_yaml","source":"1f99efdb608e1e38.yaml","type":"application/yaml","size":682},{"uid":"2728e61f07df5bd6","name":"rest_request","source":"2728e61f07df5bd6.yaml","type":"application/yaml","size":161},{"uid":"3bec5acd23fd630d","name":"rest_response","source":"3bec5acd23fd630d.yaml","type":"application/yaml","size":608},{"uid":"c7055eab4d27d53e","name":"stage_yaml","source":"c7055eab4d27d53e.yaml","type":"application/yaml","size":682},{"uid":"4184976175553caa","name":"rest_request","source":"4184976175553caa.yaml","type":"application/yaml","size":161},{"uid":"c45f86cb0d07512e","name":"rest_response","source":"c45f86cb0d07512e.yaml","type":"application/yaml","size":608},{"uid":"d54ca6e8cad65b62","name":"stage_yaml","source":"d54ca6e8cad65b62.yaml","type":"application/yaml","size":682},{"uid":"2252f7775983d2b6","name":"rest_request","source":"2252f7775983d2b6.yaml","type":"application/yaml","size":161},{"uid":"2e84c8bbcd0885a5","name":"rest_response","source":"2e84c8bbcd0885a5.yaml","type":"application/yaml","size":608},{"uid":"13578b2ab167dff7","name":"stage_yaml","source":"13578b2ab167dff7.yaml","type":"application/yaml","size":682},{"uid":"a2602d6133e981ed","name":"rest_request","source":"a2602d6133e981ed.yaml","type":"application/yaml","size":161},{"uid":"e6408cad71b54709","name":"rest_response","source":"e6408cad71b54709.yaml","type":"application/yaml","size":608},{"uid":"78b360baa3cebd4a","name":"stage_yaml","source":"78b360baa3cebd4a.yaml","type":"application/yaml","size":682},{"uid":"96b52dc27dfd30f9","name":"rest_request","source":"96b52dc27dfd30f9.yaml","type":"application/yaml","size":161},{"uid":"b9c0bcfb389432e9","name":"rest_response","source":"b9c0bcfb389432e9.yaml","type":"application/yaml","size":608},{"uid":"c08cc31fee5a2119","name":"stage_yaml","source":"c08cc31fee5a2119.yaml","type":"application/yaml","size":682},{"uid":"94f843dc931c8fda","name":"rest_request","source":"94f843dc931c8fda.yaml","type":"application/yaml","size":161},{"uid":"713d441a22c7be41","name":"rest_response","source":"713d441a22c7be41.yaml","type":"application/yaml","size":608},{"uid":"6042840c4e83f90f","name":"stage_yaml","source":"6042840c4e83f90f.yaml","type":"application/yaml","size":682},{"uid":"3d993bdacc3e7954","name":"rest_request","source":"3d993bdacc3e7954.yaml","type":"application/yaml","size":161},{"uid":"52260ab107ca2c23","name":"rest_response","source":"52260ab107ca2c23.yaml","type":"application/yaml","size":608},{"uid":"e2d14e4b255e81be","name":"stage_yaml","source":"e2d14e4b255e81be.yaml","type":"application/yaml","size":682},{"uid":"aafe4c0cb1df0ade","name":"rest_request","source":"aafe4c0cb1df0ade.yaml","type":"application/yaml","size":161},{"uid":"6b764835bbe449f3","name":"rest_response","source":"6b764835bbe449f3.yaml","type":"application/yaml","size":608},{"uid":"526c5c369989787f","name":"stage_yaml","source":"526c5c369989787f.yaml","type":"application/yaml","size":682},{"uid":"d5adc53bfc42c737","name":"rest_request","source":"d5adc53bfc42c737.yaml","type":"application/yaml","size":161},{"uid":"831e0048897bd20e","name":"rest_response","source":"831e0048897bd20e.yaml","type":"application/yaml","size":608},{"uid":"f0fb8d20ed982ee","name":"stage_yaml","source":"f0fb8d20ed982ee.yaml","type":"application/yaml","size":682},{"uid":"94baf2f992dbb097","name":"rest_request","source":"94baf2f992dbb097.yaml","type":"application/yaml","size":161},{"uid":"8376f85a156033be","name":"rest_response","source":"8376f85a156033be.yaml","type":"application/yaml","size":608},{"uid":"59fd21f1a37b49bc","name":"stage_yaml","source":"59fd21f1a37b49bc.yaml","type":"application/yaml","size":682},{"uid":"e49861dee922b259","name":"rest_request","source":"e49861dee922b259.yaml","type":"application/yaml","size":161},{"uid":"4d5342e05427a5e7","name":"rest_response","source":"4d5342e05427a5e7.yaml","type":"application/yaml","size":608},{"uid":"be940d913a238a3c","name":"stage_yaml","source":"be940d913a238a3c.yaml","type":"application/yaml","size":682},{"uid":"2ce2c2cf51d59a33","name":"rest_request","source":"2ce2c2cf51d59a33.yaml","type":"application/yaml","size":161},{"uid":"9dde87f3dc9b800f","name":"rest_response","source":"9dde87f3dc9b800f.yaml","type":"application/yaml","size":608},{"uid":"11cd479ed43bb7b5","name":"stage_yaml","source":"11cd479ed43bb7b5.yaml","type":"application/yaml","size":682},{"uid":"c97d6477eae1eeac","name":"rest_request","source":"c97d6477eae1eeac.yaml","type":"application/yaml","size":161},{"uid":"20e3771c8b9f51f","name":"rest_response","source":"20e3771c8b9f51f.yaml","type":"application/yaml","size":608},{"uid":"4ee73927814fef48","name":"stage_yaml","source":"4ee73927814fef48.yaml","type":"application/yaml","size":682},{"uid":"195a4344d9344a2","name":"rest_request","source":"195a4344d9344a2.yaml","type":"application/yaml","size":161},{"uid":"a7366b38b565027a","name":"rest_response","source":"a7366b38b565027a.yaml","type":"application/yaml","size":608},{"uid":"d6dcebe3cdeb67b4","name":"stage_yaml","source":"d6dcebe3cdeb67b4.yaml","type":"application/yaml","size":682},{"uid":"59f61a00192577c4","name":"rest_request","source":"59f61a00192577c4.yaml","type":"application/yaml","size":161},{"uid":"33e9c599a330ccf0","name":"rest_response","source":"33e9c599a330ccf0.yaml","type":"application/yaml","size":608},{"uid":"d5ca17da904d581e","name":"stage_yaml","source":"d5ca17da904d581e.yaml","type":"application/yaml","size":682},{"uid":"47105d5fc362cb49","name":"rest_request","source":"47105d5fc362cb49.yaml","type":"application/yaml","size":161},{"uid":"ad9c9487bb6b8e2d","name":"rest_response","source":"ad9c9487bb6b8e2d.yaml","type":"application/yaml","size":608},{"uid":"4ba6fbcc1f427a0f","name":"stage_yaml","source":"4ba6fbcc1f427a0f.yaml","type":"application/yaml","size":682},{"uid":"8f756a8bdcd32801","name":"rest_request","source":"8f756a8bdcd32801.yaml","type":"application/yaml","size":161},{"uid":"106a00685918dffe","name":"rest_response","source":"106a00685918dffe.yaml","type":"application/yaml","size":608},{"uid":"616a16b850b77232","name":"stage_yaml","source":"616a16b850b77232.yaml","type":"application/yaml","size":682},{"uid":"322f047ede790f36","name":"rest_request","source":"322f047ede790f36.yaml","type":"application/yaml","size":161},{"uid":"d447fe6dbe015378","name":"rest_response","source":"d447fe6dbe015378.yaml","type":"application/yaml","size":608},{"uid":"aef896b66298e48e","name":"stage_yaml","source":"aef896b66298e48e.yaml","type":"application/yaml","size":682},{"uid":"400a67871bdac1c1","name":"rest_request","source":"400a67871bdac1c1.yaml","type":"application/yaml","size":161},{"uid":"fcfc563522a70b88","name":"rest_response","source":"fcfc563522a70b88.yaml","type":"application/yaml","size":608},{"uid":"4b616c0bc311aaf6","name":"stage_yaml","source":"4b616c0bc311aaf6.yaml","type":"application/yaml","size":682},{"uid":"eaef1b95e726540c","name":"rest_request","source":"eaef1b95e726540c.yaml","type":"application/yaml","size":161},{"uid":"b92532b238a314de","name":"rest_response","source":"b92532b238a314de.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678217939459,"stop":1678217939476,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"d16be5902aa2bfb1","name":"stage_yaml","source":"d16be5902aa2bfb1.yaml","type":"application/yaml","size":2389},{"uid":"569404fdb02c48f5","name":"rest_request","source":"569404fdb02c48f5.yaml","type":"application/yaml","size":161},{"uid":"d70b794ecfbb29d9","name":"rest_response","source":"d70b794ecfbb29d9.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678217939477,"stop":1678217939493,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"3483c0d1819680d7","name":"stage_yaml","source":"3483c0d1819680d7.yaml","type":"application/yaml","size":978},{"uid":"612c747ea37cf7d4","name":"rest_request","source":"612c747ea37cf7d4.yaml","type":"application/yaml","size":145},{"uid":"32cddd2ba85b1de7","name":"rest_response","source":"32cddd2ba85b1de7.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678217939494,"stop":1678217939507,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"320696985020e817","name":"stage_yaml","source":"320696985020e817.yaml","type":"application/yaml","size":763},{"uid":"1fe572eaa1faaac2","name":"rest_request","source":"1fe572eaa1faaac2.yaml","type":"application/yaml","size":211},{"uid":"d0d3a9a1b8875666","name":"rest_response","source":"d0d3a9a1b8875666.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678217939508,"stop":1678217939524,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"bc7c5a0f1664b29f","name":"stage_yaml","source":"bc7c5a0f1664b29f.yaml","type":"application/yaml","size":534},{"uid":"db62c56a0c96bff9","name":"rest_request","source":"db62c56a0c96bff9.yaml","type":"application/yaml","size":164},{"uid":"a5baacacffd6d23","name":"rest_response","source":"a5baacacffd6d23.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678217939526,"stop":1678217940555,"duration":1029},"status":"passed","steps":[],"attachments":[{"uid":"5adefbfa6071618b","name":"stage_yaml","source":"5adefbfa6071618b.yaml","type":"application/yaml","size":703},{"uid":"e98611e3bbed58db","name":"rest_request","source":"e98611e3bbed58db.yaml","type":"application/yaml","size":161},{"uid":"ad9b646e5990f8f2","name":"rest_response","source":"ad9b646e5990f8f2.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678217940557,"stop":1678217940573,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"f933d8ac6398d730","name":"stage_yaml","source":"f933d8ac6398d730.yaml","type":"application/yaml","size":2481},{"uid":"d81c9d3517ffc0c","name":"rest_request","source":"d81c9d3517ffc0c.yaml","type":"application/yaml","size":161},{"uid":"c39a67422d274d2","name":"rest_response","source":"c39a67422d274d2.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"fe848d0546bcc75c","name":"log","source":"fe848d0546bcc75c.txt","type":"text/plain","size":115793}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3b92db619d34"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"92a0341aa609975b","status":"passed","time":{"start":1676400721652,"stop":1676400739246,"duration":17594}},{"uid":"40b2ef1f6b425f11","status":"passed","time":{"start":1676325491337,"stop":1676325524186,"duration":32849}},{"uid":"811fca76fbd6ef66","status":"passed","time":{"start":1674515478327,"stop":1674515480517,"duration":2190}},{"uid":"581553a55830abee","status":"passed","time":{"start":1674505594923,"stop":1674505627619,"duration":32696}},{"uid":"b7652eeb396ac6df","status":"passed","time":{"start":1674500192649,"stop":1674500225333,"duration":32684}},{"uid":"be0332c5a369daf0","status":"passed","time":{"start":1674257688409,"stop":1674257721210,"duration":32801}},{"uid":"5caf77cfa70d0722","status":"passed","time":{"start":1674255184100,"stop":1674255186375,"duration":2275}},{"uid":"f65957d67d0c7638","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080261298,"stop":1674080261337,"duration":39}},{"uid":"1a5f1976e1434678","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977875,"stop":1674074977907,"duration":32}},{"uid":"ce8f9d7dcc0d543","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600333,"stop":1674074600359,"duration":26}}]},"tags":[]},"source":"7ec2fcfe2c6cd2fe.json","parameterValues":[]}