{"uid":"46366ae53824f392","name":"Verify transitions powers off multiple compute nodes that are powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off multiple compute nodes that are powered on","historyId":"7a6914758791ce440c4068335f2673d5","time":{"start":1678217613561,"stop":1678217631133,"duration":17572},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve two compute nodes from HSM to be used in later stages","time":{"start":1678217613570,"stop":1678217613607,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"e6cf5313254747ac","name":"stage_yaml","source":"e6cf5313254747ac.yaml","type":"application/yaml","size":346},{"uid":"9639e3d533f0a941","name":"rest_request","source":"9639e3d533f0a941.yaml","type":"application/yaml","size":162},{"uid":"6b78c70eb515098a","name":"rest_response","source":"6b78c70eb515098a.yaml","type":"application/yaml","size":5746}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target nodes on to prepare them for the test case","time":{"start":1678217613608,"stop":1678217613621,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"63a33294b96a7840","name":"stage_yaml","source":"63a33294b96a7840.yaml","type":"application/yaml","size":807},{"uid":"97427d72daae95d2","name":"rest_request","source":"97427d72daae95d2.yaml","type":"application/yaml","size":236},{"uid":"c81f4bde31c770b0","name":"rest_response","source":"c81f4bde31c770b0.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678217613623,"stop":1678217614640,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"b98a76b3743e8155","name":"stage_yaml","source":"b98a76b3743e8155.yaml","type":"application/yaml","size":661},{"uid":"8a312329e2a3b425","name":"rest_request","source":"8a312329e2a3b425.yaml","type":"application/yaml","size":161},{"uid":"2ceaffb6d6a3965e","name":"rest_response","source":"2ceaffb6d6a3965e.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678217614641,"stop":1678217614658,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"e0a271db48824fb6","name":"stage_yaml","source":"e0a271db48824fb6.yaml","type":"application/yaml","size":2420},{"uid":"d8fda700905aa795","name":"rest_request","source":"d8fda700905aa795.yaml","type":"application/yaml","size":161},{"uid":"76e753bf1ae40d86","name":"rest_response","source":"76e753bf1ae40d86.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target nodes are powered on using power-status","time":{"start":1678217614659,"stop":1678217614672,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"791c1e0e66b8c9e0","name":"stage_yaml","source":"791c1e0e66b8c9e0.yaml","type":"application/yaml","size":1046},{"uid":"b8ec67b9ab08e9a0","name":"rest_request","source":"b8ec67b9ab08e9a0.yaml","type":"application/yaml","size":165},{"uid":"fac13abef31de1e4","name":"rest_response","source":"fac13abef31de1e4.yaml","type":"application/yaml","size":713}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target nodes off with a force-off transition","time":{"start":1678217614673,"stop":1678217614685,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"d4f49b1f613ab828","name":"stage_yaml","source":"d4f49b1f613ab828.yaml","type":"application/yaml","size":825},{"uid":"c8a0546d477198c5","name":"rest_request","source":"c8a0546d477198c5.yaml","type":"application/yaml","size":241},{"uid":"1d74bc8fa8e57cc2","name":"rest_response","source":"1d74bc8fa8e57cc2.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678217614687,"stop":1678217631101,"duration":16414},"status":"passed","steps":[],"attachments":[{"uid":"ad96d3b6b6553fab","name":"stage_yaml","source":"ad96d3b6b6553fab.yaml","type":"application/yaml","size":684},{"uid":"370292802b23cdd6","name":"rest_request","source":"370292802b23cdd6.yaml","type":"application/yaml","size":161},{"uid":"33e8cfc4ddcdd78c","name":"rest_response","source":"33e8cfc4ddcdd78c.yaml","type":"application/yaml","size":659},{"uid":"28990ad724c2ec76","name":"stage_yaml","source":"28990ad724c2ec76.yaml","type":"application/yaml","size":684},{"uid":"d189863cf73c795","name":"rest_request","source":"d189863cf73c795.yaml","type":"application/yaml","size":161},{"uid":"b5c4b02b658201b3","name":"rest_response","source":"b5c4b02b658201b3.yaml","type":"application/yaml","size":731},{"uid":"181e149ef55cd5a9","name":"stage_yaml","source":"181e149ef55cd5a9.yaml","type":"application/yaml","size":684},{"uid":"ac4c8ad8788408ed","name":"rest_request","source":"ac4c8ad8788408ed.yaml","type":"application/yaml","size":161},{"uid":"e140b5bbd584737f","name":"rest_response","source":"e140b5bbd584737f.yaml","type":"application/yaml","size":731},{"uid":"a8ec0fc7b29e45bb","name":"stage_yaml","source":"a8ec0fc7b29e45bb.yaml","type":"application/yaml","size":684},{"uid":"2d751b8209d74b1","name":"rest_request","source":"2d751b8209d74b1.yaml","type":"application/yaml","size":161},{"uid":"91d90431e9a3cfa4","name":"rest_response","source":"91d90431e9a3cfa4.yaml","type":"application/yaml","size":731},{"uid":"13dbcc3bfde20d88","name":"stage_yaml","source":"13dbcc3bfde20d88.yaml","type":"application/yaml","size":684},{"uid":"df73798996092adb","name":"rest_request","source":"df73798996092adb.yaml","type":"application/yaml","size":161},{"uid":"c4942cb37d0cc2c4","name":"rest_response","source":"c4942cb37d0cc2c4.yaml","type":"application/yaml","size":731},{"uid":"da054ac374bb0a5","name":"stage_yaml","source":"da054ac374bb0a5.yaml","type":"application/yaml","size":684},{"uid":"7ebc09ffc1e1745a","name":"rest_request","source":"7ebc09ffc1e1745a.yaml","type":"application/yaml","size":161},{"uid":"3a5401b61effa772","name":"rest_response","source":"3a5401b61effa772.yaml","type":"application/yaml","size":731},{"uid":"251190804be64084","name":"stage_yaml","source":"251190804be64084.yaml","type":"application/yaml","size":684},{"uid":"7099b79f096d9f13","name":"rest_request","source":"7099b79f096d9f13.yaml","type":"application/yaml","size":161},{"uid":"e6313d9977113dd5","name":"rest_response","source":"e6313d9977113dd5.yaml","type":"application/yaml","size":731},{"uid":"372b62b7d08a6c3","name":"stage_yaml","source":"372b62b7d08a6c3.yaml","type":"application/yaml","size":684},{"uid":"52d2a967eadb77a5","name":"rest_request","source":"52d2a967eadb77a5.yaml","type":"application/yaml","size":161},{"uid":"730e3c7b21814215","name":"rest_response","source":"730e3c7b21814215.yaml","type":"application/yaml","size":731},{"uid":"5f65f0d5de36b3f4","name":"stage_yaml","source":"5f65f0d5de36b3f4.yaml","type":"application/yaml","size":684},{"uid":"6c3e946f1c783da0","name":"rest_request","source":"6c3e946f1c783da0.yaml","type":"application/yaml","size":161},{"uid":"8856049075c5972f","name":"rest_response","source":"8856049075c5972f.yaml","type":"application/yaml","size":731},{"uid":"546c554092141f70","name":"stage_yaml","source":"546c554092141f70.yaml","type":"application/yaml","size":684},{"uid":"142a4ec629422512","name":"rest_request","source":"142a4ec629422512.yaml","type":"application/yaml","size":161},{"uid":"bc55c607d9eeea58","name":"rest_response","source":"bc55c607d9eeea58.yaml","type":"application/yaml","size":731},{"uid":"a218069c95ac92cd","name":"stage_yaml","source":"a218069c95ac92cd.yaml","type":"application/yaml","size":684},{"uid":"feb94c719bcb285a","name":"rest_request","source":"feb94c719bcb285a.yaml","type":"application/yaml","size":161},{"uid":"d8588c8642e811df","name":"rest_response","source":"d8588c8642e811df.yaml","type":"application/yaml","size":731},{"uid":"c2353a75954d5fb8","name":"stage_yaml","source":"c2353a75954d5fb8.yaml","type":"application/yaml","size":684},{"uid":"7f5c1ad0d4f82d46","name":"rest_request","source":"7f5c1ad0d4f82d46.yaml","type":"application/yaml","size":161},{"uid":"139d9c0c4a7db9fd","name":"rest_response","source":"139d9c0c4a7db9fd.yaml","type":"application/yaml","size":731},{"uid":"4bff4223b46fcb6b","name":"stage_yaml","source":"4bff4223b46fcb6b.yaml","type":"application/yaml","size":684},{"uid":"ab8a18e73130f337","name":"rest_request","source":"ab8a18e73130f337.yaml","type":"application/yaml","size":161},{"uid":"cb3e75fefa1c2a9d","name":"rest_response","source":"cb3e75fefa1c2a9d.yaml","type":"application/yaml","size":731},{"uid":"1f54636c6c5751fb","name":"stage_yaml","source":"1f54636c6c5751fb.yaml","type":"application/yaml","size":684},{"uid":"144224706c7e0ef4","name":"rest_request","source":"144224706c7e0ef4.yaml","type":"application/yaml","size":161},{"uid":"c48627f2ee1e301","name":"rest_response","source":"c48627f2ee1e301.yaml","type":"application/yaml","size":731},{"uid":"70ad24cc8362f491","name":"stage_yaml","source":"70ad24cc8362f491.yaml","type":"application/yaml","size":684},{"uid":"a60cbfd3f54bbb71","name":"rest_request","source":"a60cbfd3f54bbb71.yaml","type":"application/yaml","size":161},{"uid":"7644e60f30bd7c3c","name":"rest_response","source":"7644e60f30bd7c3c.yaml","type":"application/yaml","size":731},{"uid":"ab86bbb08084d807","name":"stage_yaml","source":"ab86bbb08084d807.yaml","type":"application/yaml","size":684},{"uid":"f7a85c28ed0db084","name":"rest_request","source":"f7a85c28ed0db084.yaml","type":"application/yaml","size":161},{"uid":"a4c040c41c5899eb","name":"rest_response","source":"a4c040c41c5899eb.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678217631102,"stop":1678217631119,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"32794e42226537a","name":"stage_yaml","source":"32794e42226537a.yaml","type":"application/yaml","size":2381},{"uid":"1c7ccdba85c3aee7","name":"rest_request","source":"1c7ccdba85c3aee7.yaml","type":"application/yaml","size":161},{"uid":"4b9a109a42d18180","name":"rest_response","source":"4b9a109a42d18180.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target nodes are powered off using power-status","time":{"start":1678217631120,"stop":1678217631133,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"f173b2a857f762bd","name":"stage_yaml","source":"f173b2a857f762bd.yaml","type":"application/yaml","size":1048},{"uid":"625b0d8bae5ba35c","name":"rest_request","source":"625b0d8bae5ba35c.yaml","type":"application/yaml","size":165},{"uid":"50e0cfe572ad365d","name":"rest_response","source":"50e0cfe572ad365d.yaml","type":"application/yaml","size":715}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"e2b2aa08ef0f76d5","name":"log","source":"e2b2aa08ef0f76d5.txt","type":"text/plain","size":59762}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3b92db619d34"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"b763e87bd9424842","status":"passed","time":{"start":1676400363177,"stop":1676400426892,"duration":63715}},{"uid":"fc8737e33e31c9a0","status":"passed","time":{"start":1676325134297,"stop":1676325197613,"duration":63316}},{"uid":"5eb14fdef486a450","status":"passed","time":{"start":1674515154005,"stop":1674515201884,"duration":47879}},{"uid":"ddfc583aa45ace9f","status":"passed","time":{"start":1674505269987,"stop":1674505317981,"duration":47994}},{"uid":"6e9381ad50e2dfdc","status":"passed","time":{"start":1674499837332,"stop":1674499885324,"duration":47992}},{"uid":"2073083b28028c73","status":"passed","time":{"start":1674257362994,"stop":1674257411014,"duration":48020}},{"uid":"6c3c659265719ba7","status":"passed","time":{"start":1674254841706,"stop":1674254905318,"duration":63612}},{"uid":"6ad8f123e8b4e9d7","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target nodes off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080253580,"stop":1674080254683,"duration":1103}},{"uid":"c9cf6fd0bbd2d4a6","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977424,"stop":1674074977456,"duration":32}},{"uid":"d21bc3a4b2160fd2","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074599958,"stop":1674074599989,"duration":31}}]},"tags":[]},"source":"46366ae53824f392.json","parameterValues":[]}