{"uid":"490eb662446c55b7","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1678218003870,"stop":1678218037523,"duration":33653},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678218003879,"stop":1678218003916,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"7cf704e84bb7685","name":"stage_yaml","source":"7cf704e84bb7685.yaml","type":"application/yaml","size":302},{"uid":"cc5ac2097ce37125","name":"rest_request","source":"cc5ac2097ce37125.yaml","type":"application/yaml","size":162},{"uid":"cdf68e411d8a93a4","name":"rest_response","source":"cdf68e411d8a93a4.yaml","type":"application/yaml","size":5752}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678218003917,"stop":1678218003930,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"426b3ee0db1fe4fc","name":"stage_yaml","source":"426b3ee0db1fe4fc.yaml","type":"application/yaml","size":797},{"uid":"5720be95eaa8e899","name":"rest_request","source":"5720be95eaa8e899.yaml","type":"application/yaml","size":216},{"uid":"124a6980329b8259","name":"rest_response","source":"124a6980329b8259.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678218003932,"stop":1678218035432,"duration":31500},"status":"passed","steps":[],"attachments":[{"uid":"28f56c0334e84d31","name":"stage_yaml","source":"28f56c0334e84d31.yaml","type":"application/yaml","size":682},{"uid":"4b9dfd874f3a6928","name":"rest_request","source":"4b9dfd874f3a6928.yaml","type":"application/yaml","size":161},{"uid":"3f8469c87f5ed639","name":"rest_response","source":"3f8469c87f5ed639.yaml","type":"application/yaml","size":572},{"uid":"5fe76dca4c509551","name":"stage_yaml","source":"5fe76dca4c509551.yaml","type":"application/yaml","size":682},{"uid":"411f25bb03376ea6","name":"rest_request","source":"411f25bb03376ea6.yaml","type":"application/yaml","size":161},{"uid":"186092cd08221584","name":"rest_response","source":"186092cd08221584.yaml","type":"application/yaml","size":608},{"uid":"c88a2c6c7303c9cc","name":"stage_yaml","source":"c88a2c6c7303c9cc.yaml","type":"application/yaml","size":682},{"uid":"5d07da9dbdce9967","name":"rest_request","source":"5d07da9dbdce9967.yaml","type":"application/yaml","size":161},{"uid":"86685d848a77012","name":"rest_response","source":"86685d848a77012.yaml","type":"application/yaml","size":608},{"uid":"4a5234f0c435fd07","name":"stage_yaml","source":"4a5234f0c435fd07.yaml","type":"application/yaml","size":682},{"uid":"7f04640cd79a8cf6","name":"rest_request","source":"7f04640cd79a8cf6.yaml","type":"application/yaml","size":161},{"uid":"413090c97047789a","name":"rest_response","source":"413090c97047789a.yaml","type":"application/yaml","size":608},{"uid":"35a0cf0abf9db084","name":"stage_yaml","source":"35a0cf0abf9db084.yaml","type":"application/yaml","size":682},{"uid":"be3021ed638e5a1b","name":"rest_request","source":"be3021ed638e5a1b.yaml","type":"application/yaml","size":161},{"uid":"4453beeaa4b840a2","name":"rest_response","source":"4453beeaa4b840a2.yaml","type":"application/yaml","size":608},{"uid":"dd6f5a0c2a86770c","name":"stage_yaml","source":"dd6f5a0c2a86770c.yaml","type":"application/yaml","size":682},{"uid":"e0d1797b69eb7f71","name":"rest_request","source":"e0d1797b69eb7f71.yaml","type":"application/yaml","size":161},{"uid":"1162af0687bffd03","name":"rest_response","source":"1162af0687bffd03.yaml","type":"application/yaml","size":608},{"uid":"85b5b0007ca3dd1d","name":"stage_yaml","source":"85b5b0007ca3dd1d.yaml","type":"application/yaml","size":682},{"uid":"fc977c7f79eff1ff","name":"rest_request","source":"fc977c7f79eff1ff.yaml","type":"application/yaml","size":161},{"uid":"c1782de97d8e79c9","name":"rest_response","source":"c1782de97d8e79c9.yaml","type":"application/yaml","size":608},{"uid":"fe487e6bd4f17c63","name":"stage_yaml","source":"fe487e6bd4f17c63.yaml","type":"application/yaml","size":682},{"uid":"222a1da8f021ae00","name":"rest_request","source":"222a1da8f021ae00.yaml","type":"application/yaml","size":161},{"uid":"ba58b02bde37d600","name":"rest_response","source":"ba58b02bde37d600.yaml","type":"application/yaml","size":608},{"uid":"53a20567999709c3","name":"stage_yaml","source":"53a20567999709c3.yaml","type":"application/yaml","size":682},{"uid":"3a52959d45368116","name":"rest_request","source":"3a52959d45368116.yaml","type":"application/yaml","size":161},{"uid":"697c2bc923e252e7","name":"rest_response","source":"697c2bc923e252e7.yaml","type":"application/yaml","size":608},{"uid":"44d4b0e76550b960","name":"stage_yaml","source":"44d4b0e76550b960.yaml","type":"application/yaml","size":682},{"uid":"2a2fe445d209bf0","name":"rest_request","source":"2a2fe445d209bf0.yaml","type":"application/yaml","size":161},{"uid":"7d00a557ef5adf45","name":"rest_response","source":"7d00a557ef5adf45.yaml","type":"application/yaml","size":608},{"uid":"c61bec0487131e01","name":"stage_yaml","source":"c61bec0487131e01.yaml","type":"application/yaml","size":682},{"uid":"c66cef41fd1593d6","name":"rest_request","source":"c66cef41fd1593d6.yaml","type":"application/yaml","size":161},{"uid":"c9729888ede4ae5d","name":"rest_response","source":"c9729888ede4ae5d.yaml","type":"application/yaml","size":608},{"uid":"55919599ece5f2c","name":"stage_yaml","source":"55919599ece5f2c.yaml","type":"application/yaml","size":682},{"uid":"64cbbed259a1ecf6","name":"rest_request","source":"64cbbed259a1ecf6.yaml","type":"application/yaml","size":161},{"uid":"fb7d6e6f577e2652","name":"rest_response","source":"fb7d6e6f577e2652.yaml","type":"application/yaml","size":608},{"uid":"f1fcc6db63433493","name":"stage_yaml","source":"f1fcc6db63433493.yaml","type":"application/yaml","size":682},{"uid":"94ea23a34bbde185","name":"rest_request","source":"94ea23a34bbde185.yaml","type":"application/yaml","size":161},{"uid":"10e9be77e80bf988","name":"rest_response","source":"10e9be77e80bf988.yaml","type":"application/yaml","size":608},{"uid":"505a14f4c39440c2","name":"stage_yaml","source":"505a14f4c39440c2.yaml","type":"application/yaml","size":682},{"uid":"b4920f4ad744a5f8","name":"rest_request","source":"b4920f4ad744a5f8.yaml","type":"application/yaml","size":161},{"uid":"cdc4f5bc1adc73ef","name":"rest_response","source":"cdc4f5bc1adc73ef.yaml","type":"application/yaml","size":608},{"uid":"ab7a10673f899ebe","name":"stage_yaml","source":"ab7a10673f899ebe.yaml","type":"application/yaml","size":682},{"uid":"f2fb6571f862dd10","name":"rest_request","source":"f2fb6571f862dd10.yaml","type":"application/yaml","size":161},{"uid":"93922fca7d3a10cb","name":"rest_response","source":"93922fca7d3a10cb.yaml","type":"application/yaml","size":608},{"uid":"fc8e17c73f523a18","name":"stage_yaml","source":"fc8e17c73f523a18.yaml","type":"application/yaml","size":682},{"uid":"2915119dee53ad3d","name":"rest_request","source":"2915119dee53ad3d.yaml","type":"application/yaml","size":161},{"uid":"78c79e785d73425","name":"rest_response","source":"78c79e785d73425.yaml","type":"application/yaml","size":608},{"uid":"c37aba0295aed223","name":"stage_yaml","source":"c37aba0295aed223.yaml","type":"application/yaml","size":682},{"uid":"a2f7f3c13a8c47f8","name":"rest_request","source":"a2f7f3c13a8c47f8.yaml","type":"application/yaml","size":161},{"uid":"4fef03d0038bc033","name":"rest_response","source":"4fef03d0038bc033.yaml","type":"application/yaml","size":608},{"uid":"d63a085714e679f1","name":"stage_yaml","source":"d63a085714e679f1.yaml","type":"application/yaml","size":682},{"uid":"702aaf43177ee8a3","name":"rest_request","source":"702aaf43177ee8a3.yaml","type":"application/yaml","size":161},{"uid":"faff9d1e70fdc01a","name":"rest_response","source":"faff9d1e70fdc01a.yaml","type":"application/yaml","size":608},{"uid":"e271e8f1fb2d73f4","name":"stage_yaml","source":"e271e8f1fb2d73f4.yaml","type":"application/yaml","size":682},{"uid":"f13c24ab4c413b10","name":"rest_request","source":"f13c24ab4c413b10.yaml","type":"application/yaml","size":161},{"uid":"d9db8d56fe8ae22e","name":"rest_response","source":"d9db8d56fe8ae22e.yaml","type":"application/yaml","size":608},{"uid":"7ad1b4a949f11f2b","name":"stage_yaml","source":"7ad1b4a949f11f2b.yaml","type":"application/yaml","size":682},{"uid":"2f2558e44ed0e98a","name":"rest_request","source":"2f2558e44ed0e98a.yaml","type":"application/yaml","size":161},{"uid":"2a368166a3d84d78","name":"rest_response","source":"2a368166a3d84d78.yaml","type":"application/yaml","size":608},{"uid":"4a06e12ba42726e5","name":"stage_yaml","source":"4a06e12ba42726e5.yaml","type":"application/yaml","size":682},{"uid":"ab55f8e6dab0c0da","name":"rest_request","source":"ab55f8e6dab0c0da.yaml","type":"application/yaml","size":161},{"uid":"3ca7eddd9453ce7d","name":"rest_response","source":"3ca7eddd9453ce7d.yaml","type":"application/yaml","size":608},{"uid":"948603c3405a145f","name":"stage_yaml","source":"948603c3405a145f.yaml","type":"application/yaml","size":682},{"uid":"d367fdba03930f3a","name":"rest_request","source":"d367fdba03930f3a.yaml","type":"application/yaml","size":161},{"uid":"abb3f1ebb8fd9b0b","name":"rest_response","source":"abb3f1ebb8fd9b0b.yaml","type":"application/yaml","size":608},{"uid":"3a9d5f5a167a7fc4","name":"stage_yaml","source":"3a9d5f5a167a7fc4.yaml","type":"application/yaml","size":682},{"uid":"6628ac55b15b805e","name":"rest_request","source":"6628ac55b15b805e.yaml","type":"application/yaml","size":161},{"uid":"14bf68f6e3a0a6a1","name":"rest_response","source":"14bf68f6e3a0a6a1.yaml","type":"application/yaml","size":608},{"uid":"a635bcbac227e9cb","name":"stage_yaml","source":"a635bcbac227e9cb.yaml","type":"application/yaml","size":682},{"uid":"a8cb56ef97849e45","name":"rest_request","source":"a8cb56ef97849e45.yaml","type":"application/yaml","size":161},{"uid":"6f0bef79b7527feb","name":"rest_response","source":"6f0bef79b7527feb.yaml","type":"application/yaml","size":608},{"uid":"190bf8ba2a2be61a","name":"stage_yaml","source":"190bf8ba2a2be61a.yaml","type":"application/yaml","size":682},{"uid":"cca4f20694a27ed8","name":"rest_request","source":"cca4f20694a27ed8.yaml","type":"application/yaml","size":161},{"uid":"b4564f7caf7a9dcb","name":"rest_response","source":"b4564f7caf7a9dcb.yaml","type":"application/yaml","size":608},{"uid":"aead490f88bd336c","name":"stage_yaml","source":"aead490f88bd336c.yaml","type":"application/yaml","size":682},{"uid":"158f5467f695c984","name":"rest_request","source":"158f5467f695c984.yaml","type":"application/yaml","size":161},{"uid":"ab67499d998d2689","name":"rest_response","source":"ab67499d998d2689.yaml","type":"application/yaml","size":608},{"uid":"6d7762bead34545","name":"stage_yaml","source":"6d7762bead34545.yaml","type":"application/yaml","size":682},{"uid":"2f8922a7f45edbe3","name":"rest_request","source":"2f8922a7f45edbe3.yaml","type":"application/yaml","size":161},{"uid":"921b614c4fdb66c5","name":"rest_response","source":"921b614c4fdb66c5.yaml","type":"application/yaml","size":608},{"uid":"6167f8aaf71601df","name":"stage_yaml","source":"6167f8aaf71601df.yaml","type":"application/yaml","size":682},{"uid":"bbcbdfaeca2704fd","name":"rest_request","source":"bbcbdfaeca2704fd.yaml","type":"application/yaml","size":161},{"uid":"d6bb0a0777768e18","name":"rest_response","source":"d6bb0a0777768e18.yaml","type":"application/yaml","size":608},{"uid":"7e2081a34d15a6cc","name":"stage_yaml","source":"7e2081a34d15a6cc.yaml","type":"application/yaml","size":682},{"uid":"cb4a74aa981b795b","name":"rest_request","source":"cb4a74aa981b795b.yaml","type":"application/yaml","size":161},{"uid":"befed47c5917ce1f","name":"rest_response","source":"befed47c5917ce1f.yaml","type":"application/yaml","size":608},{"uid":"7860147c10890437","name":"stage_yaml","source":"7860147c10890437.yaml","type":"application/yaml","size":682},{"uid":"efc7ab3ae223336","name":"rest_request","source":"efc7ab3ae223336.yaml","type":"application/yaml","size":161},{"uid":"fab95b65a33f4cae","name":"rest_response","source":"fab95b65a33f4cae.yaml","type":"application/yaml","size":608},{"uid":"70423de73350fc76","name":"stage_yaml","source":"70423de73350fc76.yaml","type":"application/yaml","size":682},{"uid":"26550579da88dac3","name":"rest_request","source":"26550579da88dac3.yaml","type":"application/yaml","size":161},{"uid":"377d3688352556f5","name":"rest_response","source":"377d3688352556f5.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1678218035433,"stop":1678218035449,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"a659ae7b41af5d46","name":"stage_yaml","source":"a659ae7b41af5d46.yaml","type":"application/yaml","size":2395},{"uid":"b86fcd7a25d45116","name":"rest_request","source":"b86fcd7a25d45116.yaml","type":"application/yaml","size":161},{"uid":"c154330c7bb5ef51","name":"rest_response","source":"c154330c7bb5ef51.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678218035450,"stop":1678218035461,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"b05e6d5ff764c12f","name":"stage_yaml","source":"b05e6d5ff764c12f.yaml","type":"application/yaml","size":978},{"uid":"2d832654c17f7a29","name":"rest_request","source":"2d832654c17f7a29.yaml","type":"application/yaml","size":145},{"uid":"c5fdbfdd1c896712","name":"rest_response","source":"c5fdbfdd1c896712.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1678218035462,"stop":1678218035473,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"817550895740c13b","name":"stage_yaml","source":"817550895740c13b.yaml","type":"application/yaml","size":816},{"uid":"b5ea16293f2b5dac","name":"rest_request","source":"b5ea16293f2b5dac.yaml","type":"application/yaml","size":219},{"uid":"ed584fd6b84f5d21","name":"rest_response","source":"ed584fd6b84f5d21.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1678218035475,"stop":1678218037506,"duration":2031},"status":"passed","steps":[],"attachments":[{"uid":"318bd30eea6386c8","name":"stage_yaml","source":"318bd30eea6386c8.yaml","type":"application/yaml","size":693},{"uid":"d7650641665df990","name":"rest_request","source":"d7650641665df990.yaml","type":"application/yaml","size":161},{"uid":"d6970c9d887f0fc8","name":"rest_response","source":"d6970c9d887f0fc8.yaml","type":"application/yaml","size":575},{"uid":"6096a978cb3f743c","name":"stage_yaml","source":"6096a978cb3f743c.yaml","type":"application/yaml","size":693},{"uid":"563457b57589f0da","name":"rest_request","source":"563457b57589f0da.yaml","type":"application/yaml","size":161},{"uid":"e1bd2335864a4916","name":"rest_response","source":"e1bd2335864a4916.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1678218037507,"stop":1678218037523,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"71b85c29bfcdd1c1","name":"stage_yaml","source":"71b85c29bfcdd1c1.yaml","type":"application/yaml","size":2549},{"uid":"e3a31795022ff813","name":"rest_request","source":"e3a31795022ff813.yaml","type":"application/yaml","size":161},{"uid":"639806d937190029","name":"rest_response","source":"639806d937190029.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"1ebf915acccc24df","name":"log","source":"1ebf915acccc24df.txt","type":"text/plain","size":119621}],"parameters":[],"stepsCount":8,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"3b92db619d34"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":8,"unknown":0,"total":11},"items":[{"uid":"6d291a0e4ef384a2","status":"passed","time":{"start":1676400847279,"stop":1676400880180,"duration":32901}},{"uid":"487cfda790237fd9","status":"passed","time":{"start":1676325617086,"stop":1676325650758,"duration":33672}},{"uid":"e2bf4ff70f030fbd","status":"passed","time":{"start":1674515574170,"stop":1674515576315,"duration":2145}},{"uid":"ac2c2c43995e5b5d","status":"passed","time":{"start":1674505690917,"stop":1674505723638,"duration":32721}},{"uid":"e465f9b1ebf7fc5f","status":"passed","time":{"start":1674500319095,"stop":1674500351749,"duration":32654}},{"uid":"f3f1f42e434c66e6","status":"passed","time":{"start":1674257814137,"stop":1674257846813,"duration":32676}},{"uid":"89f3a5ffdf236413","status":"passed","time":{"start":1674255264575,"stop":1674255297412,"duration":32837}},{"uid":"8d8f1724188849cb","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080262851,"stop":1674080262890,"duration":39}},{"uid":"63766b707ffc90e1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977989,"stop":1674074978018,"duration":29}},{"uid":"ef814c26c444c457","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600425,"stop":1674074600449,"duration":24}}]},"tags":[]},"source":"490eb662446c55b7.json","parameterValues":[]}