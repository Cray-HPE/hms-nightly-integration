{"uid":"2a33895f4267c2aa","name":"Verify power-cap for a single node","fullName":"api.4-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"c6d875da97f650251a49a7570403f1b8","time":{"start":1678218750739,"stop":1678218758391,"duration":7652},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678218750941,"stop":1678218750981,"duration":40},"status":"passed","steps":[],"attachments":[{"uid":"fe2e4e6a5990755a","name":"stage_yaml","source":"fe2e4e6a5990755a.yaml","type":"application/yaml","size":333},{"uid":"4fa09c3ba31b8a1","name":"rest_request","source":"4fa09c3ba31b8a1.yaml","type":"application/yaml","size":149},{"uid":"d815f8e7abe8b751","name":"rest_response","source":"d815f8e7abe8b751.yaml","type":"application/yaml","size":5774}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1678218750982,"stop":1678218750992,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"cc0c96d2d87ee865","name":"stage_yaml","source":"cc0c96d2d87ee865.yaml","type":"application/yaml","size":228},{"uid":"f357647e789f27af","name":"rest_request","source":"f357647e789f27af.yaml","type":"application/yaml","size":173},{"uid":"68972664f0dbb03","name":"rest_response","source":"68972664f0dbb03.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1678218750993,"stop":1678218751003,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"2ced84d4fad0debd","name":"stage_yaml","source":"2ced84d4fad0debd.yaml","type":"application/yaml","size":231},{"uid":"dcb5ab91e6448215","name":"rest_request","source":"dcb5ab91e6448215.yaml","type":"application/yaml","size":173},{"uid":"9debf4e4919a7fe2","name":"rest_response","source":"9debf4e4919a7fe2.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1678218751004,"stop":1678218751016,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"74bd482459089680","name":"stage_yaml","source":"74bd482459089680.yaml","type":"application/yaml","size":543},{"uid":"242316bb362c84b0","name":"rest_request","source":"242316bb362c84b0.yaml","type":"application/yaml","size":166},{"uid":"abbb4d5a77dd293b","name":"rest_response","source":"abbb4d5a77dd293b.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1678218751018,"stop":1678218752034,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"6a391204d2be3031","name":"stage_yaml","source":"6a391204d2be3031.yaml","type":"application/yaml","size":661},{"uid":"fc66f1b1afe174ce","name":"rest_request","source":"fc66f1b1afe174ce.yaml","type":"application/yaml","size":159},{"uid":"c3e67edb1531e53","name":"rest_response","source":"c3e67edb1531e53.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1678218752035,"stop":1678218752054,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"7ae1441e720397e","name":"stage_yaml","source":"7ae1441e720397e.yaml","type":"application/yaml","size":3543},{"uid":"94af097072bc0f5a","name":"rest_request","source":"94af097072bc0f5a.yaml","type":"application/yaml","size":159},{"uid":"9c3c531b3e1429ca","name":"rest_response","source":"9c3c531b3e1429ca.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1678218752055,"stop":1678218752069,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"cd2a0273760c3d15","name":"stage_yaml","source":"cd2a0273760c3d15.yaml","type":"application/yaml","size":639},{"uid":"9bea661efeb95604","name":"rest_request","source":"9bea661efeb95604.yaml","type":"application/yaml","size":229},{"uid":"7627a47848229570","name":"rest_response","source":"7627a47848229570.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1678218752073,"stop":1678218753092,"duration":1019},"status":"passed","steps":[],"attachments":[{"uid":"fd62c5b7259c9fbd","name":"stage_yaml","source":"fd62c5b7259c9fbd.yaml","type":"application/yaml","size":679},{"uid":"2f1263a2a51dcc30","name":"rest_request","source":"2f1263a2a51dcc30.yaml","type":"application/yaml","size":159},{"uid":"6dca4d7a74a57501","name":"rest_response","source":"6dca4d7a74a57501.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1678218753093,"stop":1678218753112,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"fdad7f05c6aa4169","name":"stage_yaml","source":"fdad7f05c6aa4169.yaml","type":"application/yaml","size":3157},{"uid":"49f104a26926ceb4","name":"rest_request","source":"49f104a26926ceb4.yaml","type":"application/yaml","size":159},{"uid":"15dcc9dc517dc0c3","name":"rest_response","source":"15dcc9dc517dc0c3.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1678218753113,"stop":1678218753126,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"853a4242d24593e8","name":"stage_yaml","source":"853a4242d24593e8.yaml","type":"application/yaml","size":639},{"uid":"e07f1a6bd77f5049","name":"rest_request","source":"e07f1a6bd77f5049.yaml","type":"application/yaml","size":229},{"uid":"5e221fe955827536","name":"rest_response","source":"5e221fe955827536.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1678218753129,"stop":1678218754143,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"fc6db34002197cdf","name":"stage_yaml","source":"fc6db34002197cdf.yaml","type":"application/yaml","size":679},{"uid":"8596cf00297362d2","name":"rest_request","source":"8596cf00297362d2.yaml","type":"application/yaml","size":159},{"uid":"cbaf04b17f0292ef","name":"rest_response","source":"cbaf04b17f0292ef.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1678218754145,"stop":1678218754163,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"6ffb281b5da3785d","name":"stage_yaml","source":"6ffb281b5da3785d.yaml","type":"application/yaml","size":3157},{"uid":"43797789e8869280","name":"rest_request","source":"43797789e8869280.yaml","type":"application/yaml","size":159},{"uid":"1319d5ef8cffe30e","name":"rest_response","source":"1319d5ef8cffe30e.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1678218754164,"stop":1678218754176,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"27449ddfd08e22c0","name":"stage_yaml","source":"27449ddfd08e22c0.yaml","type":"application/yaml","size":639},{"uid":"9ea709c99c348474","name":"rest_request","source":"9ea709c99c348474.yaml","type":"application/yaml","size":233},{"uid":"9e81e170a8f3790a","name":"rest_response","source":"9e81e170a8f3790a.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1678218754178,"stop":1678218755192,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"386c8b32daf256ca","name":"stage_yaml","source":"386c8b32daf256ca.yaml","type":"application/yaml","size":685},{"uid":"38f85061a3794346","name":"rest_request","source":"38f85061a3794346.yaml","type":"application/yaml","size":159},{"uid":"c1ad2a094e20838c","name":"rest_response","source":"c1ad2a094e20838c.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1678218755194,"stop":1678218755210,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"f55e727064f4fe35","name":"stage_yaml","source":"f55e727064f4fe35.yaml","type":"application/yaml","size":2234},{"uid":"624e60c7929fb8cc","name":"rest_request","source":"624e60c7929fb8cc.yaml","type":"application/yaml","size":159},{"uid":"1a096de5c785e1f0","name":"rest_response","source":"1a096de5c785e1f0.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1678218755211,"stop":1678218755224,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"f2e2b6bd2e23e981","name":"stage_yaml","source":"f2e2b6bd2e23e981.yaml","type":"application/yaml","size":631},{"uid":"c6f2637331194166","name":"rest_request","source":"c6f2637331194166.yaml","type":"application/yaml","size":227},{"uid":"633c54ffdd13fbd1","name":"rest_response","source":"633c54ffdd13fbd1.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1678218755227,"stop":1678218756241,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"c1d3cf4f9f3ae0d7","name":"stage_yaml","source":"c1d3cf4f9f3ae0d7.yaml","type":"application/yaml","size":685},{"uid":"89495cf9c6bdcf10","name":"rest_request","source":"89495cf9c6bdcf10.yaml","type":"application/yaml","size":159},{"uid":"d0496aaf40a04e79","name":"rest_response","source":"d0496aaf40a04e79.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1678218756242,"stop":1678218756260,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"7491d4f73c681b2a","name":"stage_yaml","source":"7491d4f73c681b2a.yaml","type":"application/yaml","size":2230},{"uid":"e1a48f90ec1bcc24","name":"rest_request","source":"e1a48f90ec1bcc24.yaml","type":"application/yaml","size":159},{"uid":"c0fd57d712ba4cfe","name":"rest_response","source":"c0fd57d712ba4cfe.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1678218756261,"stop":1678218756274,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"cc6509035e6a74b4","name":"stage_yaml","source":"cc6509035e6a74b4.yaml","type":"application/yaml","size":599},{"uid":"746c9a29bb720383","name":"rest_request","source":"746c9a29bb720383.yaml","type":"application/yaml","size":227},{"uid":"104fb7df4cfb208e","name":"rest_response","source":"104fb7df4cfb208e.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1678218756277,"stop":1678218757294,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"6159ec686ed34b5f","name":"stage_yaml","source":"6159ec686ed34b5f.yaml","type":"application/yaml","size":679},{"uid":"2136dbe0631ca3dd","name":"rest_request","source":"2136dbe0631ca3dd.yaml","type":"application/yaml","size":159},{"uid":"93d3d94c96a0963d","name":"rest_response","source":"93d3d94c96a0963d.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1678218757296,"stop":1678218757314,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"4db5d1a290cb18fa","name":"stage_yaml","source":"4db5d1a290cb18fa.yaml","type":"application/yaml","size":3125},{"uid":"f459d96a1ac23e3e","name":"rest_request","source":"f459d96a1ac23e3e.yaml","type":"application/yaml","size":159},{"uid":"9e4475db70f1328d","name":"rest_response","source":"9e4475db70f1328d.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1678218757315,"stop":1678218757329,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"9618af501df7caa1","name":"stage_yaml","source":"9618af501df7caa1.yaml","type":"application/yaml","size":640},{"uid":"67264c1696c82415","name":"rest_request","source":"67264c1696c82415.yaml","type":"application/yaml","size":227},{"uid":"5bb0ba6512a7f255","name":"rest_response","source":"5bb0ba6512a7f255.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1678218757331,"stop":1678218758348,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"84346dad645b8ed3","name":"stage_yaml","source":"84346dad645b8ed3.yaml","type":"application/yaml","size":680},{"uid":"f22790edb744f8ad","name":"rest_request","source":"f22790edb744f8ad.yaml","type":"application/yaml","size":159},{"uid":"71dd126d6b87947d","name":"rest_response","source":"71dd126d6b87947d.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1678218758350,"stop":1678218758368,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"a773cbf5d3beaa81","name":"stage_yaml","source":"a773cbf5d3beaa81.yaml","type":"application/yaml","size":3160},{"uid":"2de56d1d8dd8c734","name":"rest_request","source":"2de56d1d8dd8c734.yaml","type":"application/yaml","size":159},{"uid":"a04bc297670680f7","name":"rest_response","source":"a04bc297670680f7.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1678218758369,"stop":1678218758380,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"7c10f6f90473e0c5","name":"stage_yaml","source":"7c10f6f90473e0c5.yaml","type":"application/yaml","size":276},{"uid":"ff42374684cefb9","name":"rest_request","source":"ff42374684cefb9.yaml","type":"application/yaml","size":173},{"uid":"fc8cee4a66859c9","name":"rest_response","source":"fc8cee4a66859c9.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1678218758381,"stop":1678218758391,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"d0ebd03aa4c9e5b0","name":"stage_yaml","source":"d0ebd03aa4c9e5b0.yaml","type":"application/yaml","size":256},{"uid":"ac44192e6c23387c","name":"rest_request","source":"ac44192e6c23387c.yaml","type":"application/yaml","size":172},{"uid":"772b32e569768177","name":"rest_response","source":"772b32e569768177.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":78,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"912053ba453f"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":11},"items":[{"uid":"3ac4d7a4aea27ca9","status":"passed","time":{"start":1676401415560,"stop":1676401423478,"duration":7918}},{"uid":"8320eac632c6c50","status":"passed","time":{"start":1676326123444,"stop":1676326133145,"duration":9701}},{"uid":"2033b0cd5f87e006","status":"passed","time":{"start":1674516017611,"stop":1674516025271,"duration":7660}},{"uid":"d958f04c82741ac6","status":"passed","time":{"start":1674506193157,"stop":1674506200798,"duration":7641}},{"uid":"a370f4c234a4043d","status":"passed","time":{"start":1674500821056,"stop":1674500828702,"duration":7646}},{"uid":"9ad774d9b0624ca4","status":"passed","time":{"start":1674258346884,"stop":1674258355575,"duration":8691}},{"uid":"ed5410046bf99c16","status":"passed","time":{"start":1674255719656,"stop":1674255727518,"duration":7862}},{"uid":"9e5ddf4c3cc59a2","status":"passed","time":{"start":1674080348924,"stop":1674080359611,"duration":10687}},{"uid":"c57d29d7b9a4fd3","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674075069275,"stop":1674075069569,"duration":294}},{"uid":"6808c8d9b8886dc5","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674074687647,"stop":1674074687894,"duration":247}}]},"tags":[]},"source":"2a33895f4267c2aa.json","parameterValues":[]}