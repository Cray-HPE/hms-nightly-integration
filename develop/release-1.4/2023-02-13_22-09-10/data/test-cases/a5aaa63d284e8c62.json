{"uid":"a5aaa63d284e8c62","name":"Verify that off transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify that off transition operations can be aborted","historyId":"9f83b86b7f402bd21cbba63d959ff457","time":{"start":1676325279437,"stop":1676325312178,"duration":32741},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676325279446,"stop":1676325279484,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"20c34c32860d6c7e","name":"stage_yaml","source":"20c34c32860d6c7e.yaml","type":"application/yaml","size":302},{"uid":"6b1abae7b7b0cd38","name":"rest_request","source":"6b1abae7b7b0cd38.yaml","type":"application/yaml","size":162},{"uid":"48640b2b2353170e","name":"rest_response","source":"48640b2b2353170e.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1676325279485,"stop":1676325279500,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"d94086bdbf0046b4","name":"stage_yaml","source":"d94086bdbf0046b4.yaml","type":"application/yaml","size":775},{"uid":"cb5d0a3603b964a3","name":"rest_request","source":"cb5d0a3603b964a3.yaml","type":"application/yaml","size":211},{"uid":"eee086d78900fe7f","name":"rest_response","source":"eee086d78900fe7f.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676325279503,"stop":1676325311076,"duration":31573},"status":"passed","steps":[],"attachments":[{"uid":"880733e851ebf9e9","name":"stage_yaml","source":"880733e851ebf9e9.yaml","type":"application/yaml","size":661},{"uid":"77b5432790e707e2","name":"rest_request","source":"77b5432790e707e2.yaml","type":"application/yaml","size":161},{"uid":"384601ecd5c45954","name":"rest_response","source":"384601ecd5c45954.yaml","type":"application/yaml","size":567},{"uid":"77b29b3334cbfa9","name":"stage_yaml","source":"77b29b3334cbfa9.yaml","type":"application/yaml","size":661},{"uid":"8b3d7437ebc2e03c","name":"rest_request","source":"8b3d7437ebc2e03c.yaml","type":"application/yaml","size":161},{"uid":"937667a17a8b1925","name":"rest_response","source":"937667a17a8b1925.yaml","type":"application/yaml","size":597},{"uid":"dda7e394655bbaed","name":"stage_yaml","source":"dda7e394655bbaed.yaml","type":"application/yaml","size":661},{"uid":"11c46abbcac47c45","name":"rest_request","source":"11c46abbcac47c45.yaml","type":"application/yaml","size":161},{"uid":"1ada2db23984ead8","name":"rest_response","source":"1ada2db23984ead8.yaml","type":"application/yaml","size":597},{"uid":"8977fcdaadea13a7","name":"stage_yaml","source":"8977fcdaadea13a7.yaml","type":"application/yaml","size":661},{"uid":"8b6e7f06c2ed0722","name":"rest_request","source":"8b6e7f06c2ed0722.yaml","type":"application/yaml","size":161},{"uid":"8c81beaea367a105","name":"rest_response","source":"8c81beaea367a105.yaml","type":"application/yaml","size":597},{"uid":"2b0d73a7d5e80d21","name":"stage_yaml","source":"2b0d73a7d5e80d21.yaml","type":"application/yaml","size":661},{"uid":"c97c3219965f9e6e","name":"rest_request","source":"c97c3219965f9e6e.yaml","type":"application/yaml","size":161},{"uid":"f9ab741edd6aec89","name":"rest_response","source":"f9ab741edd6aec89.yaml","type":"application/yaml","size":597},{"uid":"ed683e3ba637dac1","name":"stage_yaml","source":"ed683e3ba637dac1.yaml","type":"application/yaml","size":661},{"uid":"2818a6ff5daf5c7c","name":"rest_request","source":"2818a6ff5daf5c7c.yaml","type":"application/yaml","size":161},{"uid":"b531766eaae1291e","name":"rest_response","source":"b531766eaae1291e.yaml","type":"application/yaml","size":597},{"uid":"61eb4cb4ea40aefa","name":"stage_yaml","source":"61eb4cb4ea40aefa.yaml","type":"application/yaml","size":661},{"uid":"33a3088f0b80f612","name":"rest_request","source":"33a3088f0b80f612.yaml","type":"application/yaml","size":161},{"uid":"de6e8a0e3e706bb","name":"rest_response","source":"de6e8a0e3e706bb.yaml","type":"application/yaml","size":597},{"uid":"e8ed4ecc7c1339b0","name":"stage_yaml","source":"e8ed4ecc7c1339b0.yaml","type":"application/yaml","size":661},{"uid":"71cd8a0f15e1363b","name":"rest_request","source":"71cd8a0f15e1363b.yaml","type":"application/yaml","size":161},{"uid":"23e428963e6f1198","name":"rest_response","source":"23e428963e6f1198.yaml","type":"application/yaml","size":597},{"uid":"c7f8da35fca2d08d","name":"stage_yaml","source":"c7f8da35fca2d08d.yaml","type":"application/yaml","size":661},{"uid":"f11ec7b56cf0b525","name":"rest_request","source":"f11ec7b56cf0b525.yaml","type":"application/yaml","size":161},{"uid":"482728fb2224874d","name":"rest_response","source":"482728fb2224874d.yaml","type":"application/yaml","size":597},{"uid":"c3ced29eb3a735e5","name":"stage_yaml","source":"c3ced29eb3a735e5.yaml","type":"application/yaml","size":661},{"uid":"3c332796a469aa93","name":"rest_request","source":"3c332796a469aa93.yaml","type":"application/yaml","size":161},{"uid":"502120e4d11a4331","name":"rest_response","source":"502120e4d11a4331.yaml","type":"application/yaml","size":597},{"uid":"1e31f7d1239e01d9","name":"stage_yaml","source":"1e31f7d1239e01d9.yaml","type":"application/yaml","size":661},{"uid":"2c92105d90279b62","name":"rest_request","source":"2c92105d90279b62.yaml","type":"application/yaml","size":161},{"uid":"4f33a50f078192fb","name":"rest_response","source":"4f33a50f078192fb.yaml","type":"application/yaml","size":597},{"uid":"80d0a50b976eb08a","name":"stage_yaml","source":"80d0a50b976eb08a.yaml","type":"application/yaml","size":661},{"uid":"8d34107d3ddebc25","name":"rest_request","source":"8d34107d3ddebc25.yaml","type":"application/yaml","size":161},{"uid":"ad0e1c390d264541","name":"rest_response","source":"ad0e1c390d264541.yaml","type":"application/yaml","size":597},{"uid":"68813d4c8d57a5a8","name":"stage_yaml","source":"68813d4c8d57a5a8.yaml","type":"application/yaml","size":661},{"uid":"546ddce95bcaffca","name":"rest_request","source":"546ddce95bcaffca.yaml","type":"application/yaml","size":161},{"uid":"f7fce68d97e15860","name":"rest_response","source":"f7fce68d97e15860.yaml","type":"application/yaml","size":597},{"uid":"b7fe0faf0adb8b8c","name":"stage_yaml","source":"b7fe0faf0adb8b8c.yaml","type":"application/yaml","size":661},{"uid":"84f5d3fe2f0a3bdc","name":"rest_request","source":"84f5d3fe2f0a3bdc.yaml","type":"application/yaml","size":161},{"uid":"1508684de92572b4","name":"rest_response","source":"1508684de92572b4.yaml","type":"application/yaml","size":597},{"uid":"adb243e7218548c4","name":"stage_yaml","source":"adb243e7218548c4.yaml","type":"application/yaml","size":661},{"uid":"122c2e5082f53fda","name":"rest_request","source":"122c2e5082f53fda.yaml","type":"application/yaml","size":161},{"uid":"3c2814e00c060e93","name":"rest_response","source":"3c2814e00c060e93.yaml","type":"application/yaml","size":597},{"uid":"632ed8e8351816d","name":"stage_yaml","source":"632ed8e8351816d.yaml","type":"application/yaml","size":661},{"uid":"37946a6648b0193c","name":"rest_request","source":"37946a6648b0193c.yaml","type":"application/yaml","size":161},{"uid":"b3cbf5b1b8d56286","name":"rest_response","source":"b3cbf5b1b8d56286.yaml","type":"application/yaml","size":597},{"uid":"9fc8571aea6056e4","name":"stage_yaml","source":"9fc8571aea6056e4.yaml","type":"application/yaml","size":661},{"uid":"2df631a9d1ab315b","name":"rest_request","source":"2df631a9d1ab315b.yaml","type":"application/yaml","size":161},{"uid":"11bff155183cbf12","name":"rest_response","source":"11bff155183cbf12.yaml","type":"application/yaml","size":597},{"uid":"c88bae6fbc2cbea2","name":"stage_yaml","source":"c88bae6fbc2cbea2.yaml","type":"application/yaml","size":661},{"uid":"56c1ef84c405a693","name":"rest_request","source":"56c1ef84c405a693.yaml","type":"application/yaml","size":161},{"uid":"54492cbd2ef2e735","name":"rest_response","source":"54492cbd2ef2e735.yaml","type":"application/yaml","size":597},{"uid":"229c2f581fa0b54e","name":"stage_yaml","source":"229c2f581fa0b54e.yaml","type":"application/yaml","size":661},{"uid":"bd4f2200b56e1312","name":"rest_request","source":"bd4f2200b56e1312.yaml","type":"application/yaml","size":161},{"uid":"adaab0809501343a","name":"rest_response","source":"adaab0809501343a.yaml","type":"application/yaml","size":597},{"uid":"120f5d9a51c02b71","name":"stage_yaml","source":"120f5d9a51c02b71.yaml","type":"application/yaml","size":661},{"uid":"2db1df8995ae328d","name":"rest_request","source":"2db1df8995ae328d.yaml","type":"application/yaml","size":161},{"uid":"3f77d66dd7102756","name":"rest_response","source":"3f77d66dd7102756.yaml","type":"application/yaml","size":597},{"uid":"cf6ce61cc4ea6bf4","name":"stage_yaml","source":"cf6ce61cc4ea6bf4.yaml","type":"application/yaml","size":661},{"uid":"c26dd891971fd284","name":"rest_request","source":"c26dd891971fd284.yaml","type":"application/yaml","size":161},{"uid":"96b876c7b099dffb","name":"rest_response","source":"96b876c7b099dffb.yaml","type":"application/yaml","size":597},{"uid":"e1bade08c6aa82ca","name":"stage_yaml","source":"e1bade08c6aa82ca.yaml","type":"application/yaml","size":661},{"uid":"c995f54a869ad0ce","name":"rest_request","source":"c995f54a869ad0ce.yaml","type":"application/yaml","size":161},{"uid":"104d440773074ca3","name":"rest_response","source":"104d440773074ca3.yaml","type":"application/yaml","size":597},{"uid":"fd8d18a98733fe7a","name":"stage_yaml","source":"fd8d18a98733fe7a.yaml","type":"application/yaml","size":661},{"uid":"b988341edef4a18b","name":"rest_request","source":"b988341edef4a18b.yaml","type":"application/yaml","size":161},{"uid":"41ef93893de4981","name":"rest_response","source":"41ef93893de4981.yaml","type":"application/yaml","size":597},{"uid":"e7209d84516b2d9d","name":"stage_yaml","source":"e7209d84516b2d9d.yaml","type":"application/yaml","size":661},{"uid":"b1ed81d855f9e0da","name":"rest_request","source":"b1ed81d855f9e0da.yaml","type":"application/yaml","size":161},{"uid":"f69b9840980b69a2","name":"rest_response","source":"f69b9840980b69a2.yaml","type":"application/yaml","size":597},{"uid":"1df88198e666cc71","name":"stage_yaml","source":"1df88198e666cc71.yaml","type":"application/yaml","size":661},{"uid":"5f3bce75a814f9a","name":"rest_request","source":"5f3bce75a814f9a.yaml","type":"application/yaml","size":161},{"uid":"3f5d08ad93a98d7a","name":"rest_response","source":"3f5d08ad93a98d7a.yaml","type":"application/yaml","size":597},{"uid":"a88b9396029c2cf3","name":"stage_yaml","source":"a88b9396029c2cf3.yaml","type":"application/yaml","size":661},{"uid":"a2204db1ba8e3f36","name":"rest_request","source":"a2204db1ba8e3f36.yaml","type":"application/yaml","size":161},{"uid":"d9b082913f0eb48b","name":"rest_response","source":"d9b082913f0eb48b.yaml","type":"application/yaml","size":597},{"uid":"262720590913a30c","name":"stage_yaml","source":"262720590913a30c.yaml","type":"application/yaml","size":661},{"uid":"a8fdda3ae17913","name":"rest_request","source":"a8fdda3ae17913.yaml","type":"application/yaml","size":161},{"uid":"44f5114320bf10d0","name":"rest_response","source":"44f5114320bf10d0.yaml","type":"application/yaml","size":597},{"uid":"c7bcc78394cf9e60","name":"stage_yaml","source":"c7bcc78394cf9e60.yaml","type":"application/yaml","size":661},{"uid":"25858ac25f1847ae","name":"rest_request","source":"25858ac25f1847ae.yaml","type":"application/yaml","size":161},{"uid":"fb7b1ca33c4437b","name":"rest_response","source":"fb7b1ca33c4437b.yaml","type":"application/yaml","size":597},{"uid":"85e801532e2f340c","name":"stage_yaml","source":"85e801532e2f340c.yaml","type":"application/yaml","size":661},{"uid":"6edcff8087c58a12","name":"rest_request","source":"6edcff8087c58a12.yaml","type":"application/yaml","size":161},{"uid":"cf2a050817e23c24","name":"rest_response","source":"cf2a050817e23c24.yaml","type":"application/yaml","size":597},{"uid":"dbfb55811c3f6d6e","name":"stage_yaml","source":"dbfb55811c3f6d6e.yaml","type":"application/yaml","size":661},{"uid":"955eb7fd5eba9d18","name":"rest_request","source":"955eb7fd5eba9d18.yaml","type":"application/yaml","size":161},{"uid":"37128d03bc6c735f","name":"rest_response","source":"37128d03bc6c735f.yaml","type":"application/yaml","size":597},{"uid":"3a01a9a292276324","name":"stage_yaml","source":"3a01a9a292276324.yaml","type":"application/yaml","size":661},{"uid":"87e94cac0d38c4f8","name":"rest_request","source":"87e94cac0d38c4f8.yaml","type":"application/yaml","size":161},{"uid":"623e7130b1b07c60","name":"rest_response","source":"623e7130b1b07c60.yaml","type":"application/yaml","size":581}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676325311077,"stop":1676325311095,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"ab10ac02f20dff04","name":"stage_yaml","source":"ab10ac02f20dff04.yaml","type":"application/yaml","size":2375},{"uid":"f313587d6d6fe68f","name":"rest_request","source":"f313587d6d6fe68f.yaml","type":"application/yaml","size":161},{"uid":"85c6fe39a4b17e5b","name":"rest_response","source":"85c6fe39a4b17e5b.yaml","type":"application/yaml","size":581}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1676325311095,"stop":1676325311108,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"6ba189badd5ce1f5","name":"stage_yaml","source":"6ba189badd5ce1f5.yaml","type":"application/yaml","size":976},{"uid":"f635f1bddd186fe9","name":"rest_request","source":"f635f1bddd186fe9.yaml","type":"application/yaml","size":145},{"uid":"5e5b409759e9db15","name":"rest_response","source":"5e5b409759e9db15.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue a force-off transition for the target node","time":{"start":1676325311109,"stop":1676325311124,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"28f71daf0df06453","name":"stage_yaml","source":"28f71daf0df06453.yaml","type":"application/yaml","size":790},{"uid":"2755058b1950371f","name":"rest_request","source":"2755058b1950371f.yaml","type":"application/yaml","size":216},{"uid":"3643f0567d5c2b1e","name":"rest_response","source":"3643f0567d5c2b1e.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued force-off transition","time":{"start":1676325311125,"stop":1676325311140,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"88cafca30631ad49","name":"stage_yaml","source":"88cafca30631ad49.yaml","type":"application/yaml","size":541},{"uid":"86b452005fd5a68a","name":"rest_request","source":"86b452005fd5a68a.yaml","type":"application/yaml","size":164},{"uid":"e9394400c4f1515b","name":"rest_response","source":"e9394400c4f1515b.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted force-off transition operation has been aborted","time":{"start":1676325311143,"stop":1676325312160,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"8a613904c1f8f948","name":"stage_yaml","source":"8a613904c1f8f948.yaml","type":"application/yaml","size":724},{"uid":"2410b566e0393056","name":"rest_request","source":"2410b566e0393056.yaml","type":"application/yaml","size":161},{"uid":"2282ed81e67f91c8","name":"rest_response","source":"2282ed81e67f91c8.yaml","type":"application/yaml","size":658}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted force-off transition","time":{"start":1676325312161,"stop":1676325312177,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"77afb7a183ab79ac","name":"stage_yaml","source":"77afb7a183ab79ac.yaml","type":"application/yaml","size":2495},{"uid":"3fc335482a0412d5","name":"rest_request","source":"3fc335482a0412d5.yaml","type":"application/yaml","size":161},{"uid":"bddd8df75e996b03","name":"rest_response","source":"bddd8df75e996b03.yaml","type":"application/yaml","size":658}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"5149b05190462433","name":"log","source":"5149b05190462433.txt","type":"text/plain","size":115409}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"304f7ece69ff"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"f491104c8d23a3b3","status":"passed","time":{"start":1674515297549,"stop":1674515330188,"duration":32639}},{"uid":"50168dcbaea5c61b","status":"passed","time":{"start":1674505383319,"stop":1674505416009,"duration":32690}},{"uid":"42b26616a8b88cd","status":"passed","time":{"start":1674499981175,"stop":1674500013862,"duration":32687}},{"uid":"eeeffbcc1f7c1047","status":"passed","time":{"start":1674257507025,"stop":1674257539761,"duration":32736}},{"uid":"8bfd3efd49aa024b","status":"passed","time":{"start":1674255001702,"stop":1674255034593,"duration":32891}},{"uid":"d5ae4147fd0ac691","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Issue a force-off transition for the target node' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080257200,"stop":1674080258301,"duration":1101}},{"uid":"3ab278ee1f0e4249","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977566,"stop":1674074977599,"duration":33}},{"uid":"a51b8d288a905e16","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074600081,"stop":1674074600108,"duration":27}}]},"tags":[]},"source":"a5aaa63d284e8c62.json","parameterValues":[]}