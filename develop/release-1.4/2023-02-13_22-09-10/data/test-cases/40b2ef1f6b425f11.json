{"uid":"40b2ef1f6b425f11","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1676325491337,"stop":1676325524186,"duration":32849},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676325491345,"stop":1676325491382,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"1768a43f5ae1f4a1","name":"stage_yaml","source":"1768a43f5ae1f4a1.yaml","type":"application/yaml","size":302},{"uid":"808419651d4920dc","name":"rest_request","source":"808419651d4920dc.yaml","type":"application/yaml","size":162},{"uid":"dfee0193e162e42a","name":"rest_response","source":"dfee0193e162e42a.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676325491382,"stop":1676325491395,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"62a50884a9100b56","name":"stage_yaml","source":"62a50884a9100b56.yaml","type":"application/yaml","size":797},{"uid":"ea27cc6099c84288","name":"rest_request","source":"ea27cc6099c84288.yaml","type":"application/yaml","size":216},{"uid":"6dfe57c8c559af56","name":"rest_response","source":"6dfe57c8c559af56.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676325491396,"stop":1676325523053,"duration":31657},"status":"passed","steps":[],"attachments":[{"uid":"619eb27f89ba626e","name":"stage_yaml","source":"619eb27f89ba626e.yaml","type":"application/yaml","size":682},{"uid":"e0bcbc2dd17b9d46","name":"rest_request","source":"e0bcbc2dd17b9d46.yaml","type":"application/yaml","size":161},{"uid":"1540fd9030c4d82d","name":"rest_response","source":"1540fd9030c4d82d.yaml","type":"application/yaml","size":587},{"uid":"45023b1281453452","name":"stage_yaml","source":"45023b1281453452.yaml","type":"application/yaml","size":682},{"uid":"6cb0247a9990b3f","name":"rest_request","source":"6cb0247a9990b3f.yaml","type":"application/yaml","size":161},{"uid":"bcf0421a3c549838","name":"rest_response","source":"bcf0421a3c549838.yaml","type":"application/yaml","size":608},{"uid":"648b01bf35c41141","name":"stage_yaml","source":"648b01bf35c41141.yaml","type":"application/yaml","size":682},{"uid":"2547f0184e5dbd75","name":"rest_request","source":"2547f0184e5dbd75.yaml","type":"application/yaml","size":161},{"uid":"5c9e2c0519fd415f","name":"rest_response","source":"5c9e2c0519fd415f.yaml","type":"application/yaml","size":608},{"uid":"92a539641323ea39","name":"stage_yaml","source":"92a539641323ea39.yaml","type":"application/yaml","size":682},{"uid":"3687b13be9a0ea97","name":"rest_request","source":"3687b13be9a0ea97.yaml","type":"application/yaml","size":161},{"uid":"1ed6ea2882c0af8e","name":"rest_response","source":"1ed6ea2882c0af8e.yaml","type":"application/yaml","size":608},{"uid":"8503e099e5cbb421","name":"stage_yaml","source":"8503e099e5cbb421.yaml","type":"application/yaml","size":682},{"uid":"3cec3bb6892b5ceb","name":"rest_request","source":"3cec3bb6892b5ceb.yaml","type":"application/yaml","size":161},{"uid":"c209677e8ec57430","name":"rest_response","source":"c209677e8ec57430.yaml","type":"application/yaml","size":608},{"uid":"4ce6a219059412e8","name":"stage_yaml","source":"4ce6a219059412e8.yaml","type":"application/yaml","size":682},{"uid":"99814748ede25222","name":"rest_request","source":"99814748ede25222.yaml","type":"application/yaml","size":161},{"uid":"baf4f3a2531cccc1","name":"rest_response","source":"baf4f3a2531cccc1.yaml","type":"application/yaml","size":608},{"uid":"1da09efcc784cabd","name":"stage_yaml","source":"1da09efcc784cabd.yaml","type":"application/yaml","size":682},{"uid":"f241b82d89501353","name":"rest_request","source":"f241b82d89501353.yaml","type":"application/yaml","size":161},{"uid":"c97c0b4de03496aa","name":"rest_response","source":"c97c0b4de03496aa.yaml","type":"application/yaml","size":608},{"uid":"57d10c049f75854a","name":"stage_yaml","source":"57d10c049f75854a.yaml","type":"application/yaml","size":682},{"uid":"320dc0765f16b030","name":"rest_request","source":"320dc0765f16b030.yaml","type":"application/yaml","size":161},{"uid":"ea0d3c869dc36e7","name":"rest_response","source":"ea0d3c869dc36e7.yaml","type":"application/yaml","size":608},{"uid":"8937423aae53fe70","name":"stage_yaml","source":"8937423aae53fe70.yaml","type":"application/yaml","size":682},{"uid":"a062ea7f85ea485","name":"rest_request","source":"a062ea7f85ea485.yaml","type":"application/yaml","size":161},{"uid":"2a895fc05bace067","name":"rest_response","source":"2a895fc05bace067.yaml","type":"application/yaml","size":608},{"uid":"1e42988ba0dbdc26","name":"stage_yaml","source":"1e42988ba0dbdc26.yaml","type":"application/yaml","size":682},{"uid":"af12496a2df0c8b5","name":"rest_request","source":"af12496a2df0c8b5.yaml","type":"application/yaml","size":161},{"uid":"c5abbc8014197c07","name":"rest_response","source":"c5abbc8014197c07.yaml","type":"application/yaml","size":608},{"uid":"f4aa81d0448f0681","name":"stage_yaml","source":"f4aa81d0448f0681.yaml","type":"application/yaml","size":682},{"uid":"d33f5676aa254849","name":"rest_request","source":"d33f5676aa254849.yaml","type":"application/yaml","size":161},{"uid":"e8a49523231ddc18","name":"rest_response","source":"e8a49523231ddc18.yaml","type":"application/yaml","size":608},{"uid":"924a01a3128f4539","name":"stage_yaml","source":"924a01a3128f4539.yaml","type":"application/yaml","size":682},{"uid":"11001c67bee5338f","name":"rest_request","source":"11001c67bee5338f.yaml","type":"application/yaml","size":161},{"uid":"e6850354e9d89ea1","name":"rest_response","source":"e6850354e9d89ea1.yaml","type":"application/yaml","size":608},{"uid":"43c90272ba3d853d","name":"stage_yaml","source":"43c90272ba3d853d.yaml","type":"application/yaml","size":682},{"uid":"45694beaa3c29ec7","name":"rest_request","source":"45694beaa3c29ec7.yaml","type":"application/yaml","size":161},{"uid":"3e3fe1b84124fa26","name":"rest_response","source":"3e3fe1b84124fa26.yaml","type":"application/yaml","size":608},{"uid":"a6058e57adb8c543","name":"stage_yaml","source":"a6058e57adb8c543.yaml","type":"application/yaml","size":682},{"uid":"9b04b12c079c46b2","name":"rest_request","source":"9b04b12c079c46b2.yaml","type":"application/yaml","size":161},{"uid":"c4ba75108ef38bf7","name":"rest_response","source":"c4ba75108ef38bf7.yaml","type":"application/yaml","size":608},{"uid":"ee00fbc29be05c2","name":"stage_yaml","source":"ee00fbc29be05c2.yaml","type":"application/yaml","size":682},{"uid":"f2ac9dbfb149dcf7","name":"rest_request","source":"f2ac9dbfb149dcf7.yaml","type":"application/yaml","size":161},{"uid":"af64fd5772816fb2","name":"rest_response","source":"af64fd5772816fb2.yaml","type":"application/yaml","size":608},{"uid":"d943f1312c099956","name":"stage_yaml","source":"d943f1312c099956.yaml","type":"application/yaml","size":682},{"uid":"649dda3d3b417778","name":"rest_request","source":"649dda3d3b417778.yaml","type":"application/yaml","size":161},{"uid":"b28971ab1980fa3a","name":"rest_response","source":"b28971ab1980fa3a.yaml","type":"application/yaml","size":608},{"uid":"426f6081b571a007","name":"stage_yaml","source":"426f6081b571a007.yaml","type":"application/yaml","size":682},{"uid":"6833dc271352064c","name":"rest_request","source":"6833dc271352064c.yaml","type":"application/yaml","size":161},{"uid":"64637a8325da7b34","name":"rest_response","source":"64637a8325da7b34.yaml","type":"application/yaml","size":608},{"uid":"feaf45a3b2d32837","name":"stage_yaml","source":"feaf45a3b2d32837.yaml","type":"application/yaml","size":682},{"uid":"db7742874052c398","name":"rest_request","source":"db7742874052c398.yaml","type":"application/yaml","size":161},{"uid":"67355f4698a5bd7e","name":"rest_response","source":"67355f4698a5bd7e.yaml","type":"application/yaml","size":608},{"uid":"a49e33bdb94e173e","name":"stage_yaml","source":"a49e33bdb94e173e.yaml","type":"application/yaml","size":682},{"uid":"26d70558d15b4f66","name":"rest_request","source":"26d70558d15b4f66.yaml","type":"application/yaml","size":161},{"uid":"46c701f1e5497055","name":"rest_response","source":"46c701f1e5497055.yaml","type":"application/yaml","size":608},{"uid":"4b1d4c197b671f59","name":"stage_yaml","source":"4b1d4c197b671f59.yaml","type":"application/yaml","size":682},{"uid":"e33b5dcafe69a87d","name":"rest_request","source":"e33b5dcafe69a87d.yaml","type":"application/yaml","size":161},{"uid":"8f62dbe0018c2f67","name":"rest_response","source":"8f62dbe0018c2f67.yaml","type":"application/yaml","size":608},{"uid":"5513258b4cad7cb","name":"stage_yaml","source":"5513258b4cad7cb.yaml","type":"application/yaml","size":682},{"uid":"44357c5ba1d783f9","name":"rest_request","source":"44357c5ba1d783f9.yaml","type":"application/yaml","size":161},{"uid":"5bba52b9e927f410","name":"rest_response","source":"5bba52b9e927f410.yaml","type":"application/yaml","size":608},{"uid":"b890364df0f7e36a","name":"stage_yaml","source":"b890364df0f7e36a.yaml","type":"application/yaml","size":682},{"uid":"d091d41d3cdc6a2f","name":"rest_request","source":"d091d41d3cdc6a2f.yaml","type":"application/yaml","size":161},{"uid":"879db39aa8651b4f","name":"rest_response","source":"879db39aa8651b4f.yaml","type":"application/yaml","size":608},{"uid":"623a65bb84c4490","name":"stage_yaml","source":"623a65bb84c4490.yaml","type":"application/yaml","size":682},{"uid":"46dc48d5ddb2be22","name":"rest_request","source":"46dc48d5ddb2be22.yaml","type":"application/yaml","size":161},{"uid":"537ac38996fdf5e","name":"rest_response","source":"537ac38996fdf5e.yaml","type":"application/yaml","size":608},{"uid":"94c2e908724b5b5d","name":"stage_yaml","source":"94c2e908724b5b5d.yaml","type":"application/yaml","size":682},{"uid":"8f12ac87d25291f3","name":"rest_request","source":"8f12ac87d25291f3.yaml","type":"application/yaml","size":161},{"uid":"23606d787f0cba9a","name":"rest_response","source":"23606d787f0cba9a.yaml","type":"application/yaml","size":608},{"uid":"ce118018d8f9b82a","name":"stage_yaml","source":"ce118018d8f9b82a.yaml","type":"application/yaml","size":682},{"uid":"9c4713193a2c6c22","name":"rest_request","source":"9c4713193a2c6c22.yaml","type":"application/yaml","size":161},{"uid":"7f5a9259f3d9c2bd","name":"rest_response","source":"7f5a9259f3d9c2bd.yaml","type":"application/yaml","size":608},{"uid":"6b125f1904e5e6ce","name":"stage_yaml","source":"6b125f1904e5e6ce.yaml","type":"application/yaml","size":682},{"uid":"67c0bd06616cde77","name":"rest_request","source":"67c0bd06616cde77.yaml","type":"application/yaml","size":161},{"uid":"921e2c9fea2024ba","name":"rest_response","source":"921e2c9fea2024ba.yaml","type":"application/yaml","size":608},{"uid":"800ecef3ba7ceaa","name":"stage_yaml","source":"800ecef3ba7ceaa.yaml","type":"application/yaml","size":682},{"uid":"8000fea5d26c1f53","name":"rest_request","source":"8000fea5d26c1f53.yaml","type":"application/yaml","size":161},{"uid":"31cfd2948b458684","name":"rest_response","source":"31cfd2948b458684.yaml","type":"application/yaml","size":608},{"uid":"862223e12b57845e","name":"stage_yaml","source":"862223e12b57845e.yaml","type":"application/yaml","size":682},{"uid":"d75f1840f357d0bd","name":"rest_request","source":"d75f1840f357d0bd.yaml","type":"application/yaml","size":161},{"uid":"5e5e60ee661b1afb","name":"rest_response","source":"5e5e60ee661b1afb.yaml","type":"application/yaml","size":608},{"uid":"b7e5bcc391489937","name":"stage_yaml","source":"b7e5bcc391489937.yaml","type":"application/yaml","size":682},{"uid":"fe7d0872e5f3056b","name":"rest_request","source":"fe7d0872e5f3056b.yaml","type":"application/yaml","size":161},{"uid":"4c81e8c31417d342","name":"rest_response","source":"4c81e8c31417d342.yaml","type":"application/yaml","size":608},{"uid":"ad3858efab0d806","name":"stage_yaml","source":"ad3858efab0d806.yaml","type":"application/yaml","size":682},{"uid":"a9ba3f874f9d80d9","name":"rest_request","source":"a9ba3f874f9d80d9.yaml","type":"application/yaml","size":161},{"uid":"36dbf8816102a713","name":"rest_response","source":"36dbf8816102a713.yaml","type":"application/yaml","size":608},{"uid":"5a3900fe31c3d408","name":"stage_yaml","source":"5a3900fe31c3d408.yaml","type":"application/yaml","size":682},{"uid":"88d9b23dabef19aa","name":"rest_request","source":"88d9b23dabef19aa.yaml","type":"application/yaml","size":161},{"uid":"70149562326a0ebe","name":"rest_response","source":"70149562326a0ebe.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1676325523054,"stop":1676325523072,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"bab36e71178e62db","name":"stage_yaml","source":"bab36e71178e62db.yaml","type":"application/yaml","size":2389},{"uid":"c89c15b38da29de0","name":"rest_request","source":"c89c15b38da29de0.yaml","type":"application/yaml","size":161},{"uid":"3c099ec91721092","name":"rest_response","source":"3c099ec91721092.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676325523073,"stop":1676325523087,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"9bead1b8e32dc38","name":"stage_yaml","source":"9bead1b8e32dc38.yaml","type":"application/yaml","size":978},{"uid":"c1e6e2a4e7789aad","name":"rest_request","source":"c1e6e2a4e7789aad.yaml","type":"application/yaml","size":145},{"uid":"d381a664694d4cb6","name":"rest_response","source":"d381a664694d4cb6.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1676325523088,"stop":1676325523103,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"18d0a59fd3d812f3","name":"stage_yaml","source":"18d0a59fd3d812f3.yaml","type":"application/yaml","size":763},{"uid":"a2a5dc54da8c576f","name":"rest_request","source":"a2a5dc54da8c576f.yaml","type":"application/yaml","size":211},{"uid":"fd9f7b29bcae1a6d","name":"rest_response","source":"fd9f7b29bcae1a6d.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1676325523106,"stop":1676325523130,"duration":24},"status":"passed","steps":[],"attachments":[{"uid":"70f5091502d93e86","name":"stage_yaml","source":"70f5091502d93e86.yaml","type":"application/yaml","size":534},{"uid":"f199fc2f99948417","name":"rest_request","source":"f199fc2f99948417.yaml","type":"application/yaml","size":164},{"uid":"c42dcfa5bcb3ae6b","name":"rest_response","source":"c42dcfa5bcb3ae6b.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1676325523142,"stop":1676325524168,"duration":1026},"status":"passed","steps":[],"attachments":[{"uid":"4e41176d8076a5fe","name":"stage_yaml","source":"4e41176d8076a5fe.yaml","type":"application/yaml","size":703},{"uid":"bfe613c1195dc7de","name":"rest_request","source":"bfe613c1195dc7de.yaml","type":"application/yaml","size":161},{"uid":"ba97cbcc7c025399","name":"rest_response","source":"ba97cbcc7c025399.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1676325524169,"stop":1676325524186,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"add15d8138d0233e","name":"stage_yaml","source":"add15d8138d0233e.yaml","type":"application/yaml","size":2481},{"uid":"8eccc10a08e1ffc4","name":"rest_request","source":"8eccc10a08e1ffc4.yaml","type":"application/yaml","size":161},{"uid":"71492439e56ec922","name":"rest_response","source":"71492439e56ec922.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"455281c79adca2b5","name":"log","source":"455281c79adca2b5.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"304f7ece69ff"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"811fca76fbd6ef66","status":"passed","time":{"start":1674515478327,"stop":1674515480517,"duration":2190}},{"uid":"581553a55830abee","status":"passed","time":{"start":1674505594923,"stop":1674505627619,"duration":32696}},{"uid":"b7652eeb396ac6df","status":"passed","time":{"start":1674500192649,"stop":1674500225333,"duration":32684}},{"uid":"be0332c5a369daf0","status":"passed","time":{"start":1674257688409,"stop":1674257721210,"duration":32801}},{"uid":"5caf77cfa70d0722","status":"passed","time":{"start":1674255184100,"stop":1674255186375,"duration":2275}},{"uid":"f65957d67d0c7638","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080261298,"stop":1674080261337,"duration":39}},{"uid":"1a5f1976e1434678","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977875,"stop":1674074977907,"duration":32}},{"uid":"ce8f9d7dcc0d543","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600333,"stop":1674074600359,"duration":26}}]},"tags":[]},"source":"40b2ef1f6b425f11.json","parameterValues":[]}