{"uid":"8320eac632c6c50","name":"Verify power-cap for a single node","fullName":"api.4-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"c6d875da97f650251a49a7570403f1b8","time":{"start":1676326123444,"stop":1676326133145,"duration":9701},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676326123648,"stop":1676326123686,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"3af8af49979c6344","name":"stage_yaml","source":"3af8af49979c6344.yaml","type":"application/yaml","size":333},{"uid":"fd29a408169d8b8d","name":"rest_request","source":"fd29a408169d8b8d.yaml","type":"application/yaml","size":149},{"uid":"77c40310ef9da55a","name":"rest_response","source":"77c40310ef9da55a.yaml","type":"application/yaml","size":5769}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1676326123687,"stop":1676326123697,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"3c3db08f0c7224d0","name":"stage_yaml","source":"3c3db08f0c7224d0.yaml","type":"application/yaml","size":228},{"uid":"f6fd3ae6534f6ddf","name":"rest_request","source":"f6fd3ae6534f6ddf.yaml","type":"application/yaml","size":173},{"uid":"c09626d8a06f026e","name":"rest_response","source":"c09626d8a06f026e.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1676326123698,"stop":1676326123709,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"9e14cb7b0069cf63","name":"stage_yaml","source":"9e14cb7b0069cf63.yaml","type":"application/yaml","size":231},{"uid":"26081b6535890ea9","name":"rest_request","source":"26081b6535890ea9.yaml","type":"application/yaml","size":173},{"uid":"40d0e203ff740c1","name":"rest_response","source":"40d0e203ff740c1.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1676326123710,"stop":1676326123727,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"b238cf9360306158","name":"stage_yaml","source":"b238cf9360306158.yaml","type":"application/yaml","size":543},{"uid":"b59ac767df4bde78","name":"rest_request","source":"b59ac767df4bde78.yaml","type":"application/yaml","size":166},{"uid":"bf7e071ca28eb64f","name":"rest_response","source":"bf7e071ca28eb64f.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1676326123729,"stop":1676326125765,"duration":2036},"status":"passed","steps":[],"attachments":[{"uid":"95fa7746e6084ff8","name":"stage_yaml","source":"95fa7746e6084ff8.yaml","type":"application/yaml","size":661},{"uid":"9d942cfa9750f079","name":"rest_request","source":"9d942cfa9750f079.yaml","type":"application/yaml","size":159},{"uid":"792ff4c41987d2e8","name":"rest_response","source":"792ff4c41987d2e8.yaml","type":"application/yaml","size":501},{"uid":"2f16a44eb02b9cf9","name":"stage_yaml","source":"2f16a44eb02b9cf9.yaml","type":"application/yaml","size":661},{"uid":"56532b7bdf03efe8","name":"rest_request","source":"56532b7bdf03efe8.yaml","type":"application/yaml","size":159},{"uid":"a92b1210fd1980e6","name":"rest_response","source":"a92b1210fd1980e6.yaml","type":"application/yaml","size":680}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1676326125766,"stop":1676326125785,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"bb30784964c7c22d","name":"stage_yaml","source":"bb30784964c7c22d.yaml","type":"application/yaml","size":3543},{"uid":"1481e7daf06cfd53","name":"rest_request","source":"1481e7daf06cfd53.yaml","type":"application/yaml","size":159},{"uid":"fa1d187fe206f41f","name":"rest_response","source":"fa1d187fe206f41f.yaml","type":"application/yaml","size":680}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1676326125786,"stop":1676326125800,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"cfeb27f9368d79b3","name":"stage_yaml","source":"cfeb27f9368d79b3.yaml","type":"application/yaml","size":639},{"uid":"91c2885f2e7340f7","name":"rest_request","source":"91c2885f2e7340f7.yaml","type":"application/yaml","size":229},{"uid":"10dfcbeb046392b2","name":"rest_response","source":"10dfcbeb046392b2.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1676326125802,"stop":1676326126819,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"408903d0dea64905","name":"stage_yaml","source":"408903d0dea64905.yaml","type":"application/yaml","size":679},{"uid":"7fa50bf5b7f5bb2","name":"rest_request","source":"7fa50bf5b7f5bb2.yaml","type":"application/yaml","size":159},{"uid":"6e9b4bdf7f3d0f1d","name":"rest_response","source":"6e9b4bdf7f3d0f1d.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1676326126820,"stop":1676326126839,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"74474ca7d9f91d25","name":"stage_yaml","source":"74474ca7d9f91d25.yaml","type":"application/yaml","size":3157},{"uid":"a56bf35588d405c","name":"rest_request","source":"a56bf35588d405c.yaml","type":"application/yaml","size":159},{"uid":"ac232ece38bbfc1f","name":"rest_response","source":"ac232ece38bbfc1f.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1676326126840,"stop":1676326126855,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"81dab280d06977ae","name":"stage_yaml","source":"81dab280d06977ae.yaml","type":"application/yaml","size":639},{"uid":"ef8ed143ac980c4a","name":"rest_request","source":"ef8ed143ac980c4a.yaml","type":"application/yaml","size":229},{"uid":"4a022dc9c1896a27","name":"rest_response","source":"4a022dc9c1896a27.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1676326126858,"stop":1676326128893,"duration":2035},"status":"passed","steps":[],"attachments":[{"uid":"24046962690e84df","name":"stage_yaml","source":"24046962690e84df.yaml","type":"application/yaml","size":679},{"uid":"4071974ae7e6873a","name":"rest_request","source":"4071974ae7e6873a.yaml","type":"application/yaml","size":159},{"uid":"58185378ab7cf290","name":"rest_response","source":"58185378ab7cf290.yaml","type":"application/yaml","size":617},{"uid":"8315a044465e894f","name":"stage_yaml","source":"8315a044465e894f.yaml","type":"application/yaml","size":679},{"uid":"802c5229eb30f16e","name":"rest_request","source":"802c5229eb30f16e.yaml","type":"application/yaml","size":159},{"uid":"7902776c75035c2c","name":"rest_response","source":"7902776c75035c2c.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1676326128894,"stop":1676326128912,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"2d08872a9698e636","name":"stage_yaml","source":"2d08872a9698e636.yaml","type":"application/yaml","size":3157},{"uid":"b83dfc5a77e564c3","name":"rest_request","source":"b83dfc5a77e564c3.yaml","type":"application/yaml","size":159},{"uid":"db4708593852bb5e","name":"rest_response","source":"db4708593852bb5e.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1676326128913,"stop":1676326128929,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"72f52a55eda582e2","name":"stage_yaml","source":"72f52a55eda582e2.yaml","type":"application/yaml","size":639},{"uid":"c9de7fd8c54bcb7a","name":"rest_request","source":"c9de7fd8c54bcb7a.yaml","type":"application/yaml","size":233},{"uid":"a91fd860496def72","name":"rest_response","source":"a91fd860496def72.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1676326128931,"stop":1676326129945,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"73f8be589ed312b9","name":"stage_yaml","source":"73f8be589ed312b9.yaml","type":"application/yaml","size":685},{"uid":"15c50e712bd20d93","name":"rest_request","source":"15c50e712bd20d93.yaml","type":"application/yaml","size":159},{"uid":"b7617d3f3fd1def4","name":"rest_response","source":"b7617d3f3fd1def4.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1676326129946,"stop":1676326129967,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"65f7f34a3f2efc04","name":"stage_yaml","source":"65f7f34a3f2efc04.yaml","type":"application/yaml","size":2234},{"uid":"7e4bbab7ec7ca14","name":"rest_request","source":"7e4bbab7ec7ca14.yaml","type":"application/yaml","size":159},{"uid":"d9198671d11665aa","name":"rest_response","source":"d9198671d11665aa.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1676326129968,"stop":1676326129982,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"1134504c9a20542b","name":"stage_yaml","source":"1134504c9a20542b.yaml","type":"application/yaml","size":631},{"uid":"61f1c753f98aa9e5","name":"rest_request","source":"61f1c753f98aa9e5.yaml","type":"application/yaml","size":227},{"uid":"ff5fe1a82b392735","name":"rest_response","source":"ff5fe1a82b392735.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1676326129984,"stop":1676326130997,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"ef8de058d61eefab","name":"stage_yaml","source":"ef8de058d61eefab.yaml","type":"application/yaml","size":685},{"uid":"c7e71a42ec2e89e9","name":"rest_request","source":"c7e71a42ec2e89e9.yaml","type":"application/yaml","size":159},{"uid":"6f5c0079ce61ea33","name":"rest_response","source":"6f5c0079ce61ea33.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1676326130999,"stop":1676326131016,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"a08c81578d8a695c","name":"stage_yaml","source":"a08c81578d8a695c.yaml","type":"application/yaml","size":2230},{"uid":"a2fb8bc6d13926e4","name":"rest_request","source":"a2fb8bc6d13926e4.yaml","type":"application/yaml","size":159},{"uid":"6370b27af99dcbe8","name":"rest_response","source":"6370b27af99dcbe8.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1676326131017,"stop":1676326131030,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"a0157b8a2c0f07e8","name":"stage_yaml","source":"a0157b8a2c0f07e8.yaml","type":"application/yaml","size":599},{"uid":"8fe3340c54a0da44","name":"rest_request","source":"8fe3340c54a0da44.yaml","type":"application/yaml","size":227},{"uid":"b4bccdd7869872df","name":"rest_response","source":"b4bccdd7869872df.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1676326131032,"stop":1676326132047,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"5dc77068009b4330","name":"stage_yaml","source":"5dc77068009b4330.yaml","type":"application/yaml","size":679},{"uid":"4d6d9f874b314fbd","name":"rest_request","source":"4d6d9f874b314fbd.yaml","type":"application/yaml","size":159},{"uid":"3e481b5bd21c06a5","name":"rest_response","source":"3e481b5bd21c06a5.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1676326132048,"stop":1676326132067,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"cbe92c3540b65b21","name":"stage_yaml","source":"cbe92c3540b65b21.yaml","type":"application/yaml","size":3125},{"uid":"dbe62b0aa8567cc9","name":"rest_request","source":"dbe62b0aa8567cc9.yaml","type":"application/yaml","size":159},{"uid":"477424eacf97edf1","name":"rest_response","source":"477424eacf97edf1.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1676326132068,"stop":1676326132083,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"98a0210389c8d097","name":"stage_yaml","source":"98a0210389c8d097.yaml","type":"application/yaml","size":640},{"uid":"dee9a48970e9d1f6","name":"rest_request","source":"dee9a48970e9d1f6.yaml","type":"application/yaml","size":229},{"uid":"6cd40d8d47cc28ec","name":"rest_response","source":"6cd40d8d47cc28ec.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1676326132085,"stop":1676326133101,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"a8ee48a3d1bf9817","name":"stage_yaml","source":"a8ee48a3d1bf9817.yaml","type":"application/yaml","size":680},{"uid":"2c9659b8350b0a3b","name":"rest_request","source":"2c9659b8350b0a3b.yaml","type":"application/yaml","size":159},{"uid":"c1278d6c72664365","name":"rest_response","source":"c1278d6c72664365.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1676326133102,"stop":1676326133122,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"ce6948187a173b05","name":"stage_yaml","source":"ce6948187a173b05.yaml","type":"application/yaml","size":3160},{"uid":"5ae5b19c376a7ae9","name":"rest_request","source":"5ae5b19c376a7ae9.yaml","type":"application/yaml","size":159},{"uid":"1c2fb0579fa30c77","name":"rest_response","source":"1c2fb0579fa30c77.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1676326133123,"stop":1676326133133,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"802660cb7d2401c6","name":"stage_yaml","source":"802660cb7d2401c6.yaml","type":"application/yaml","size":276},{"uid":"e17657e819350925","name":"rest_request","source":"e17657e819350925.yaml","type":"application/yaml","size":173},{"uid":"c3a8f94d0a9d8aae","name":"rest_response","source":"c3a8f94d0a9d8aae.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1676326133135,"stop":1676326133144,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"a3e9ab81e465fc01","name":"stage_yaml","source":"a3e9ab81e465fc01.yaml","type":"application/yaml","size":256},{"uid":"9f960ae0bdb58b3d","name":"rest_request","source":"9f960ae0bdb58b3d.yaml","type":"application/yaml","size":172},{"uid":"a21a286de9a2195d","name":"rest_response","source":"a21a286de9a2195d.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"bfd23273c3cd04e1","name":"log","source":"bfd23273c3cd04e1.txt","type":"text/plain","size":7563}],"parameters":[],"stepsCount":26,"attachmentsCount":85,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"1628b12cebe5"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":9},"items":[{"uid":"2033b0cd5f87e006","status":"passed","time":{"start":1674516017611,"stop":1674516025271,"duration":7660}},{"uid":"d958f04c82741ac6","status":"passed","time":{"start":1674506193157,"stop":1674506200798,"duration":7641}},{"uid":"a370f4c234a4043d","status":"passed","time":{"start":1674500821056,"stop":1674500828702,"duration":7646}},{"uid":"9ad774d9b0624ca4","status":"passed","time":{"start":1674258346884,"stop":1674258355575,"duration":8691}},{"uid":"ed5410046bf99c16","status":"passed","time":{"start":1674255719656,"stop":1674255727518,"duration":7862}},{"uid":"9e5ddf4c3cc59a2","status":"passed","time":{"start":1674080348924,"stop":1674080359611,"duration":10687}},{"uid":"c57d29d7b9a4fd3","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674075069275,"stop":1674075069569,"duration":294}},{"uid":"6808c8d9b8886dc5","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674074687647,"stop":1674074687894,"duration":247}}]},"tags":[]},"source":"8320eac632c6c50.json","parameterValues":[]}