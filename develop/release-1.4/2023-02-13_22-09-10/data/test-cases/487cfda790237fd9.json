{"uid":"487cfda790237fd9","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1676325617086,"stop":1676325650758,"duration":33672},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1676325617095,"stop":1676325617133,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"95ee36995d85ff3e","name":"stage_yaml","source":"95ee36995d85ff3e.yaml","type":"application/yaml","size":302},{"uid":"7f6b4cb2d199c849","name":"rest_request","source":"7f6b4cb2d199c849.yaml","type":"application/yaml","size":162},{"uid":"17c75d40606d2685","name":"rest_response","source":"17c75d40606d2685.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1676325617134,"stop":1676325617149,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"34ebb112ecad8bb4","name":"stage_yaml","source":"34ebb112ecad8bb4.yaml","type":"application/yaml","size":797},{"uid":"8aed06de15a97c88","name":"rest_request","source":"8aed06de15a97c88.yaml","type":"application/yaml","size":216},{"uid":"abb9982aead5d503","name":"rest_response","source":"abb9982aead5d503.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1676325617151,"stop":1676325648667,"duration":31516},"status":"passed","steps":[],"attachments":[{"uid":"75d57429f6464a9d","name":"stage_yaml","source":"75d57429f6464a9d.yaml","type":"application/yaml","size":682},{"uid":"89a1c3e15747ef","name":"rest_request","source":"89a1c3e15747ef.yaml","type":"application/yaml","size":161},{"uid":"bcda78e4d839bc1c","name":"rest_response","source":"bcda78e4d839bc1c.yaml","type":"application/yaml","size":572},{"uid":"75c5393f5aa58d59","name":"stage_yaml","source":"75c5393f5aa58d59.yaml","type":"application/yaml","size":682},{"uid":"e437a86de998046","name":"rest_request","source":"e437a86de998046.yaml","type":"application/yaml","size":161},{"uid":"78d725cac57a1845","name":"rest_response","source":"78d725cac57a1845.yaml","type":"application/yaml","size":608},{"uid":"3d73ca733ed54d92","name":"stage_yaml","source":"3d73ca733ed54d92.yaml","type":"application/yaml","size":682},{"uid":"36b0afe01e75e41","name":"rest_request","source":"36b0afe01e75e41.yaml","type":"application/yaml","size":161},{"uid":"ebcf6224b292eb5e","name":"rest_response","source":"ebcf6224b292eb5e.yaml","type":"application/yaml","size":608},{"uid":"2374130226268698","name":"stage_yaml","source":"2374130226268698.yaml","type":"application/yaml","size":682},{"uid":"304c552538ffbd60","name":"rest_request","source":"304c552538ffbd60.yaml","type":"application/yaml","size":161},{"uid":"793b400b3947c6bd","name":"rest_response","source":"793b400b3947c6bd.yaml","type":"application/yaml","size":608},{"uid":"eea2047d5fd52556","name":"stage_yaml","source":"eea2047d5fd52556.yaml","type":"application/yaml","size":682},{"uid":"4c57d4ff6f89198b","name":"rest_request","source":"4c57d4ff6f89198b.yaml","type":"application/yaml","size":161},{"uid":"e89f8490ce0c5147","name":"rest_response","source":"e89f8490ce0c5147.yaml","type":"application/yaml","size":608},{"uid":"bef74570770d4d75","name":"stage_yaml","source":"bef74570770d4d75.yaml","type":"application/yaml","size":682},{"uid":"f5d8491031bb1ad5","name":"rest_request","source":"f5d8491031bb1ad5.yaml","type":"application/yaml","size":161},{"uid":"b53c94238f1c3894","name":"rest_response","source":"b53c94238f1c3894.yaml","type":"application/yaml","size":608},{"uid":"85178a0305241a04","name":"stage_yaml","source":"85178a0305241a04.yaml","type":"application/yaml","size":682},{"uid":"c3ec4e07b04ebe14","name":"rest_request","source":"c3ec4e07b04ebe14.yaml","type":"application/yaml","size":161},{"uid":"c3cab0c0f1b1a709","name":"rest_response","source":"c3cab0c0f1b1a709.yaml","type":"application/yaml","size":608},{"uid":"347734c038f3cc17","name":"stage_yaml","source":"347734c038f3cc17.yaml","type":"application/yaml","size":682},{"uid":"4c3131364eaefc9f","name":"rest_request","source":"4c3131364eaefc9f.yaml","type":"application/yaml","size":161},{"uid":"c112d5a67ce01745","name":"rest_response","source":"c112d5a67ce01745.yaml","type":"application/yaml","size":608},{"uid":"cde44d8763b8e937","name":"stage_yaml","source":"cde44d8763b8e937.yaml","type":"application/yaml","size":682},{"uid":"a30743bf5e558726","name":"rest_request","source":"a30743bf5e558726.yaml","type":"application/yaml","size":161},{"uid":"9243ab5ef3dda32a","name":"rest_response","source":"9243ab5ef3dda32a.yaml","type":"application/yaml","size":608},{"uid":"7ad2c7ad635fd48c","name":"stage_yaml","source":"7ad2c7ad635fd48c.yaml","type":"application/yaml","size":682},{"uid":"d23cb2698b3a7c6","name":"rest_request","source":"d23cb2698b3a7c6.yaml","type":"application/yaml","size":161},{"uid":"4268c0c895c7bd3c","name":"rest_response","source":"4268c0c895c7bd3c.yaml","type":"application/yaml","size":608},{"uid":"1ee694aa1c1447d3","name":"stage_yaml","source":"1ee694aa1c1447d3.yaml","type":"application/yaml","size":682},{"uid":"980754c7bf7c5d38","name":"rest_request","source":"980754c7bf7c5d38.yaml","type":"application/yaml","size":161},{"uid":"e3e6e404a864af7d","name":"rest_response","source":"e3e6e404a864af7d.yaml","type":"application/yaml","size":608},{"uid":"d54e9b7e9572104e","name":"stage_yaml","source":"d54e9b7e9572104e.yaml","type":"application/yaml","size":682},{"uid":"362d866628111670","name":"rest_request","source":"362d866628111670.yaml","type":"application/yaml","size":161},{"uid":"80c0835d124b67b9","name":"rest_response","source":"80c0835d124b67b9.yaml","type":"application/yaml","size":608},{"uid":"3c2219e9a5033378","name":"stage_yaml","source":"3c2219e9a5033378.yaml","type":"application/yaml","size":682},{"uid":"8bb3fc9f23694c23","name":"rest_request","source":"8bb3fc9f23694c23.yaml","type":"application/yaml","size":161},{"uid":"d00e556ef62de590","name":"rest_response","source":"d00e556ef62de590.yaml","type":"application/yaml","size":608},{"uid":"191c04b348adfbd8","name":"stage_yaml","source":"191c04b348adfbd8.yaml","type":"application/yaml","size":682},{"uid":"1ffc58869387e837","name":"rest_request","source":"1ffc58869387e837.yaml","type":"application/yaml","size":161},{"uid":"a138c6c0eb42a6cc","name":"rest_response","source":"a138c6c0eb42a6cc.yaml","type":"application/yaml","size":608},{"uid":"bbe0e722dc47067c","name":"stage_yaml","source":"bbe0e722dc47067c.yaml","type":"application/yaml","size":682},{"uid":"ca2e0c2288265221","name":"rest_request","source":"ca2e0c2288265221.yaml","type":"application/yaml","size":161},{"uid":"3bee0b5faaee8341","name":"rest_response","source":"3bee0b5faaee8341.yaml","type":"application/yaml","size":608},{"uid":"8cd57792e5f7db31","name":"stage_yaml","source":"8cd57792e5f7db31.yaml","type":"application/yaml","size":682},{"uid":"433764f813bb400","name":"rest_request","source":"433764f813bb400.yaml","type":"application/yaml","size":161},{"uid":"2bed754c0a2aff7","name":"rest_response","source":"2bed754c0a2aff7.yaml","type":"application/yaml","size":608},{"uid":"bbae7da6bab77487","name":"stage_yaml","source":"bbae7da6bab77487.yaml","type":"application/yaml","size":682},{"uid":"6e548acc676bd3ef","name":"rest_request","source":"6e548acc676bd3ef.yaml","type":"application/yaml","size":161},{"uid":"6bffa2404259ab94","name":"rest_response","source":"6bffa2404259ab94.yaml","type":"application/yaml","size":608},{"uid":"c9b68f41901411a4","name":"stage_yaml","source":"c9b68f41901411a4.yaml","type":"application/yaml","size":682},{"uid":"256fe8e87f734074","name":"rest_request","source":"256fe8e87f734074.yaml","type":"application/yaml","size":161},{"uid":"7fa597c2129707cd","name":"rest_response","source":"7fa597c2129707cd.yaml","type":"application/yaml","size":608},{"uid":"c8d787979dbb54c","name":"stage_yaml","source":"c8d787979dbb54c.yaml","type":"application/yaml","size":682},{"uid":"ac75f82d9a5d69df","name":"rest_request","source":"ac75f82d9a5d69df.yaml","type":"application/yaml","size":161},{"uid":"3cde1f0487049137","name":"rest_response","source":"3cde1f0487049137.yaml","type":"application/yaml","size":608},{"uid":"829b2e7754863499","name":"stage_yaml","source":"829b2e7754863499.yaml","type":"application/yaml","size":682},{"uid":"7ba15d7bf08c7bfe","name":"rest_request","source":"7ba15d7bf08c7bfe.yaml","type":"application/yaml","size":161},{"uid":"61d655d58353df28","name":"rest_response","source":"61d655d58353df28.yaml","type":"application/yaml","size":608},{"uid":"1b726874313883d6","name":"stage_yaml","source":"1b726874313883d6.yaml","type":"application/yaml","size":682},{"uid":"ae3615dc387a6026","name":"rest_request","source":"ae3615dc387a6026.yaml","type":"application/yaml","size":161},{"uid":"b43c67ca294ccff2","name":"rest_response","source":"b43c67ca294ccff2.yaml","type":"application/yaml","size":608},{"uid":"5b704c8f0ce3a3fc","name":"stage_yaml","source":"5b704c8f0ce3a3fc.yaml","type":"application/yaml","size":682},{"uid":"c2b7560a36ee9643","name":"rest_request","source":"c2b7560a36ee9643.yaml","type":"application/yaml","size":161},{"uid":"439252594dd04bc1","name":"rest_response","source":"439252594dd04bc1.yaml","type":"application/yaml","size":608},{"uid":"2db6106d117dae80","name":"stage_yaml","source":"2db6106d117dae80.yaml","type":"application/yaml","size":682},{"uid":"e91950267d4c36b1","name":"rest_request","source":"e91950267d4c36b1.yaml","type":"application/yaml","size":161},{"uid":"809c1edf5d429061","name":"rest_response","source":"809c1edf5d429061.yaml","type":"application/yaml","size":608},{"uid":"ad7eafd640025a3","name":"stage_yaml","source":"ad7eafd640025a3.yaml","type":"application/yaml","size":682},{"uid":"24684da7c7dbcad9","name":"rest_request","source":"24684da7c7dbcad9.yaml","type":"application/yaml","size":161},{"uid":"acb9979b908a5b77","name":"rest_response","source":"acb9979b908a5b77.yaml","type":"application/yaml","size":608},{"uid":"600344f150027434","name":"stage_yaml","source":"600344f150027434.yaml","type":"application/yaml","size":682},{"uid":"5580adfcb77d1cfe","name":"rest_request","source":"5580adfcb77d1cfe.yaml","type":"application/yaml","size":161},{"uid":"1ca935ed0cb7b070","name":"rest_response","source":"1ca935ed0cb7b070.yaml","type":"application/yaml","size":608},{"uid":"5eb2aec05057f495","name":"stage_yaml","source":"5eb2aec05057f495.yaml","type":"application/yaml","size":682},{"uid":"99d49f9178e150e4","name":"rest_request","source":"99d49f9178e150e4.yaml","type":"application/yaml","size":161},{"uid":"9fde389344b112cc","name":"rest_response","source":"9fde389344b112cc.yaml","type":"application/yaml","size":608},{"uid":"5b41cd968d97008d","name":"stage_yaml","source":"5b41cd968d97008d.yaml","type":"application/yaml","size":682},{"uid":"6d3335649f9ac87a","name":"rest_request","source":"6d3335649f9ac87a.yaml","type":"application/yaml","size":161},{"uid":"e52b8b2fc516a70d","name":"rest_response","source":"e52b8b2fc516a70d.yaml","type":"application/yaml","size":608},{"uid":"8f665c46ad21e48e","name":"stage_yaml","source":"8f665c46ad21e48e.yaml","type":"application/yaml","size":682},{"uid":"b6b7029ab17cdfb1","name":"rest_request","source":"b6b7029ab17cdfb1.yaml","type":"application/yaml","size":161},{"uid":"38164601a3144b26","name":"rest_response","source":"38164601a3144b26.yaml","type":"application/yaml","size":608},{"uid":"d44ad60ad8ca2f8","name":"stage_yaml","source":"d44ad60ad8ca2f8.yaml","type":"application/yaml","size":682},{"uid":"36b51933e6892b61","name":"rest_request","source":"36b51933e6892b61.yaml","type":"application/yaml","size":161},{"uid":"6f81a474837c8975","name":"rest_response","source":"6f81a474837c8975.yaml","type":"application/yaml","size":608},{"uid":"12cd440e3b470d94","name":"stage_yaml","source":"12cd440e3b470d94.yaml","type":"application/yaml","size":682},{"uid":"2d931cbbcb218a3a","name":"rest_request","source":"2d931cbbcb218a3a.yaml","type":"application/yaml","size":161},{"uid":"12364d120f4ff0f4","name":"rest_response","source":"12364d120f4ff0f4.yaml","type":"application/yaml","size":608},{"uid":"5c8facecd7e32683","name":"stage_yaml","source":"5c8facecd7e32683.yaml","type":"application/yaml","size":682},{"uid":"e069ba2706f53b56","name":"rest_request","source":"e069ba2706f53b56.yaml","type":"application/yaml","size":161},{"uid":"e24672af315d970b","name":"rest_response","source":"e24672af315d970b.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1676325648668,"stop":1676325648684,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"41acfbd06fb312e0","name":"stage_yaml","source":"41acfbd06fb312e0.yaml","type":"application/yaml","size":2395},{"uid":"f888bf23007455ca","name":"rest_request","source":"f888bf23007455ca.yaml","type":"application/yaml","size":161},{"uid":"7a648ef77726d701","name":"rest_response","source":"7a648ef77726d701.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1676325648685,"stop":1676325648696,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"db07a0bbb2a03683","name":"stage_yaml","source":"db07a0bbb2a03683.yaml","type":"application/yaml","size":978},{"uid":"d6b9da85848b19d5","name":"rest_request","source":"d6b9da85848b19d5.yaml","type":"application/yaml","size":145},{"uid":"856e5e740edd4dad","name":"rest_response","source":"856e5e740edd4dad.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1676325648696,"stop":1676325648708,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"c2e18473ff7fe162","name":"stage_yaml","source":"c2e18473ff7fe162.yaml","type":"application/yaml","size":816},{"uid":"f6003f0b9da01ece","name":"rest_request","source":"f6003f0b9da01ece.yaml","type":"application/yaml","size":219},{"uid":"4bf4e4383204958e","name":"rest_response","source":"4bf4e4383204958e.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1676325648709,"stop":1676325650741,"duration":2032},"status":"passed","steps":[],"attachments":[{"uid":"b63c8a1e5fcdec37","name":"stage_yaml","source":"b63c8a1e5fcdec37.yaml","type":"application/yaml","size":693},{"uid":"499240893347b1b9","name":"rest_request","source":"499240893347b1b9.yaml","type":"application/yaml","size":161},{"uid":"73d200065b5b75a","name":"rest_response","source":"73d200065b5b75a.yaml","type":"application/yaml","size":661},{"uid":"119a4da4537e811","name":"stage_yaml","source":"119a4da4537e811.yaml","type":"application/yaml","size":693},{"uid":"7d1330f6b8a433df","name":"rest_request","source":"7d1330f6b8a433df.yaml","type":"application/yaml","size":161},{"uid":"d12337b27ce0a422","name":"rest_response","source":"d12337b27ce0a422.yaml","type":"application/yaml","size":659}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1676325650742,"stop":1676325650758,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7249d12236a6cb56","name":"stage_yaml","source":"7249d12236a6cb56.yaml","type":"application/yaml","size":2549},{"uid":"95e92bec1e40cdb2","name":"rest_request","source":"95e92bec1e40cdb2.yaml","type":"application/yaml","size":161},{"uid":"a74387518539a22c","name":"rest_response","source":"a74387518539a22c.yaml","type":"application/yaml","size":659}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"5fa847865a70d9df","name":"log","source":"5fa847865a70d9df.txt","type":"text/plain","size":119708}],"parameters":[],"stepsCount":8,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"304f7ece69ff"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"e2bf4ff70f030fbd","status":"passed","time":{"start":1674515574170,"stop":1674515576315,"duration":2145}},{"uid":"ac2c2c43995e5b5d","status":"passed","time":{"start":1674505690917,"stop":1674505723638,"duration":32721}},{"uid":"e465f9b1ebf7fc5f","status":"passed","time":{"start":1674500319095,"stop":1674500351749,"duration":32654}},{"uid":"f3f1f42e434c66e6","status":"passed","time":{"start":1674257814137,"stop":1674257846813,"duration":32676}},{"uid":"89f3a5ffdf236413","status":"passed","time":{"start":1674255264575,"stop":1674255297412,"duration":32837}},{"uid":"8d8f1724188849cb","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080262851,"stop":1674080262890,"duration":39}},{"uid":"63766b707ffc90e1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977989,"stop":1674074978018,"duration":29}},{"uid":"ef814c26c444c457","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600425,"stop":1674074600449,"duration":24}}]},"tags":[]},"source":"487cfda790237fd9.json","parameterValues":[]}