{"uid":"ea9ba007409fa0a2","name":"Verify transitions powers off a chassis that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a chassis that is powered on","historyId":"5d81f3489d062d69a1bf0c1814cdfdee","time":{"start":1676325197624,"stop":1676325216075,"duration":18451},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a chassis from HSM to be used in later stages","time":{"start":1676325197633,"stop":1676325197645,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"6659795db8c7a15b","name":"stage_yaml","source":"6659795db8c7a15b.yaml","type":"application/yaml","size":277},{"uid":"bef697c1a9edf13b","name":"rest_request","source":"bef697c1a9edf13b.yaml","type":"application/yaml","size":139},{"uid":"66d50c45e5ed49de","name":"rest_response","source":"66d50c45e5ed49de.yaml","type":"application/yaml","size":301}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target chassis on to prepare it for the test case","time":{"start":1676325197645,"stop":1676325197663,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"e2b730f2b13e2d49","name":"stage_yaml","source":"e2b730f2b13e2d49.yaml","type":"application/yaml","size":781},{"uid":"46f3c5df2b3fdbfe","name":"rest_request","source":"46f3c5df2b3fdbfe.yaml","type":"application/yaml","size":205},{"uid":"df162c677fe9982d","name":"rest_response","source":"df162c677fe9982d.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1676325197665,"stop":1676325199707,"duration":2042},"status":"passed","steps":[],"attachments":[{"uid":"e9856abffa2b186","name":"stage_yaml","source":"e9856abffa2b186.yaml","type":"application/yaml","size":661},{"uid":"34aff57c56d93585","name":"rest_request","source":"34aff57c56d93585.yaml","type":"application/yaml","size":161},{"uid":"b16773fa53083aa3","name":"rest_response","source":"b16773fa53083aa3.yaml","type":"application/yaml","size":587},{"uid":"faefe07d62c1fe14","name":"stage_yaml","source":"faefe07d62c1fe14.yaml","type":"application/yaml","size":661},{"uid":"59eaf3af249e61dc","name":"rest_request","source":"59eaf3af249e61dc.yaml","type":"application/yaml","size":161},{"uid":"6ea562bad2089d28","name":"rest_response","source":"6ea562bad2089d28.yaml","type":"application/yaml","size":585}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1676325199709,"stop":1676325199726,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"9cdbd21a4fa7c2e5","name":"stage_yaml","source":"9cdbd21a4fa7c2e5.yaml","type":"application/yaml","size":2378},{"uid":"f3b23b45522055d4","name":"rest_request","source":"f3b23b45522055d4.yaml","type":"application/yaml","size":161},{"uid":"c3bbc524f4824a6a","name":"rest_response","source":"c3bbc524f4824a6a.yaml","type":"application/yaml","size":585}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target chassis is powered on using power-status","time":{"start":1676325199727,"stop":1676325199740,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"690e60be32841713","name":"stage_yaml","source":"690e60be32841713.yaml","type":"application/yaml","size":985},{"uid":"9afc321f4350922a","name":"rest_request","source":"9afc321f4350922a.yaml","type":"application/yaml","size":139},{"uid":"b36a1e8481121bbb","name":"rest_response","source":"b36a1e8481121bbb.yaml","type":"application/yaml","size":432}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target chassis off with a force-off transition","time":{"start":1676325199741,"stop":1676325199755,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"81de4053e18d6256","name":"stage_yaml","source":"81de4053e18d6256.yaml","type":"application/yaml","size":801},{"uid":"41be85179107ae6c","name":"rest_request","source":"41be85179107ae6c.yaml","type":"application/yaml","size":210},{"uid":"1ebe48def05e464","name":"rest_response","source":"1ebe48def05e464.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1676325199757,"stop":1676325216043,"duration":16286},"status":"passed","steps":[],"attachments":[{"uid":"5c8eee17a64dd265","name":"stage_yaml","source":"5c8eee17a64dd265.yaml","type":"application/yaml","size":684},{"uid":"9b55d9679611d53f","name":"rest_request","source":"9b55d9679611d53f.yaml","type":"application/yaml","size":161},{"uid":"af26badd11a42c7c","name":"rest_response","source":"af26badd11a42c7c.yaml","type":"application/yaml","size":581},{"uid":"18bfb86bf94c4c0f","name":"stage_yaml","source":"18bfb86bf94c4c0f.yaml","type":"application/yaml","size":684},{"uid":"69f0459c43f44203","name":"rest_request","source":"69f0459c43f44203.yaml","type":"application/yaml","size":161},{"uid":"1f84546de8f9fe21","name":"rest_response","source":"1f84546de8f9fe21.yaml","type":"application/yaml","size":602},{"uid":"5bd9db682aba0838","name":"stage_yaml","source":"5bd9db682aba0838.yaml","type":"application/yaml","size":684},{"uid":"b94185922fe3e317","name":"rest_request","source":"b94185922fe3e317.yaml","type":"application/yaml","size":161},{"uid":"4b276ac629dec5b3","name":"rest_response","source":"4b276ac629dec5b3.yaml","type":"application/yaml","size":602},{"uid":"356aa8cf47ab3935","name":"stage_yaml","source":"356aa8cf47ab3935.yaml","type":"application/yaml","size":684},{"uid":"c80e17cd2081a129","name":"rest_request","source":"c80e17cd2081a129.yaml","type":"application/yaml","size":161},{"uid":"acbd6a92e0dfc798","name":"rest_response","source":"acbd6a92e0dfc798.yaml","type":"application/yaml","size":602},{"uid":"96c58e5a036d82f9","name":"stage_yaml","source":"96c58e5a036d82f9.yaml","type":"application/yaml","size":684},{"uid":"c3ead548d7973942","name":"rest_request","source":"c3ead548d7973942.yaml","type":"application/yaml","size":161},{"uid":"443e3aa1f8d0f0d0","name":"rest_response","source":"443e3aa1f8d0f0d0.yaml","type":"application/yaml","size":602},{"uid":"65daf6c756e879b7","name":"stage_yaml","source":"65daf6c756e879b7.yaml","type":"application/yaml","size":684},{"uid":"541371701d565c69","name":"rest_request","source":"541371701d565c69.yaml","type":"application/yaml","size":161},{"uid":"d016f70eaa841f9d","name":"rest_response","source":"d016f70eaa841f9d.yaml","type":"application/yaml","size":602},{"uid":"fdf81a3097dfd659","name":"stage_yaml","source":"fdf81a3097dfd659.yaml","type":"application/yaml","size":684},{"uid":"36ac1f071a245889","name":"rest_request","source":"36ac1f071a245889.yaml","type":"application/yaml","size":161},{"uid":"12c5097a220103e3","name":"rest_response","source":"12c5097a220103e3.yaml","type":"application/yaml","size":602},{"uid":"1d87435dc52f5a75","name":"stage_yaml","source":"1d87435dc52f5a75.yaml","type":"application/yaml","size":684},{"uid":"e47b073deebcbfc8","name":"rest_request","source":"e47b073deebcbfc8.yaml","type":"application/yaml","size":161},{"uid":"b5fb58abdc704e4e","name":"rest_response","source":"b5fb58abdc704e4e.yaml","type":"application/yaml","size":602},{"uid":"f8c35750081dcd1a","name":"stage_yaml","source":"f8c35750081dcd1a.yaml","type":"application/yaml","size":684},{"uid":"b757fd8a9901d172","name":"rest_request","source":"b757fd8a9901d172.yaml","type":"application/yaml","size":161},{"uid":"e9f17b9ef0d926b0","name":"rest_response","source":"e9f17b9ef0d926b0.yaml","type":"application/yaml","size":602},{"uid":"c830e79e5ceb14d9","name":"stage_yaml","source":"c830e79e5ceb14d9.yaml","type":"application/yaml","size":684},{"uid":"1386e6637b46a1d8","name":"rest_request","source":"1386e6637b46a1d8.yaml","type":"application/yaml","size":161},{"uid":"f4a04787750e2385","name":"rest_response","source":"f4a04787750e2385.yaml","type":"application/yaml","size":602},{"uid":"932d8f7ec16d3e53","name":"stage_yaml","source":"932d8f7ec16d3e53.yaml","type":"application/yaml","size":684},{"uid":"82f35f6bc1f04342","name":"rest_request","source":"82f35f6bc1f04342.yaml","type":"application/yaml","size":161},{"uid":"ef4e7e24deb35e2a","name":"rest_response","source":"ef4e7e24deb35e2a.yaml","type":"application/yaml","size":602},{"uid":"d7e930f0c1b47f61","name":"stage_yaml","source":"d7e930f0c1b47f61.yaml","type":"application/yaml","size":684},{"uid":"2367934a403595a0","name":"rest_request","source":"2367934a403595a0.yaml","type":"application/yaml","size":161},{"uid":"ff61e81824e8c506","name":"rest_response","source":"ff61e81824e8c506.yaml","type":"application/yaml","size":602},{"uid":"8c483c827ac62889","name":"stage_yaml","source":"8c483c827ac62889.yaml","type":"application/yaml","size":684},{"uid":"5868f1b89d112dc1","name":"rest_request","source":"5868f1b89d112dc1.yaml","type":"application/yaml","size":161},{"uid":"8675451d0beac862","name":"rest_response","source":"8675451d0beac862.yaml","type":"application/yaml","size":602},{"uid":"b8f4a130d506191d","name":"stage_yaml","source":"b8f4a130d506191d.yaml","type":"application/yaml","size":684},{"uid":"cf4210f74f846f53","name":"rest_request","source":"cf4210f74f846f53.yaml","type":"application/yaml","size":161},{"uid":"dd0af983e3000e46","name":"rest_response","source":"dd0af983e3000e46.yaml","type":"application/yaml","size":602},{"uid":"2528b0f9ccb1f16c","name":"stage_yaml","source":"2528b0f9ccb1f16c.yaml","type":"application/yaml","size":684},{"uid":"5052d0fb9dfbd8e0","name":"rest_request","source":"5052d0fb9dfbd8e0.yaml","type":"application/yaml","size":161},{"uid":"a71f979d78e0f3a","name":"rest_response","source":"a71f979d78e0f3a.yaml","type":"application/yaml","size":602},{"uid":"74f23aa053a21ba3","name":"stage_yaml","source":"74f23aa053a21ba3.yaml","type":"application/yaml","size":684},{"uid":"7832e2e4adcd502","name":"rest_request","source":"7832e2e4adcd502.yaml","type":"application/yaml","size":161},{"uid":"631ea867e80ba0fa","name":"rest_response","source":"631ea867e80ba0fa.yaml","type":"application/yaml","size":586}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1676325216045,"stop":1676325216061,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"42b429b5cc0346f","name":"stage_yaml","source":"42b429b5cc0346f.yaml","type":"application/yaml","size":2339},{"uid":"fe4f4776a332864c","name":"rest_request","source":"fe4f4776a332864c.yaml","type":"application/yaml","size":161},{"uid":"13d5af2049b06145","name":"rest_response","source":"13d5af2049b06145.yaml","type":"application/yaml","size":586}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target chassis is powered off using power-status","time":{"start":1676325216062,"stop":1676325216075,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"ca8d57cb8cc6a85b","name":"stage_yaml","source":"ca8d57cb8cc6a85b.yaml","type":"application/yaml","size":987},{"uid":"76d7fcd49494ee1f","name":"rest_request","source":"76d7fcd49494ee1f.yaml","type":"application/yaml","size":139},{"uid":"b0dfd974a600d122","name":"rest_response","source":"b0dfd974a600d122.yaml","type":"application/yaml","size":433}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"8d76500313e21fde","name":"log","source":"8d76500313e21fde.txt","type":"text/plain","size":61641}],"parameters":[],"stepsCount":9,"attachmentsCount":76,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"304f7ece69ff"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":6,"unknown":0,"total":9},"items":[{"uid":"6b6ad0ce673fd08d","status":"passed","time":{"start":1674515201892,"stop":1674515234493,"duration":32601}},{"uid":"a49954727fd6885f","status":"passed","time":{"start":1674505317989,"stop":1674505350627,"duration":32638}},{"uid":"bc3aa9df78228ed5","status":"passed","time":{"start":1674499885332,"stop":1674499917965,"duration":32633}},{"uid":"6c2c5363fed53434","status":"passed","time":{"start":1674257411022,"stop":1674257443706,"duration":32684}},{"uid":"91555021c7edac10","status":"passed","time":{"start":1674254905329,"stop":1674254938172,"duration":32843}},{"uid":"cb81d038fb993f1e","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target chassis off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080254788,"stop":1674080255886,"duration":1098}},{"uid":"3a69df632b687ea2","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977473,"stop":1674074977501,"duration":28}},{"uid":"d1c2f8d6b3620780","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074600004,"stop":1674074600027,"duration":23}}]},"tags":[]},"source":"ea9ba007409fa0a2.json","parameterValues":[]}