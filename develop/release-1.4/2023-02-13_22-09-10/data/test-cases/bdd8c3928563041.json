{"uid":"bdd8c3928563041","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1676325746647,"stop":1676325746962,"duration":315},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1676325746659,"stop":1676325746695,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"a1a4c9d5ef624f14","name":"stage_yaml","source":"a1a4c9d5ef624f14.yaml","type":"application/yaml","size":457},{"uid":"c36d2533146adb34","name":"rest_request","source":"c36d2533146adb34.yaml","type":"application/yaml","size":149},{"uid":"db94b55fda46c6c1","name":"rest_response","source":"db94b55fda46c6c1.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1676325746695,"stop":1676325746744,"duration":49},"status":"passed","steps":[],"attachments":[{"uid":"8531b171b47c3ed4","name":"stage_yaml","source":"8531b171b47c3ed4.yaml","type":"application/yaml","size":472},{"uid":"8f128c66680f84b3","name":"rest_request","source":"8f128c66680f84b3.yaml","type":"application/yaml","size":173},{"uid":"44c4941b2b9f724a","name":"rest_response","source":"44c4941b2b9f724a.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1676325746745,"stop":1676325746755,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"404789c3ee0ed6a","name":"stage_yaml","source":"404789c3ee0ed6a.yaml","type":"application/yaml","size":247},{"uid":"d94c528b42109bae","name":"rest_request","source":"d94c528b42109bae.yaml","type":"application/yaml","size":173},{"uid":"e13740ab005c43ca","name":"rest_response","source":"e13740ab005c43ca.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1676325746756,"stop":1676325746764,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"ae90bd7c38d183","name":"stage_yaml","source":"ae90bd7c38d183.yaml","type":"application/yaml","size":247},{"uid":"253fe5e9bf421d62","name":"rest_request","source":"253fe5e9bf421d62.yaml","type":"application/yaml","size":173},{"uid":"9ebb6aceac9605f0","name":"rest_response","source":"9ebb6aceac9605f0.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1676325746764,"stop":1676325746784,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"b56b5552b1eba825","name":"stage_yaml","source":"b56b5552b1eba825.yaml","type":"application/yaml","size":1395},{"uid":"d5d077797593f59a","name":"rest_request","source":"d5d077797593f59a.yaml","type":"application/yaml","size":214},{"uid":"29527a74a23f03b6","name":"rest_response","source":"29527a74a23f03b6.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1676325746785,"stop":1676325746794,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"cfc47e4597f057cf","name":"stage_yaml","source":"cfc47e4597f057cf.yaml","type":"application/yaml","size":251},{"uid":"4b6dcf3da716b6a8","name":"rest_request","source":"4b6dcf3da716b6a8.yaml","type":"application/yaml","size":173},{"uid":"27caf6cf0f0a834d","name":"rest_response","source":"27caf6cf0f0a834d.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1676325746795,"stop":1676325746803,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"7ff0a90e64ed1f00","name":"stage_yaml","source":"7ff0a90e64ed1f00.yaml","type":"application/yaml","size":251},{"uid":"6294934f5f47b7aa","name":"rest_request","source":"6294934f5f47b7aa.yaml","type":"application/yaml","size":173},{"uid":"6bb8ea42e0f1bdcb","name":"rest_response","source":"6bb8ea42e0f1bdcb.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1676325746804,"stop":1676325746828,"duration":24},"status":"passed","steps":[],"attachments":[{"uid":"23f41022f3597fa0","name":"stage_yaml","source":"23f41022f3597fa0.yaml","type":"application/yaml","size":903},{"uid":"8916cefd15b6c228","name":"rest_request","source":"8916cefd15b6c228.yaml","type":"application/yaml","size":286},{"uid":"1929daeb66173b99","name":"rest_response","source":"1929daeb66173b99.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1676325746828,"stop":1676325746854,"duration":26},"status":"passed","steps":[],"attachments":[{"uid":"200a76b5676000e8","name":"stage_yaml","source":"200a76b5676000e8.yaml","type":"application/yaml","size":2415},{"uid":"e4e82a878fe1c8e4","name":"rest_request","source":"e4e82a878fe1c8e4.yaml","type":"application/yaml","size":160},{"uid":"787d9dc0f7182a5","name":"rest_response","source":"787d9dc0f7182a5.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1676325746855,"stop":1676325746870,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"45e74958a3a463b9","name":"stage_yaml","source":"45e74958a3a463b9.yaml","type":"application/yaml","size":1466},{"uid":"ae4d1f292c698043","name":"rest_request","source":"ae4d1f292c698043.yaml","type":"application/yaml","size":218},{"uid":"5c8210355d9c519b","name":"rest_response","source":"5c8210355d9c519b.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1676325746871,"stop":1676325746885,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"951be66a1b80c596","name":"stage_yaml","source":"951be66a1b80c596.yaml","type":"application/yaml","size":1449},{"uid":"c00f4391438e9825","name":"rest_request","source":"c00f4391438e9825.yaml","type":"application/yaml","size":212},{"uid":"e5343abaf47ecb68","name":"rest_response","source":"e5343abaf47ecb68.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1676325746886,"stop":1676325746904,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"628127c2bd1a6385","name":"stage_yaml","source":"628127c2bd1a6385.yaml","type":"application/yaml","size":759},{"uid":"be84ead34567b72a","name":"rest_request","source":"be84ead34567b72a.yaml","type":"application/yaml","size":212},{"uid":"1a2c6c5ff3c29cf4","name":"rest_response","source":"1a2c6c5ff3c29cf4.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1676325746904,"stop":1676325746923,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"12dd05c7eba3d19a","name":"stage_yaml","source":"12dd05c7eba3d19a.yaml","type":"application/yaml","size":1477},{"uid":"67686e30db037cb1","name":"rest_request","source":"67686e30db037cb1.yaml","type":"application/yaml","size":212},{"uid":"3b4f01c19cad9a39","name":"rest_response","source":"3b4f01c19cad9a39.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1676325746924,"stop":1676325746933,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"b8641025418df5eb","name":"stage_yaml","source":"b8641025418df5eb.yaml","type":"application/yaml","size":247},{"uid":"b13f6b17dd627533","name":"rest_request","source":"b13f6b17dd627533.yaml","type":"application/yaml","size":173},{"uid":"c030ec154b261ec","name":"rest_response","source":"c030ec154b261ec.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1676325746934,"stop":1676325746943,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"bb30252518d80e6a","name":"stage_yaml","source":"bb30252518d80e6a.yaml","type":"application/yaml","size":279},{"uid":"87b9580a2f595947","name":"rest_request","source":"87b9580a2f595947.yaml","type":"application/yaml","size":172},{"uid":"eaa3e1d647306af8","name":"rest_response","source":"eaa3e1d647306af8.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1676325746944,"stop":1676325746952,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"76ea51393d048848","name":"stage_yaml","source":"76ea51393d048848.yaml","type":"application/yaml","size":247},{"uid":"f6ae57a2202acb6","name":"rest_request","source":"f6ae57a2202acb6.yaml","type":"application/yaml","size":173},{"uid":"702130693a731e03","name":"rest_response","source":"702130693a731e03.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1676325746953,"stop":1676325746961,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"ac7c6c475f377a0","name":"stage_yaml","source":"ac7c6c475f377a0.yaml","type":"application/yaml","size":279},{"uid":"f7f0034c19661c73","name":"rest_request","source":"f7f0034c19661c73.yaml","type":"application/yaml","size":172},{"uid":"51ee438391b53745","name":"rest_response","source":"51ee438391b53745.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"3bb3c25508db"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":7,"unknown":0,"total":9},"items":[{"uid":"3701acfb86e35aff","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fc264103dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1011, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674515666959,"stop":1674515667146,"duration":187}},{"uid":"eeda7491e217027","status":"passed","time":{"start":1674505814966,"stop":1674505815297,"duration":331}},{"uid":"fd035f00e785b5b9","status":"passed","time":{"start":1674500443456,"stop":1674500443788,"duration":332}},{"uid":"905dc1816fa06906","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f8634481d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1004, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674257937578,"stop":1674257937796,"duration":218}},{"uid":"573ed33dbbcc41f4","status":"passed","time":{"start":1674255406619,"stop":1674255407055,"duration":436}},{"uid":"d0455b1410482332","status":"passed","time":{"start":1674080366050,"stop":1674080366335,"duration":285}},{"uid":"325ceb16bb4f82f","status":"passed","time":{"start":1674075072815,"stop":1674075073142,"duration":327}},{"uid":"189c4bc9aab9102d","status":"passed","time":{"start":1674074690593,"stop":1674074690884,"duration":291}}]},"tags":[]},"source":"bdd8c3928563041.json","parameterValues":[]}