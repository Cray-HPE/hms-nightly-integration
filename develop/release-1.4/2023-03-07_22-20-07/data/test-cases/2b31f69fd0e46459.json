{"uid":"2b31f69fd0e46459","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1678227158516,"stop":1678227158842,"duration":326},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1678227158528,"stop":1678227158564,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"b0e9d3cecb15cb0e","name":"stage_yaml","source":"b0e9d3cecb15cb0e.yaml","type":"application/yaml","size":457},{"uid":"c806f3bbb64a1a1e","name":"rest_request","source":"c806f3bbb64a1a1e.yaml","type":"application/yaml","size":149},{"uid":"49269132599f6525","name":"rest_response","source":"49269132599f6525.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1678227158565,"stop":1678227158616,"duration":51},"status":"passed","steps":[],"attachments":[{"uid":"8c6a58d2a7791b0e","name":"stage_yaml","source":"8c6a58d2a7791b0e.yaml","type":"application/yaml","size":472},{"uid":"861a8f39d1830867","name":"rest_request","source":"861a8f39d1830867.yaml","type":"application/yaml","size":173},{"uid":"b9ccc344a0d63ba","name":"rest_response","source":"b9ccc344a0d63ba.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1678227158616,"stop":1678227158626,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"71afee59ee166f99","name":"stage_yaml","source":"71afee59ee166f99.yaml","type":"application/yaml","size":247},{"uid":"921b1f1501a83897","name":"rest_request","source":"921b1f1501a83897.yaml","type":"application/yaml","size":173},{"uid":"eb0819d7fc6a7d6a","name":"rest_response","source":"eb0819d7fc6a7d6a.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1678227158627,"stop":1678227158636,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"f434677ad9eb4bba","name":"stage_yaml","source":"f434677ad9eb4bba.yaml","type":"application/yaml","size":247},{"uid":"b57662d636c7034","name":"rest_request","source":"b57662d636c7034.yaml","type":"application/yaml","size":173},{"uid":"ad5fa38d87c68798","name":"rest_response","source":"ad5fa38d87c68798.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1678227158637,"stop":1678227158653,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7b7c9f7f84c67767","name":"stage_yaml","source":"7b7c9f7f84c67767.yaml","type":"application/yaml","size":1395},{"uid":"fba7cbb3154be869","name":"rest_request","source":"fba7cbb3154be869.yaml","type":"application/yaml","size":214},{"uid":"94c55621d3c2f390","name":"rest_response","source":"94c55621d3c2f390.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1678227158653,"stop":1678227158662,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"fab853b81a8aa0b3","name":"stage_yaml","source":"fab853b81a8aa0b3.yaml","type":"application/yaml","size":251},{"uid":"a939f4641ff66b64","name":"rest_request","source":"a939f4641ff66b64.yaml","type":"application/yaml","size":173},{"uid":"1be87623974ec31c","name":"rest_response","source":"1be87623974ec31c.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1678227158663,"stop":1678227158671,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"7f2fcb8e2434acf9","name":"stage_yaml","source":"7f2fcb8e2434acf9.yaml","type":"application/yaml","size":251},{"uid":"dbd9ed608aa02f8d","name":"rest_request","source":"dbd9ed608aa02f8d.yaml","type":"application/yaml","size":173},{"uid":"d1f737ec34fddadb","name":"rest_response","source":"d1f737ec34fddadb.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1678227158672,"stop":1678227158698,"duration":26},"status":"passed","steps":[],"attachments":[{"uid":"86e1c453431d829d","name":"stage_yaml","source":"86e1c453431d829d.yaml","type":"application/yaml","size":903},{"uid":"f14f136969a51842","name":"rest_request","source":"f14f136969a51842.yaml","type":"application/yaml","size":286},{"uid":"3b0b3b81a7123a03","name":"rest_response","source":"3b0b3b81a7123a03.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1678227158699,"stop":1678227158726,"duration":27},"status":"passed","steps":[],"attachments":[{"uid":"15cf23f6c43ab408","name":"stage_yaml","source":"15cf23f6c43ab408.yaml","type":"application/yaml","size":2415},{"uid":"73fdea9c7f6e2156","name":"rest_request","source":"73fdea9c7f6e2156.yaml","type":"application/yaml","size":160},{"uid":"c67220f19be4bcd4","name":"rest_response","source":"c67220f19be4bcd4.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1678227158726,"stop":1678227158742,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"5474b415e7d997a","name":"stage_yaml","source":"5474b415e7d997a.yaml","type":"application/yaml","size":1466},{"uid":"d5e39f6a7cdba82c","name":"rest_request","source":"d5e39f6a7cdba82c.yaml","type":"application/yaml","size":218},{"uid":"75d6055f8d9ae7f1","name":"rest_response","source":"75d6055f8d9ae7f1.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1678227158743,"stop":1678227158758,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"81c51ef21da9fcb0","name":"stage_yaml","source":"81c51ef21da9fcb0.yaml","type":"application/yaml","size":1449},{"uid":"aaa39b859f32cdbb","name":"rest_request","source":"aaa39b859f32cdbb.yaml","type":"application/yaml","size":212},{"uid":"9c247552a9ae559","name":"rest_response","source":"9c247552a9ae559.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1678227158759,"stop":1678227158778,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"a044133c48926ba6","name":"stage_yaml","source":"a044133c48926ba6.yaml","type":"application/yaml","size":759},{"uid":"8b2660b7df238db0","name":"rest_request","source":"8b2660b7df238db0.yaml","type":"application/yaml","size":212},{"uid":"59acb6985380a58f","name":"rest_response","source":"59acb6985380a58f.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1678227158779,"stop":1678227158801,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"ef0b4e275944a5df","name":"stage_yaml","source":"ef0b4e275944a5df.yaml","type":"application/yaml","size":1477},{"uid":"4a65696c5ff4b4d9","name":"rest_request","source":"4a65696c5ff4b4d9.yaml","type":"application/yaml","size":212},{"uid":"d99f04aa1d724f27","name":"rest_response","source":"d99f04aa1d724f27.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1678227158802,"stop":1678227158811,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"d63258701e4e3a29","name":"stage_yaml","source":"d63258701e4e3a29.yaml","type":"application/yaml","size":247},{"uid":"766c9c2d81f3ae5c","name":"rest_request","source":"766c9c2d81f3ae5c.yaml","type":"application/yaml","size":173},{"uid":"1bc03820992bed30","name":"rest_response","source":"1bc03820992bed30.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1678227158812,"stop":1678227158821,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"1fc78587ec7e583b","name":"stage_yaml","source":"1fc78587ec7e583b.yaml","type":"application/yaml","size":279},{"uid":"ad7cdb7845fc4de1","name":"rest_request","source":"ad7cdb7845fc4de1.yaml","type":"application/yaml","size":172},{"uid":"cf6c2e95e16148b","name":"rest_response","source":"cf6c2e95e16148b.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1678227158822,"stop":1678227158831,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"a28ab8a72ffc366a","name":"stage_yaml","source":"a28ab8a72ffc366a.yaml","type":"application/yaml","size":247},{"uid":"a190860e1198619f","name":"rest_request","source":"a190860e1198619f.yaml","type":"application/yaml","size":173},{"uid":"8ea82c36a780584e","name":"rest_response","source":"8ea82c36a780584e.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1678227158832,"stop":1678227158841,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"54f5ec1f35b75936","name":"stage_yaml","source":"54f5ec1f35b75936.yaml","type":"application/yaml","size":279},{"uid":"6a0e24be37d4d8b9","name":"rest_request","source":"6a0e24be37d4d8b9.yaml","type":"application/yaml","size":172},{"uid":"9a264d66e3bbfc5f","name":"rest_response","source":"9a264d66e3bbfc5f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"0e0ee38c5b14"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"f92a766e1ac8c31b","status":"passed","time":{"start":1678225239171,"stop":1678225239534,"duration":363}},{"uid":"364ec411ce8f0582","status":"passed","time":{"start":1678222362761,"stop":1678222363086,"duration":325}},{"uid":"afcbd81c8821732","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f6e4f9f9d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1025, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1678218763764,"stop":1678218763951,"duration":187}},{"uid":"37c84b61dfd81f86","status":"passed","time":{"start":1676400983897,"stop":1676400984368,"duration":471}},{"uid":"bdd8c3928563041","status":"passed","time":{"start":1676325746647,"stop":1676325746962,"duration":315}},{"uid":"3701acfb86e35aff","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fc264103dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1011, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674515666959,"stop":1674515667146,"duration":187}},{"uid":"eeda7491e217027","status":"passed","time":{"start":1674505814966,"stop":1674505815297,"duration":331}},{"uid":"fd035f00e785b5b9","status":"passed","time":{"start":1674500443456,"stop":1674500443788,"duration":332}},{"uid":"905dc1816fa06906","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f8634481d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1004, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674257937578,"stop":1674257937796,"duration":218}},{"uid":"573ed33dbbcc41f4","status":"passed","time":{"start":1674255406619,"stop":1674255407055,"duration":436}},{"uid":"d0455b1410482332","status":"passed","time":{"start":1674080366050,"stop":1674080366335,"duration":285}},{"uid":"325ceb16bb4f82f","status":"passed","time":{"start":1674075072815,"stop":1674075073142,"duration":327}},{"uid":"189c4bc9aab9102d","status":"passed","time":{"start":1674074690593,"stop":1674074690884,"duration":291}}]},"tags":[]},"source":"2b31f69fd0e46459.json","parameterValues":[]}