{"uid":"45ffd142aaab90a","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1678227042094,"stop":1678227044243,"duration":2149},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678227042102,"stop":1678227042138,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"b89fb711e90f1f6e","name":"stage_yaml","source":"b89fb711e90f1f6e.yaml","type":"application/yaml","size":302},{"uid":"3acc171be4d44ac1","name":"rest_request","source":"3acc171be4d44ac1.yaml","type":"application/yaml","size":162},{"uid":"c2ad17181206d56c","name":"rest_response","source":"c2ad17181206d56c.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678227042139,"stop":1678227042152,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"2e44c6e2f92f9d99","name":"stage_yaml","source":"2e44c6e2f92f9d99.yaml","type":"application/yaml","size":797},{"uid":"5ac41bfb19761a6f","name":"rest_request","source":"5ac41bfb19761a6f.yaml","type":"application/yaml","size":216},{"uid":"bc539ffbe77d66ff","name":"rest_response","source":"bc539ffbe77d66ff.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678227042155,"stop":1678227043168,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"ce0e1f8ece705ad8","name":"stage_yaml","source":"ce0e1f8ece705ad8.yaml","type":"application/yaml","size":682},{"uid":"ea1e816463468a7d","name":"rest_request","source":"ea1e816463468a7d.yaml","type":"application/yaml","size":161},{"uid":"4d6328a14c056b","name":"rest_response","source":"4d6328a14c056b.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1678227043169,"stop":1678227043184,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"213a17887903be74","name":"stage_yaml","source":"213a17887903be74.yaml","type":"application/yaml","size":2395},{"uid":"316d65a6656df6a5","name":"rest_request","source":"316d65a6656df6a5.yaml","type":"application/yaml","size":161},{"uid":"4f51f5c9218a0985","name":"rest_response","source":"4f51f5c9218a0985.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678227043185,"stop":1678227043197,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"54e1920f9d935186","name":"stage_yaml","source":"54e1920f9d935186.yaml","type":"application/yaml","size":978},{"uid":"9868107b14073ce7","name":"rest_request","source":"9868107b14073ce7.yaml","type":"application/yaml","size":145},{"uid":"7fd9076b6911605","name":"rest_response","source":"7fd9076b6911605.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1678227043197,"stop":1678227043209,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"b752bb6259fadc56","name":"stage_yaml","source":"b752bb6259fadc56.yaml","type":"application/yaml","size":816},{"uid":"143bd7cf59f03aac","name":"rest_request","source":"143bd7cf59f03aac.yaml","type":"application/yaml","size":219},{"uid":"18328740ead255a2","name":"rest_response","source":"18328740ead255a2.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1678227043210,"stop":1678227044225,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"dcc5f570f5430284","name":"stage_yaml","source":"dcc5f570f5430284.yaml","type":"application/yaml","size":693},{"uid":"21e5431979077139","name":"rest_request","source":"21e5431979077139.yaml","type":"application/yaml","size":161},{"uid":"6318cb0838c932ee","name":"rest_response","source":"6318cb0838c932ee.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1678227044226,"stop":1678227044243,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"1ec5b972bdc30ab","name":"stage_yaml","source":"1ec5b972bdc30ab.yaml","type":"application/yaml","size":2549},{"uid":"ada04b81c35563ab","name":"rest_request","source":"ada04b81c35563ab.yaml","type":"application/yaml","size":161},{"uid":"62fe7cf34b29675f","name":"rest_response","source":"62fe7cf34b29675f.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":24,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"22ad509d3223"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"b153f7e2e27cba0d","status":"passed","time":{"start":1678225091194,"stop":1678225123887,"duration":32693}},{"uid":"dc8fd356d052cce7","status":"passed","time":{"start":1678221694015,"stop":1678221711413,"duration":17398}},{"uid":"490eb662446c55b7","status":"passed","time":{"start":1678218003870,"stop":1678218037523,"duration":33653}},{"uid":"6d291a0e4ef384a2","status":"passed","time":{"start":1676400847279,"stop":1676400880180,"duration":32901}},{"uid":"487cfda790237fd9","status":"passed","time":{"start":1676325617086,"stop":1676325650758,"duration":33672}},{"uid":"e2bf4ff70f030fbd","status":"passed","time":{"start":1674515574170,"stop":1674515576315,"duration":2145}},{"uid":"ac2c2c43995e5b5d","status":"passed","time":{"start":1674505690917,"stop":1674505723638,"duration":32721}},{"uid":"e465f9b1ebf7fc5f","status":"passed","time":{"start":1674500319095,"stop":1674500351749,"duration":32654}},{"uid":"f3f1f42e434c66e6","status":"passed","time":{"start":1674257814137,"stop":1674257846813,"duration":32676}},{"uid":"89f3a5ffdf236413","status":"passed","time":{"start":1674255264575,"stop":1674255297412,"duration":32837}},{"uid":"8d8f1724188849cb","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080262851,"stop":1674080262890,"duration":39}},{"uid":"63766b707ffc90e1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977989,"stop":1674074978018,"duration":29}},{"uid":"ef814c26c444c457","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600425,"stop":1674074600449,"duration":24}}]},"tags":[]},"source":"45ffd142aaab90a.json","parameterValues":[]}