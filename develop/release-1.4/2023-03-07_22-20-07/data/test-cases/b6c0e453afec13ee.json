{"uid":"b6c0e453afec13ee","name":"Verify power-cap for a single node","fullName":"api.4-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"c6d875da97f650251a49a7570403f1b8","time":{"start":1678227581649,"stop":1678227589279,"duration":7630},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678227581848,"stop":1678227581886,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"a4162edbff99bc97","name":"stage_yaml","source":"a4162edbff99bc97.yaml","type":"application/yaml","size":333},{"uid":"791681d126fbafb1","name":"rest_request","source":"791681d126fbafb1.yaml","type":"application/yaml","size":149},{"uid":"7709cc15bed543f6","name":"rest_response","source":"7709cc15bed543f6.yaml","type":"application/yaml","size":5770}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1678227581887,"stop":1678227581896,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"2ebd31c40e1781e9","name":"stage_yaml","source":"2ebd31c40e1781e9.yaml","type":"application/yaml","size":228},{"uid":"fb80013cbe11f535","name":"rest_request","source":"fb80013cbe11f535.yaml","type":"application/yaml","size":173},{"uid":"488925da1b83f717","name":"rest_response","source":"488925da1b83f717.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1678227581897,"stop":1678227581906,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"fa892f98f7b034c3","name":"stage_yaml","source":"fa892f98f7b034c3.yaml","type":"application/yaml","size":231},{"uid":"3a1e096061a41b0c","name":"rest_request","source":"3a1e096061a41b0c.yaml","type":"application/yaml","size":173},{"uid":"f73aee7571c3dcac","name":"rest_response","source":"f73aee7571c3dcac.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1678227581907,"stop":1678227581920,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"263e30677f130649","name":"stage_yaml","source":"263e30677f130649.yaml","type":"application/yaml","size":543},{"uid":"dda8608bb27f9530","name":"rest_request","source":"dda8608bb27f9530.yaml","type":"application/yaml","size":166},{"uid":"36545692d27b6ede","name":"rest_response","source":"36545692d27b6ede.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1678227581922,"stop":1678227582939,"duration":1017},"status":"passed","steps":[],"attachments":[{"uid":"942a7137fad2e57f","name":"stage_yaml","source":"942a7137fad2e57f.yaml","type":"application/yaml","size":661},{"uid":"953e2660288459cf","name":"rest_request","source":"953e2660288459cf.yaml","type":"application/yaml","size":159},{"uid":"3c389de6b2104252","name":"rest_response","source":"3c389de6b2104252.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1678227582941,"stop":1678227582959,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"11b15da8cac4c6ff","name":"stage_yaml","source":"11b15da8cac4c6ff.yaml","type":"application/yaml","size":3543},{"uid":"47d45c775b05ca12","name":"rest_request","source":"47d45c775b05ca12.yaml","type":"application/yaml","size":159},{"uid":"ba3b9b30ff507c03","name":"rest_response","source":"ba3b9b30ff507c03.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1678227582960,"stop":1678227582972,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"741d2d31b63c6202","name":"stage_yaml","source":"741d2d31b63c6202.yaml","type":"application/yaml","size":639},{"uid":"d88f3ac2317afcf1","name":"rest_request","source":"d88f3ac2317afcf1.yaml","type":"application/yaml","size":229},{"uid":"6eb3358b89dafc98","name":"rest_response","source":"6eb3358b89dafc98.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1678227582974,"stop":1678227583989,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"7d17ad55ae505c71","name":"stage_yaml","source":"7d17ad55ae505c71.yaml","type":"application/yaml","size":679},{"uid":"2d0ccbf214b58ec7","name":"rest_request","source":"2d0ccbf214b58ec7.yaml","type":"application/yaml","size":159},{"uid":"4416abac8ed5772a","name":"rest_response","source":"4416abac8ed5772a.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1678227583990,"stop":1678227584009,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"491d4829713e68cc","name":"stage_yaml","source":"491d4829713e68cc.yaml","type":"application/yaml","size":3157},{"uid":"3615d3e793ff9826","name":"rest_request","source":"3615d3e793ff9826.yaml","type":"application/yaml","size":159},{"uid":"a66b770052d577e7","name":"rest_response","source":"a66b770052d577e7.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1678227584010,"stop":1678227584023,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"b705293652028ec0","name":"stage_yaml","source":"b705293652028ec0.yaml","type":"application/yaml","size":639},{"uid":"44873ee1bcf42e29","name":"rest_request","source":"44873ee1bcf42e29.yaml","type":"application/yaml","size":229},{"uid":"a8b44c1bdacedc5c","name":"rest_response","source":"a8b44c1bdacedc5c.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1678227584025,"stop":1678227585040,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"580db7284ec63a5a","name":"stage_yaml","source":"580db7284ec63a5a.yaml","type":"application/yaml","size":679},{"uid":"d37b8ef2572e860d","name":"rest_request","source":"d37b8ef2572e860d.yaml","type":"application/yaml","size":159},{"uid":"e41c1a96d77d3a1","name":"rest_response","source":"e41c1a96d77d3a1.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1678227585042,"stop":1678227585060,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"c4039363d09b7b9f","name":"stage_yaml","source":"c4039363d09b7b9f.yaml","type":"application/yaml","size":3157},{"uid":"82b44f545e067267","name":"rest_request","source":"82b44f545e067267.yaml","type":"application/yaml","size":159},{"uid":"ee04312a0fdc2423","name":"rest_response","source":"ee04312a0fdc2423.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1678227585061,"stop":1678227585073,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"b740c30af3ebbdef","name":"stage_yaml","source":"b740c30af3ebbdef.yaml","type":"application/yaml","size":639},{"uid":"a9d1e0c36bd9f09c","name":"rest_request","source":"a9d1e0c36bd9f09c.yaml","type":"application/yaml","size":233},{"uid":"4b91d3b336fae24c","name":"rest_response","source":"4b91d3b336fae24c.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1678227585076,"stop":1678227586089,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"bd17b1ef57b0f2c7","name":"stage_yaml","source":"bd17b1ef57b0f2c7.yaml","type":"application/yaml","size":685},{"uid":"cbaf4f5eabc43c00","name":"rest_request","source":"cbaf4f5eabc43c00.yaml","type":"application/yaml","size":159},{"uid":"c748e950f06bbc01","name":"rest_response","source":"c748e950f06bbc01.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1678227586090,"stop":1678227586107,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"bee154fee11df029","name":"stage_yaml","source":"bee154fee11df029.yaml","type":"application/yaml","size":2234},{"uid":"8da730297ed4efdc","name":"rest_request","source":"8da730297ed4efdc.yaml","type":"application/yaml","size":159},{"uid":"c5c1d96e41a92bfb","name":"rest_response","source":"c5c1d96e41a92bfb.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1678227586108,"stop":1678227586120,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"40b319689c021d46","name":"stage_yaml","source":"40b319689c021d46.yaml","type":"application/yaml","size":631},{"uid":"331ec47532824cab","name":"rest_request","source":"331ec47532824cab.yaml","type":"application/yaml","size":227},{"uid":"9cac6f52ff8a460c","name":"rest_response","source":"9cac6f52ff8a460c.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1678227586122,"stop":1678227587137,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"9d0074199ae90945","name":"stage_yaml","source":"9d0074199ae90945.yaml","type":"application/yaml","size":685},{"uid":"6f64ec17a2aaaa4f","name":"rest_request","source":"6f64ec17a2aaaa4f.yaml","type":"application/yaml","size":159},{"uid":"e3316e9433bbb364","name":"rest_response","source":"e3316e9433bbb364.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1678227587138,"stop":1678227587155,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"9c2e39f6a99fbf92","name":"stage_yaml","source":"9c2e39f6a99fbf92.yaml","type":"application/yaml","size":2230},{"uid":"2a9f56c95444e559","name":"rest_request","source":"2a9f56c95444e559.yaml","type":"application/yaml","size":159},{"uid":"cfb0ccd7e364334f","name":"rest_response","source":"cfb0ccd7e364334f.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1678227587156,"stop":1678227587169,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"9e0da0d3bf9e13ae","name":"stage_yaml","source":"9e0da0d3bf9e13ae.yaml","type":"application/yaml","size":599},{"uid":"eb8efe9ccc9d6b38","name":"rest_request","source":"eb8efe9ccc9d6b38.yaml","type":"application/yaml","size":227},{"uid":"d372e0490bfd449d","name":"rest_response","source":"d372e0490bfd449d.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1678227587171,"stop":1678227588186,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"ea438e18ad3fb8fe","name":"stage_yaml","source":"ea438e18ad3fb8fe.yaml","type":"application/yaml","size":679},{"uid":"ddced13ef53b2d73","name":"rest_request","source":"ddced13ef53b2d73.yaml","type":"application/yaml","size":159},{"uid":"cb9d4be10f891666","name":"rest_response","source":"cb9d4be10f891666.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1678227588187,"stop":1678227588205,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"1fd35342025a8222","name":"stage_yaml","source":"1fd35342025a8222.yaml","type":"application/yaml","size":3125},{"uid":"7a311a78dd518aed","name":"rest_request","source":"7a311a78dd518aed.yaml","type":"application/yaml","size":159},{"uid":"2366c30e0db8554f","name":"rest_response","source":"2366c30e0db8554f.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1678227588206,"stop":1678227588219,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"8715d677649fd541","name":"stage_yaml","source":"8715d677649fd541.yaml","type":"application/yaml","size":640},{"uid":"ebeee02f47dad133","name":"rest_request","source":"ebeee02f47dad133.yaml","type":"application/yaml","size":227},{"uid":"c1da4d232dedb4c0","name":"rest_response","source":"c1da4d232dedb4c0.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1678227588221,"stop":1678227589236,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"3f70a6d9a76fd049","name":"stage_yaml","source":"3f70a6d9a76fd049.yaml","type":"application/yaml","size":680},{"uid":"388c89745cf6c9be","name":"rest_request","source":"388c89745cf6c9be.yaml","type":"application/yaml","size":159},{"uid":"8818f3fcc8e6def3","name":"rest_response","source":"8818f3fcc8e6def3.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1678227589237,"stop":1678227589256,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"f58448020f2ca815","name":"stage_yaml","source":"f58448020f2ca815.yaml","type":"application/yaml","size":3160},{"uid":"d1ce2cd661296cf3","name":"rest_request","source":"d1ce2cd661296cf3.yaml","type":"application/yaml","size":159},{"uid":"f695cf9af4a33c79","name":"rest_response","source":"f695cf9af4a33c79.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1678227589257,"stop":1678227589268,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"ff60cc9b358b2a59","name":"stage_yaml","source":"ff60cc9b358b2a59.yaml","type":"application/yaml","size":276},{"uid":"dff0a666863479b9","name":"rest_request","source":"dff0a666863479b9.yaml","type":"application/yaml","size":173},{"uid":"a759fe33e7c4e04b","name":"rest_response","source":"a759fe33e7c4e04b.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1678227589269,"stop":1678227589278,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"bdf0114c33159203","name":"stage_yaml","source":"bdf0114c33159203.yaml","type":"application/yaml","size":256},{"uid":"963ac0f87b063871","name":"rest_request","source":"963ac0f87b063871.yaml","type":"application/yaml","size":173},{"uid":"4a728b3b6d50b508","name":"rest_response","source":"4a728b3b6d50b508.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":78,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"33adf5a8ff60"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":12,"unknown":0,"total":14},"items":[{"uid":"b1fa529b98e17ce6","status":"passed","time":{"start":1678225629287,"stop":1678225636950,"duration":7663}},{"uid":"6ce6b01f015d1612","status":"passed","time":{"start":1678222346737,"stop":1678222356414,"duration":9677}},{"uid":"2a33895f4267c2aa","status":"passed","time":{"start":1678218750739,"stop":1678218758391,"duration":7652}},{"uid":"3ac4d7a4aea27ca9","status":"passed","time":{"start":1676401415560,"stop":1676401423478,"duration":7918}},{"uid":"8320eac632c6c50","status":"passed","time":{"start":1676326123444,"stop":1676326133145,"duration":9701}},{"uid":"2033b0cd5f87e006","status":"passed","time":{"start":1674516017611,"stop":1674516025271,"duration":7660}},{"uid":"d958f04c82741ac6","status":"passed","time":{"start":1674506193157,"stop":1674506200798,"duration":7641}},{"uid":"a370f4c234a4043d","status":"passed","time":{"start":1674500821056,"stop":1674500828702,"duration":7646}},{"uid":"9ad774d9b0624ca4","status":"passed","time":{"start":1674258346884,"stop":1674258355575,"duration":8691}},{"uid":"ed5410046bf99c16","status":"passed","time":{"start":1674255719656,"stop":1674255727518,"duration":7862}},{"uid":"9e5ddf4c3cc59a2","status":"passed","time":{"start":1674080348924,"stop":1674080359611,"duration":10687}},{"uid":"c57d29d7b9a4fd3","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674075069275,"stop":1674075069569,"duration":294}},{"uid":"6808c8d9b8886dc5","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674074687647,"stop":1674074687894,"duration":247}}]},"tags":[]},"source":"b6c0e453afec13ee.json","parameterValues":[]}