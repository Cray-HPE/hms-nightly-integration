{"uid":"ab061137e50b4b36","name":"Verify that off transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify that off transition operations can be aborted","historyId":"9f83b86b7f402bd21cbba63d959ff457","time":{"start":1678226765790,"stop":1678226798477,"duration":32687},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678226765799,"stop":1678226765835,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"4d740ca7463c21cf","name":"stage_yaml","source":"4d740ca7463c21cf.yaml","type":"application/yaml","size":302},{"uid":"9d5ee7d47eb91215","name":"rest_request","source":"9d5ee7d47eb91215.yaml","type":"application/yaml","size":162},{"uid":"6920ba0c6ffc14fd","name":"rest_response","source":"6920ba0c6ffc14fd.yaml","type":"application/yaml","size":5775}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678226765836,"stop":1678226765849,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"377e88c9e7a596f4","name":"stage_yaml","source":"377e88c9e7a596f4.yaml","type":"application/yaml","size":775},{"uid":"33aed96e2dffe4b6","name":"rest_request","source":"33aed96e2dffe4b6.yaml","type":"application/yaml","size":211},{"uid":"630b0b9347c874e6","name":"rest_response","source":"630b0b9347c874e6.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678226765851,"stop":1678226797384,"duration":31533},"status":"passed","steps":[],"attachments":[{"uid":"c71896270c03a63a","name":"stage_yaml","source":"c71896270c03a63a.yaml","type":"application/yaml","size":661},{"uid":"6335077799a57b15","name":"rest_request","source":"6335077799a57b15.yaml","type":"application/yaml","size":161},{"uid":"8e9eb52f458e49e1","name":"rest_response","source":"8e9eb52f458e49e1.yaml","type":"application/yaml","size":567},{"uid":"2f199462de6dba9c","name":"stage_yaml","source":"2f199462de6dba9c.yaml","type":"application/yaml","size":661},{"uid":"9c58c4178045b59e","name":"rest_request","source":"9c58c4178045b59e.yaml","type":"application/yaml","size":161},{"uid":"bdc6fff8231da1b1","name":"rest_response","source":"bdc6fff8231da1b1.yaml","type":"application/yaml","size":597},{"uid":"eef1ccffbe58be6a","name":"stage_yaml","source":"eef1ccffbe58be6a.yaml","type":"application/yaml","size":661},{"uid":"f3f7d3e648f7c83b","name":"rest_request","source":"f3f7d3e648f7c83b.yaml","type":"application/yaml","size":161},{"uid":"31c259bbaddb510b","name":"rest_response","source":"31c259bbaddb510b.yaml","type":"application/yaml","size":597},{"uid":"1ab3fc582f4e57ad","name":"stage_yaml","source":"1ab3fc582f4e57ad.yaml","type":"application/yaml","size":661},{"uid":"7b3c797abf55c4ca","name":"rest_request","source":"7b3c797abf55c4ca.yaml","type":"application/yaml","size":161},{"uid":"2067f89633296353","name":"rest_response","source":"2067f89633296353.yaml","type":"application/yaml","size":597},{"uid":"c477dac27cc8352d","name":"stage_yaml","source":"c477dac27cc8352d.yaml","type":"application/yaml","size":661},{"uid":"5508943f6285ae32","name":"rest_request","source":"5508943f6285ae32.yaml","type":"application/yaml","size":161},{"uid":"dd3bf9c001b50da3","name":"rest_response","source":"dd3bf9c001b50da3.yaml","type":"application/yaml","size":597},{"uid":"216ef3f8d0db63ca","name":"stage_yaml","source":"216ef3f8d0db63ca.yaml","type":"application/yaml","size":661},{"uid":"154c153e8ba24e75","name":"rest_request","source":"154c153e8ba24e75.yaml","type":"application/yaml","size":161},{"uid":"9fc6aabccde1ea81","name":"rest_response","source":"9fc6aabccde1ea81.yaml","type":"application/yaml","size":597},{"uid":"cc0d8f1a189b205c","name":"stage_yaml","source":"cc0d8f1a189b205c.yaml","type":"application/yaml","size":661},{"uid":"82d4925563e1a69c","name":"rest_request","source":"82d4925563e1a69c.yaml","type":"application/yaml","size":161},{"uid":"4e39786a29465e70","name":"rest_response","source":"4e39786a29465e70.yaml","type":"application/yaml","size":597},{"uid":"a73f91ee4b3300ea","name":"stage_yaml","source":"a73f91ee4b3300ea.yaml","type":"application/yaml","size":661},{"uid":"97cf4593e0c633f8","name":"rest_request","source":"97cf4593e0c633f8.yaml","type":"application/yaml","size":161},{"uid":"4e0968eb591bbc17","name":"rest_response","source":"4e0968eb591bbc17.yaml","type":"application/yaml","size":597},{"uid":"9095e61c49dad7db","name":"stage_yaml","source":"9095e61c49dad7db.yaml","type":"application/yaml","size":661},{"uid":"d8868a34e3db42a0","name":"rest_request","source":"d8868a34e3db42a0.yaml","type":"application/yaml","size":161},{"uid":"10958e2d1fa6ff81","name":"rest_response","source":"10958e2d1fa6ff81.yaml","type":"application/yaml","size":597},{"uid":"6a24cae10b54a19","name":"stage_yaml","source":"6a24cae10b54a19.yaml","type":"application/yaml","size":661},{"uid":"d16c47921f45e5fa","name":"rest_request","source":"d16c47921f45e5fa.yaml","type":"application/yaml","size":161},{"uid":"63f7a7da3b121808","name":"rest_response","source":"63f7a7da3b121808.yaml","type":"application/yaml","size":597},{"uid":"36824079891a73ec","name":"stage_yaml","source":"36824079891a73ec.yaml","type":"application/yaml","size":661},{"uid":"9160f6eed0510ad4","name":"rest_request","source":"9160f6eed0510ad4.yaml","type":"application/yaml","size":161},{"uid":"aab1754fcc808e13","name":"rest_response","source":"aab1754fcc808e13.yaml","type":"application/yaml","size":597},{"uid":"a134bc7d61dc2112","name":"stage_yaml","source":"a134bc7d61dc2112.yaml","type":"application/yaml","size":661},{"uid":"3073ca79716572d4","name":"rest_request","source":"3073ca79716572d4.yaml","type":"application/yaml","size":161},{"uid":"a0e592c006d34ee4","name":"rest_response","source":"a0e592c006d34ee4.yaml","type":"application/yaml","size":597},{"uid":"ae8b8a50d00dd6f6","name":"stage_yaml","source":"ae8b8a50d00dd6f6.yaml","type":"application/yaml","size":661},{"uid":"669486c0abb2e6a2","name":"rest_request","source":"669486c0abb2e6a2.yaml","type":"application/yaml","size":161},{"uid":"4729ce6c5e22a36c","name":"rest_response","source":"4729ce6c5e22a36c.yaml","type":"application/yaml","size":597},{"uid":"b3180d139d10aeb3","name":"stage_yaml","source":"b3180d139d10aeb3.yaml","type":"application/yaml","size":661},{"uid":"801dabc2f11529da","name":"rest_request","source":"801dabc2f11529da.yaml","type":"application/yaml","size":161},{"uid":"1b01a9b4ce4fb5af","name":"rest_response","source":"1b01a9b4ce4fb5af.yaml","type":"application/yaml","size":597},{"uid":"5b5b57f9dcd20349","name":"stage_yaml","source":"5b5b57f9dcd20349.yaml","type":"application/yaml","size":661},{"uid":"b7f5d7e5a82b1cb9","name":"rest_request","source":"b7f5d7e5a82b1cb9.yaml","type":"application/yaml","size":161},{"uid":"9a7c04d6a5163b6f","name":"rest_response","source":"9a7c04d6a5163b6f.yaml","type":"application/yaml","size":597},{"uid":"923f467246d30b89","name":"stage_yaml","source":"923f467246d30b89.yaml","type":"application/yaml","size":661},{"uid":"a5d236f8cceeff0d","name":"rest_request","source":"a5d236f8cceeff0d.yaml","type":"application/yaml","size":161},{"uid":"5aaf1413d6681400","name":"rest_response","source":"5aaf1413d6681400.yaml","type":"application/yaml","size":597},{"uid":"9f7f34c859a9e379","name":"stage_yaml","source":"9f7f34c859a9e379.yaml","type":"application/yaml","size":661},{"uid":"cc3157dcf5de0d2c","name":"rest_request","source":"cc3157dcf5de0d2c.yaml","type":"application/yaml","size":161},{"uid":"4e96c62d95f34cba","name":"rest_response","source":"4e96c62d95f34cba.yaml","type":"application/yaml","size":597},{"uid":"ba2578efd12e3ced","name":"stage_yaml","source":"ba2578efd12e3ced.yaml","type":"application/yaml","size":661},{"uid":"25697dcdc9dea266","name":"rest_request","source":"25697dcdc9dea266.yaml","type":"application/yaml","size":161},{"uid":"dce12601e0a5ca0e","name":"rest_response","source":"dce12601e0a5ca0e.yaml","type":"application/yaml","size":597},{"uid":"ac98907217d0eb04","name":"stage_yaml","source":"ac98907217d0eb04.yaml","type":"application/yaml","size":661},{"uid":"f9aacb36eadeff66","name":"rest_request","source":"f9aacb36eadeff66.yaml","type":"application/yaml","size":161},{"uid":"d2cc483b6f5ecae4","name":"rest_response","source":"d2cc483b6f5ecae4.yaml","type":"application/yaml","size":597},{"uid":"95859eb950240ab5","name":"stage_yaml","source":"95859eb950240ab5.yaml","type":"application/yaml","size":661},{"uid":"30149441e078437f","name":"rest_request","source":"30149441e078437f.yaml","type":"application/yaml","size":161},{"uid":"efe26f9e8ab1d8ef","name":"rest_response","source":"efe26f9e8ab1d8ef.yaml","type":"application/yaml","size":597},{"uid":"76a8f63617ed54b1","name":"stage_yaml","source":"76a8f63617ed54b1.yaml","type":"application/yaml","size":661},{"uid":"baf25e881d530131","name":"rest_request","source":"baf25e881d530131.yaml","type":"application/yaml","size":161},{"uid":"30c02049131fd17c","name":"rest_response","source":"30c02049131fd17c.yaml","type":"application/yaml","size":597},{"uid":"2a75a043eb6d0d3d","name":"stage_yaml","source":"2a75a043eb6d0d3d.yaml","type":"application/yaml","size":661},{"uid":"7ae30babb60fcf52","name":"rest_request","source":"7ae30babb60fcf52.yaml","type":"application/yaml","size":161},{"uid":"b906a633f1a9026e","name":"rest_response","source":"b906a633f1a9026e.yaml","type":"application/yaml","size":597},{"uid":"4bfe405ee635f64f","name":"stage_yaml","source":"4bfe405ee635f64f.yaml","type":"application/yaml","size":661},{"uid":"18b74b20bbf76ce4","name":"rest_request","source":"18b74b20bbf76ce4.yaml","type":"application/yaml","size":161},{"uid":"73e1ddacb18ce9ee","name":"rest_response","source":"73e1ddacb18ce9ee.yaml","type":"application/yaml","size":597},{"uid":"ec6d20c2715b3476","name":"stage_yaml","source":"ec6d20c2715b3476.yaml","type":"application/yaml","size":661},{"uid":"9701f231faf086bc","name":"rest_request","source":"9701f231faf086bc.yaml","type":"application/yaml","size":161},{"uid":"1a60c9c643ed72e4","name":"rest_response","source":"1a60c9c643ed72e4.yaml","type":"application/yaml","size":597},{"uid":"6260767d72815f96","name":"stage_yaml","source":"6260767d72815f96.yaml","type":"application/yaml","size":661},{"uid":"519ecedfdd7ffe7c","name":"rest_request","source":"519ecedfdd7ffe7c.yaml","type":"application/yaml","size":161},{"uid":"a81ed0981ac9c4f7","name":"rest_response","source":"a81ed0981ac9c4f7.yaml","type":"application/yaml","size":597},{"uid":"a716290d3ec4e912","name":"stage_yaml","source":"a716290d3ec4e912.yaml","type":"application/yaml","size":661},{"uid":"bf2696e5eede1579","name":"rest_request","source":"bf2696e5eede1579.yaml","type":"application/yaml","size":161},{"uid":"e4895268e87ec5b2","name":"rest_response","source":"e4895268e87ec5b2.yaml","type":"application/yaml","size":597},{"uid":"eab00a713979be68","name":"stage_yaml","source":"eab00a713979be68.yaml","type":"application/yaml","size":661},{"uid":"74e203e5323c06e1","name":"rest_request","source":"74e203e5323c06e1.yaml","type":"application/yaml","size":161},{"uid":"352174deaf0a0c36","name":"rest_response","source":"352174deaf0a0c36.yaml","type":"application/yaml","size":597},{"uid":"8cffdc39beef8227","name":"stage_yaml","source":"8cffdc39beef8227.yaml","type":"application/yaml","size":661},{"uid":"dce43a226b7a6016","name":"rest_request","source":"dce43a226b7a6016.yaml","type":"application/yaml","size":161},{"uid":"337b8e21912f8517","name":"rest_response","source":"337b8e21912f8517.yaml","type":"application/yaml","size":597},{"uid":"a1949f5f731a59ee","name":"stage_yaml","source":"a1949f5f731a59ee.yaml","type":"application/yaml","size":661},{"uid":"28c6bb0004516a3d","name":"rest_request","source":"28c6bb0004516a3d.yaml","type":"application/yaml","size":161},{"uid":"e9f863da5ea54fb7","name":"rest_response","source":"e9f863da5ea54fb7.yaml","type":"application/yaml","size":597},{"uid":"f806fac2d1b9c963","name":"stage_yaml","source":"f806fac2d1b9c963.yaml","type":"application/yaml","size":661},{"uid":"71932594dfc2dad9","name":"rest_request","source":"71932594dfc2dad9.yaml","type":"application/yaml","size":161},{"uid":"8b37e5be7423c60a","name":"rest_response","source":"8b37e5be7423c60a.yaml","type":"application/yaml","size":597},{"uid":"9dc9a8630b87bba2","name":"stage_yaml","source":"9dc9a8630b87bba2.yaml","type":"application/yaml","size":661},{"uid":"e1b6445ce0e4ffc7","name":"rest_request","source":"e1b6445ce0e4ffc7.yaml","type":"application/yaml","size":161},{"uid":"7761b0981cc3d8bf","name":"rest_response","source":"7761b0981cc3d8bf.yaml","type":"application/yaml","size":581}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678226797386,"stop":1678226797402,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"5b761aa80579f639","name":"stage_yaml","source":"5b761aa80579f639.yaml","type":"application/yaml","size":2375},{"uid":"7290531d7579731f","name":"rest_request","source":"7290531d7579731f.yaml","type":"application/yaml","size":161},{"uid":"b63050d0e2e56494","name":"rest_response","source":"b63050d0e2e56494.yaml","type":"application/yaml","size":581}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678226797402,"stop":1678226797417,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b7ed8303ab072c57","name":"stage_yaml","source":"b7ed8303ab072c57.yaml","type":"application/yaml","size":976},{"uid":"4220eb701be0f2ab","name":"rest_request","source":"4220eb701be0f2ab.yaml","type":"application/yaml","size":145},{"uid":"13b4e8aed670e1ae","name":"rest_response","source":"13b4e8aed670e1ae.yaml","type":"application/yaml","size":437}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue a force-off transition for the target node","time":{"start":1678226797418,"stop":1678226797429,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"df9fa230ddc43944","name":"stage_yaml","source":"df9fa230ddc43944.yaml","type":"application/yaml","size":790},{"uid":"b120447e07e6822a","name":"rest_request","source":"b120447e07e6822a.yaml","type":"application/yaml","size":216},{"uid":"5959c7c62d5b5774","name":"rest_response","source":"5959c7c62d5b5774.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued force-off transition","time":{"start":1678226797430,"stop":1678226797442,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"b6ea68910749ca57","name":"stage_yaml","source":"b6ea68910749ca57.yaml","type":"application/yaml","size":541},{"uid":"3307ccc20853a48f","name":"rest_request","source":"3307ccc20853a48f.yaml","type":"application/yaml","size":164},{"uid":"afc260a0c6226d7f","name":"rest_response","source":"afc260a0c6226d7f.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted force-off transition operation has been aborted","time":{"start":1678226797443,"stop":1678226798457,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"d8482fa87351ad6e","name":"stage_yaml","source":"d8482fa87351ad6e.yaml","type":"application/yaml","size":724},{"uid":"f58d0855aa15bc04","name":"rest_request","source":"f58d0855aa15bc04.yaml","type":"application/yaml","size":161},{"uid":"a321cf6b41823ed6","name":"rest_response","source":"a321cf6b41823ed6.yaml","type":"application/yaml","size":624}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted force-off transition","time":{"start":1678226798458,"stop":1678226798477,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"37ee806a2a06d25a","name":"stage_yaml","source":"37ee806a2a06d25a.yaml","type":"application/yaml","size":2495},{"uid":"968db21391ce3038","name":"rest_request","source":"968db21391ce3038.yaml","type":"application/yaml","size":161},{"uid":"de765cc140b8350c","name":"rest_response","source":"de765cc140b8350c.yaml","type":"application/yaml","size":624}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"24993aa5590c900f","name":"log","source":"24993aa5590c900f.txt","type":"text/plain","size":115409}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"22ad509d3223"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"d2526e2f0f99165","status":"passed","time":{"start":1678224782506,"stop":1678224815208,"duration":32702}},{"uid":"694b9cc861c3e5a5","status":"passed","time":{"start":1678221386604,"stop":1678221388769,"duration":2165}},{"uid":"3d9644c90a26fc6f","status":"passed","time":{"start":1678217696471,"stop":1678217698646,"duration":2175}},{"uid":"1052f3fcc0876807","status":"passed","time":{"start":1676400508131,"stop":1676400541084,"duration":32953}},{"uid":"a5aaa63d284e8c62","status":"passed","time":{"start":1676325279437,"stop":1676325312178,"duration":32741}},{"uid":"f491104c8d23a3b3","status":"passed","time":{"start":1674515297549,"stop":1674515330188,"duration":32639}},{"uid":"50168dcbaea5c61b","status":"passed","time":{"start":1674505383319,"stop":1674505416009,"duration":32690}},{"uid":"42b26616a8b88cd","status":"passed","time":{"start":1674499981175,"stop":1674500013862,"duration":32687}},{"uid":"eeeffbcc1f7c1047","status":"passed","time":{"start":1674257507025,"stop":1674257539761,"duration":32736}},{"uid":"8bfd3efd49aa024b","status":"passed","time":{"start":1674255001702,"stop":1674255034593,"duration":32891}},{"uid":"d5ae4147fd0ac691","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Issue a force-off transition for the target node' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080257200,"stop":1674080258301,"duration":1101}},{"uid":"3ab278ee1f0e4249","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977566,"stop":1674074977599,"duration":33}},{"uid":"a51b8d288a905e16","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074600081,"stop":1674074600108,"duration":27}}]},"tags":[]},"source":"ab061137e50b4b36.json","parameterValues":[]}