{"uid":"5f9d831ecf2d3c88","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678226946889,"stop":1678226979668,"duration":32779},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678226946899,"stop":1678226946939,"duration":40},"status":"passed","steps":[],"attachments":[{"uid":"2c72ef5385f47b16","name":"stage_yaml","source":"2c72ef5385f47b16.yaml","type":"application/yaml","size":302},{"uid":"3e8c6e5661cf32","name":"rest_request","source":"3e8c6e5661cf32.yaml","type":"application/yaml","size":162},{"uid":"2c258801ad234c5d","name":"rest_response","source":"2c258801ad234c5d.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678226946940,"stop":1678226946957,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"398bfcf91d03b36","name":"stage_yaml","source":"398bfcf91d03b36.yaml","type":"application/yaml","size":797},{"uid":"d4b7ea2154cc6bde","name":"rest_request","source":"d4b7ea2154cc6bde.yaml","type":"application/yaml","size":216},{"uid":"3d1570be98359a","name":"rest_response","source":"3d1570be98359a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678226946959,"stop":1678226978572,"duration":31613},"status":"passed","steps":[],"attachments":[{"uid":"e84f66fe47cb0e98","name":"stage_yaml","source":"e84f66fe47cb0e98.yaml","type":"application/yaml","size":682},{"uid":"94cfab74f9bebbd6","name":"rest_request","source":"94cfab74f9bebbd6.yaml","type":"application/yaml","size":161},{"uid":"b63711f9c44d2cb0","name":"rest_response","source":"b63711f9c44d2cb0.yaml","type":"application/yaml","size":587},{"uid":"48ee29872de9f0f2","name":"stage_yaml","source":"48ee29872de9f0f2.yaml","type":"application/yaml","size":682},{"uid":"127c092301c12389","name":"rest_request","source":"127c092301c12389.yaml","type":"application/yaml","size":161},{"uid":"992dd73528b72095","name":"rest_response","source":"992dd73528b72095.yaml","type":"application/yaml","size":608},{"uid":"98dc0023991ddcfa","name":"stage_yaml","source":"98dc0023991ddcfa.yaml","type":"application/yaml","size":682},{"uid":"464b96821c59e7e2","name":"rest_request","source":"464b96821c59e7e2.yaml","type":"application/yaml","size":161},{"uid":"1734846fefa23148","name":"rest_response","source":"1734846fefa23148.yaml","type":"application/yaml","size":608},{"uid":"4173bbd6444f6432","name":"stage_yaml","source":"4173bbd6444f6432.yaml","type":"application/yaml","size":682},{"uid":"3db58ca93cb568f1","name":"rest_request","source":"3db58ca93cb568f1.yaml","type":"application/yaml","size":161},{"uid":"afab20c5f0960088","name":"rest_response","source":"afab20c5f0960088.yaml","type":"application/yaml","size":608},{"uid":"b0af1ff2f9a1bff","name":"stage_yaml","source":"b0af1ff2f9a1bff.yaml","type":"application/yaml","size":682},{"uid":"ad6d8c3c83364485","name":"rest_request","source":"ad6d8c3c83364485.yaml","type":"application/yaml","size":161},{"uid":"f0ececce2cad24fa","name":"rest_response","source":"f0ececce2cad24fa.yaml","type":"application/yaml","size":608},{"uid":"7c021546fb8a219","name":"stage_yaml","source":"7c021546fb8a219.yaml","type":"application/yaml","size":682},{"uid":"252519133ed282d6","name":"rest_request","source":"252519133ed282d6.yaml","type":"application/yaml","size":161},{"uid":"d52bf5799603706b","name":"rest_response","source":"d52bf5799603706b.yaml","type":"application/yaml","size":608},{"uid":"eafbfdf76d1b26d9","name":"stage_yaml","source":"eafbfdf76d1b26d9.yaml","type":"application/yaml","size":682},{"uid":"5d14f483b1ad6379","name":"rest_request","source":"5d14f483b1ad6379.yaml","type":"application/yaml","size":161},{"uid":"e7780f44e6c9a515","name":"rest_response","source":"e7780f44e6c9a515.yaml","type":"application/yaml","size":608},{"uid":"64242bd04c778146","name":"stage_yaml","source":"64242bd04c778146.yaml","type":"application/yaml","size":682},{"uid":"585a1a392e2c7723","name":"rest_request","source":"585a1a392e2c7723.yaml","type":"application/yaml","size":161},{"uid":"c6782b784f1c45b","name":"rest_response","source":"c6782b784f1c45b.yaml","type":"application/yaml","size":608},{"uid":"54a667dc6712def4","name":"stage_yaml","source":"54a667dc6712def4.yaml","type":"application/yaml","size":682},{"uid":"365a9ce592bf01a5","name":"rest_request","source":"365a9ce592bf01a5.yaml","type":"application/yaml","size":161},{"uid":"acc57092b105354d","name":"rest_response","source":"acc57092b105354d.yaml","type":"application/yaml","size":608},{"uid":"21f35f57b9d94125","name":"stage_yaml","source":"21f35f57b9d94125.yaml","type":"application/yaml","size":682},{"uid":"13778a098be7d8f9","name":"rest_request","source":"13778a098be7d8f9.yaml","type":"application/yaml","size":161},{"uid":"c18c8cf841d6e68f","name":"rest_response","source":"c18c8cf841d6e68f.yaml","type":"application/yaml","size":608},{"uid":"7145b9386c1f51a4","name":"stage_yaml","source":"7145b9386c1f51a4.yaml","type":"application/yaml","size":682},{"uid":"ebddb9f40474b282","name":"rest_request","source":"ebddb9f40474b282.yaml","type":"application/yaml","size":161},{"uid":"33a5aad1b4f2a11a","name":"rest_response","source":"33a5aad1b4f2a11a.yaml","type":"application/yaml","size":608},{"uid":"1ef2c2dec534b628","name":"stage_yaml","source":"1ef2c2dec534b628.yaml","type":"application/yaml","size":682},{"uid":"9a2257a7cdb4bc7d","name":"rest_request","source":"9a2257a7cdb4bc7d.yaml","type":"application/yaml","size":161},{"uid":"6c456ad6d8b6b535","name":"rest_response","source":"6c456ad6d8b6b535.yaml","type":"application/yaml","size":608},{"uid":"a856b3976a97fa21","name":"stage_yaml","source":"a856b3976a97fa21.yaml","type":"application/yaml","size":682},{"uid":"58acdb15eeb4fd8b","name":"rest_request","source":"58acdb15eeb4fd8b.yaml","type":"application/yaml","size":161},{"uid":"f354b541bbabf0c5","name":"rest_response","source":"f354b541bbabf0c5.yaml","type":"application/yaml","size":608},{"uid":"72cf9ef4d95ac1d3","name":"stage_yaml","source":"72cf9ef4d95ac1d3.yaml","type":"application/yaml","size":682},{"uid":"ca7cbf8f0d419922","name":"rest_request","source":"ca7cbf8f0d419922.yaml","type":"application/yaml","size":161},{"uid":"2ba3126007b33242","name":"rest_response","source":"2ba3126007b33242.yaml","type":"application/yaml","size":608},{"uid":"6aae69e6bb1728f0","name":"stage_yaml","source":"6aae69e6bb1728f0.yaml","type":"application/yaml","size":682},{"uid":"549d43018811294","name":"rest_request","source":"549d43018811294.yaml","type":"application/yaml","size":161},{"uid":"11ed97bd3de73ab1","name":"rest_response","source":"11ed97bd3de73ab1.yaml","type":"application/yaml","size":608},{"uid":"aeb6fdc52ed49766","name":"stage_yaml","source":"aeb6fdc52ed49766.yaml","type":"application/yaml","size":682},{"uid":"43e30d8e406730af","name":"rest_request","source":"43e30d8e406730af.yaml","type":"application/yaml","size":161},{"uid":"2a7242f432280845","name":"rest_response","source":"2a7242f432280845.yaml","type":"application/yaml","size":608},{"uid":"7bbe348a0edabbcf","name":"stage_yaml","source":"7bbe348a0edabbcf.yaml","type":"application/yaml","size":682},{"uid":"3074f6cf81e231b9","name":"rest_request","source":"3074f6cf81e231b9.yaml","type":"application/yaml","size":161},{"uid":"6bf38f33c60bdaf1","name":"rest_response","source":"6bf38f33c60bdaf1.yaml","type":"application/yaml","size":608},{"uid":"3795a24dbcf87045","name":"stage_yaml","source":"3795a24dbcf87045.yaml","type":"application/yaml","size":682},{"uid":"3a28d8eaf1b3d335","name":"rest_request","source":"3a28d8eaf1b3d335.yaml","type":"application/yaml","size":161},{"uid":"4d3b5a275b9861da","name":"rest_response","source":"4d3b5a275b9861da.yaml","type":"application/yaml","size":608},{"uid":"c1ff91380a5ce26d","name":"stage_yaml","source":"c1ff91380a5ce26d.yaml","type":"application/yaml","size":682},{"uid":"7b2c4c617387276e","name":"rest_request","source":"7b2c4c617387276e.yaml","type":"application/yaml","size":161},{"uid":"89c96b9d504a6add","name":"rest_response","source":"89c96b9d504a6add.yaml","type":"application/yaml","size":608},{"uid":"6491358c22581658","name":"stage_yaml","source":"6491358c22581658.yaml","type":"application/yaml","size":682},{"uid":"aa4ef74d0e0a6bd0","name":"rest_request","source":"aa4ef74d0e0a6bd0.yaml","type":"application/yaml","size":161},{"uid":"73fd1562480d664a","name":"rest_response","source":"73fd1562480d664a.yaml","type":"application/yaml","size":608},{"uid":"ee9d3969ad81442e","name":"stage_yaml","source":"ee9d3969ad81442e.yaml","type":"application/yaml","size":682},{"uid":"91fc783b7aaa443c","name":"rest_request","source":"91fc783b7aaa443c.yaml","type":"application/yaml","size":161},{"uid":"7b3b468015b1064b","name":"rest_response","source":"7b3b468015b1064b.yaml","type":"application/yaml","size":608},{"uid":"42414716fb849c7c","name":"stage_yaml","source":"42414716fb849c7c.yaml","type":"application/yaml","size":682},{"uid":"e04dd6d42acf88fe","name":"rest_request","source":"e04dd6d42acf88fe.yaml","type":"application/yaml","size":161},{"uid":"7e56ee91d621dac3","name":"rest_response","source":"7e56ee91d621dac3.yaml","type":"application/yaml","size":608},{"uid":"43156370e520322a","name":"stage_yaml","source":"43156370e520322a.yaml","type":"application/yaml","size":682},{"uid":"e445ae15c9431725","name":"rest_request","source":"e445ae15c9431725.yaml","type":"application/yaml","size":161},{"uid":"3be982bdc81f3cee","name":"rest_response","source":"3be982bdc81f3cee.yaml","type":"application/yaml","size":608},{"uid":"71791c4e82b7374c","name":"stage_yaml","source":"71791c4e82b7374c.yaml","type":"application/yaml","size":682},{"uid":"fa8d3cd132867305","name":"rest_request","source":"fa8d3cd132867305.yaml","type":"application/yaml","size":161},{"uid":"70feae1d45827643","name":"rest_response","source":"70feae1d45827643.yaml","type":"application/yaml","size":608},{"uid":"2566073decf6514e","name":"stage_yaml","source":"2566073decf6514e.yaml","type":"application/yaml","size":682},{"uid":"d22cd73387a18ae6","name":"rest_request","source":"d22cd73387a18ae6.yaml","type":"application/yaml","size":161},{"uid":"80ce016a10ee8683","name":"rest_response","source":"80ce016a10ee8683.yaml","type":"application/yaml","size":608},{"uid":"8a0bfd3a4108ce1c","name":"stage_yaml","source":"8a0bfd3a4108ce1c.yaml","type":"application/yaml","size":682},{"uid":"1e87999fbca0e7b1","name":"rest_request","source":"1e87999fbca0e7b1.yaml","type":"application/yaml","size":161},{"uid":"ece14986e80bd595","name":"rest_response","source":"ece14986e80bd595.yaml","type":"application/yaml","size":608},{"uid":"b37bdfb8ea337c59","name":"stage_yaml","source":"b37bdfb8ea337c59.yaml","type":"application/yaml","size":682},{"uid":"26798f9faa12b0bc","name":"rest_request","source":"26798f9faa12b0bc.yaml","type":"application/yaml","size":161},{"uid":"a65c8cf9e771a728","name":"rest_response","source":"a65c8cf9e771a728.yaml","type":"application/yaml","size":608},{"uid":"ff1870dc8de16ab","name":"stage_yaml","source":"ff1870dc8de16ab.yaml","type":"application/yaml","size":682},{"uid":"194306aeae2d4947","name":"rest_request","source":"194306aeae2d4947.yaml","type":"application/yaml","size":161},{"uid":"21187dfd550395f6","name":"rest_response","source":"21187dfd550395f6.yaml","type":"application/yaml","size":608},{"uid":"5f002ac3b6fda0a8","name":"stage_yaml","source":"5f002ac3b6fda0a8.yaml","type":"application/yaml","size":682},{"uid":"b997e0ea8e3ceb50","name":"rest_request","source":"b997e0ea8e3ceb50.yaml","type":"application/yaml","size":161},{"uid":"c2422bd3bbb59c81","name":"rest_response","source":"c2422bd3bbb59c81.yaml","type":"application/yaml","size":608},{"uid":"a5a7479e6416a75a","name":"stage_yaml","source":"a5a7479e6416a75a.yaml","type":"application/yaml","size":682},{"uid":"52173e91312311aa","name":"rest_request","source":"52173e91312311aa.yaml","type":"application/yaml","size":161},{"uid":"b35334818d4199cc","name":"rest_response","source":"b35334818d4199cc.yaml","type":"application/yaml","size":608},{"uid":"5c6ea7b944f205a3","name":"stage_yaml","source":"5c6ea7b944f205a3.yaml","type":"application/yaml","size":682},{"uid":"6c06b087eb0f6ba4","name":"rest_request","source":"6c06b087eb0f6ba4.yaml","type":"application/yaml","size":161},{"uid":"bbe7a22256ef264d","name":"rest_response","source":"bbe7a22256ef264d.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678226978573,"stop":1678226978590,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"5ce9ae3c20f0a528","name":"stage_yaml","source":"5ce9ae3c20f0a528.yaml","type":"application/yaml","size":2389},{"uid":"705ad26d8b9498e7","name":"rest_request","source":"705ad26d8b9498e7.yaml","type":"application/yaml","size":161},{"uid":"44d1f11e05b4fa2b","name":"rest_response","source":"44d1f11e05b4fa2b.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678226978591,"stop":1678226978602,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"2bad69b47ccb854c","name":"stage_yaml","source":"2bad69b47ccb854c.yaml","type":"application/yaml","size":978},{"uid":"1518950516b9318d","name":"rest_request","source":"1518950516b9318d.yaml","type":"application/yaml","size":145},{"uid":"152fbc3815cf36bf","name":"rest_response","source":"152fbc3815cf36bf.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678226978603,"stop":1678226978615,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"4a22e15ef72c2727","name":"stage_yaml","source":"4a22e15ef72c2727.yaml","type":"application/yaml","size":763},{"uid":"15ab67c692b9c4d7","name":"rest_request","source":"15ab67c692b9c4d7.yaml","type":"application/yaml","size":211},{"uid":"66c404e3eea797af","name":"rest_response","source":"66c404e3eea797af.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678226978617,"stop":1678226978629,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"93f3ea9e413016d2","name":"stage_yaml","source":"93f3ea9e413016d2.yaml","type":"application/yaml","size":534},{"uid":"3e8351217a2eef67","name":"rest_request","source":"3e8351217a2eef67.yaml","type":"application/yaml","size":164},{"uid":"9490e9b9ccfb9341","name":"rest_response","source":"9490e9b9ccfb9341.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678226978630,"stop":1678226979650,"duration":1020},"status":"passed","steps":[],"attachments":[{"uid":"f46b260358661bd0","name":"stage_yaml","source":"f46b260358661bd0.yaml","type":"application/yaml","size":703},{"uid":"7528a7de746dbc50","name":"rest_request","source":"7528a7de746dbc50.yaml","type":"application/yaml","size":161},{"uid":"bd0d8a20c66fe919","name":"rest_response","source":"bd0d8a20c66fe919.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678226979651,"stop":1678226979667,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"885179341c58271a","name":"stage_yaml","source":"885179341c58271a.yaml","type":"application/yaml","size":2481},{"uid":"4cdf9ab180a8f43d","name":"rest_request","source":"4cdf9ab180a8f43d.yaml","type":"application/yaml","size":161},{"uid":"3237e4f16a7ccaf","name":"rest_response","source":"3237e4f16a7ccaf.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"d894fe176c95e9eb","name":"log","source":"d894fe176c95e9eb.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"22ad509d3223"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"700b782ee2cbd5e5","status":"passed","time":{"start":1678224964646,"stop":1678224997328,"duration":32682}},{"uid":"b7f56e7db2e1c0a8","status":"passed","time":{"start":1678221598062,"stop":1678221630761,"duration":32699}},{"uid":"7ec2fcfe2c6cd2fe","status":"passed","time":{"start":1678217907866,"stop":1678217940574,"duration":32708}},{"uid":"92a0341aa609975b","status":"passed","time":{"start":1676400721652,"stop":1676400739246,"duration":17594}},{"uid":"40b2ef1f6b425f11","status":"passed","time":{"start":1676325491337,"stop":1676325524186,"duration":32849}},{"uid":"811fca76fbd6ef66","status":"passed","time":{"start":1674515478327,"stop":1674515480517,"duration":2190}},{"uid":"581553a55830abee","status":"passed","time":{"start":1674505594923,"stop":1674505627619,"duration":32696}},{"uid":"b7652eeb396ac6df","status":"passed","time":{"start":1674500192649,"stop":1674500225333,"duration":32684}},{"uid":"be0332c5a369daf0","status":"passed","time":{"start":1674257688409,"stop":1674257721210,"duration":32801}},{"uid":"5caf77cfa70d0722","status":"passed","time":{"start":1674255184100,"stop":1674255186375,"duration":2275}},{"uid":"f65957d67d0c7638","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080261298,"stop":1674080261337,"duration":39}},{"uid":"1a5f1976e1434678","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977875,"stop":1674074977907,"duration":32}},{"uid":"ce8f9d7dcc0d543","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600333,"stop":1674074600359,"duration":26}}]},"tags":[]},"source":"5f9d831ecf2d3c88.json","parameterValues":[]}