{"uid":"4822893e0030e6d0","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1678226571758,"stop":1678226589181,"duration":17423},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678226571767,"stop":1678226571803,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"46e403f634c71258","name":"stage_yaml","source":"46e403f634c71258.yaml","type":"application/yaml","size":302},{"uid":"eb7b738a08b249aa","name":"rest_request","source":"eb7b738a08b249aa.yaml","type":"application/yaml","size":162},{"uid":"eddc9bedc3228a40","name":"rest_response","source":"eddc9bedc3228a40.yaml","type":"application/yaml","size":5774}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678226571804,"stop":1678226571817,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"c6d70f2fb10c2826","name":"stage_yaml","source":"c6d70f2fb10c2826.yaml","type":"application/yaml","size":775},{"uid":"c4fced830a4a5726","name":"rest_request","source":"c4fced830a4a5726.yaml","type":"application/yaml","size":211},{"uid":"3981b7b5cc37ef41","name":"rest_response","source":"3981b7b5cc37ef41.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678226571818,"stop":1678226572832,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"74ba155563ac821","name":"stage_yaml","source":"74ba155563ac821.yaml","type":"application/yaml","size":661},{"uid":"b39969fba0f35e70","name":"rest_request","source":"b39969fba0f35e70.yaml","type":"application/yaml","size":161},{"uid":"594171c82d64c45c","name":"rest_response","source":"594171c82d64c45c.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678226572834,"stop":1678226572850,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"c92e7c775f12b980","name":"stage_yaml","source":"c92e7c775f12b980.yaml","type":"application/yaml","size":2375},{"uid":"895f9e97ad4f68e7","name":"rest_request","source":"895f9e97ad4f68e7.yaml","type":"application/yaml","size":161},{"uid":"48fd99fbf4795dac","name":"rest_response","source":"48fd99fbf4795dac.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678226572851,"stop":1678226572863,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"5c838fc3febb9d60","name":"stage_yaml","source":"5c838fc3febb9d60.yaml","type":"application/yaml","size":976},{"uid":"7c1bdfa74dbe66","name":"rest_request","source":"7c1bdfa74dbe66.yaml","type":"application/yaml","size":145},{"uid":"db56cea70cda0916","name":"rest_response","source":"db56cea70cda0916.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1678226572864,"stop":1678226572875,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"d3d9019994fa3a93","name":"stage_yaml","source":"d3d9019994fa3a93.yaml","type":"application/yaml","size":795},{"uid":"54ccc635dee5cc4a","name":"rest_request","source":"54ccc635dee5cc4a.yaml","type":"application/yaml","size":216},{"uid":"e8a17ef6750e60da","name":"rest_response","source":"e8a17ef6750e60da.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678226572877,"stop":1678226589150,"duration":16273},"status":"passed","steps":[],"attachments":[{"uid":"5913731deec79f8a","name":"stage_yaml","source":"5913731deec79f8a.yaml","type":"application/yaml","size":684},{"uid":"61e497d3a2a25c4f","name":"rest_request","source":"61e497d3a2a25c4f.yaml","type":"application/yaml","size":161},{"uid":"9760d1d40e0fc777","name":"rest_response","source":"9760d1d40e0fc777.yaml","type":"application/yaml","size":572},{"uid":"5e2b35bac40aaa0f","name":"stage_yaml","source":"5e2b35bac40aaa0f.yaml","type":"application/yaml","size":684},{"uid":"56f59c5ebf3b8112","name":"rest_request","source":"56f59c5ebf3b8112.yaml","type":"application/yaml","size":161},{"uid":"1046be641828daf2","name":"rest_response","source":"1046be641828daf2.yaml","type":"application/yaml","size":608},{"uid":"744c253152e8bdbf","name":"stage_yaml","source":"744c253152e8bdbf.yaml","type":"application/yaml","size":684},{"uid":"cde02ccb60c835f9","name":"rest_request","source":"cde02ccb60c835f9.yaml","type":"application/yaml","size":161},{"uid":"1069ce61973057cf","name":"rest_response","source":"1069ce61973057cf.yaml","type":"application/yaml","size":608},{"uid":"778223c6b03ea8f0","name":"stage_yaml","source":"778223c6b03ea8f0.yaml","type":"application/yaml","size":684},{"uid":"ce18beb8a9814aee","name":"rest_request","source":"ce18beb8a9814aee.yaml","type":"application/yaml","size":161},{"uid":"753dc522ee272ec9","name":"rest_response","source":"753dc522ee272ec9.yaml","type":"application/yaml","size":608},{"uid":"ef291430fe7dfb1f","name":"stage_yaml","source":"ef291430fe7dfb1f.yaml","type":"application/yaml","size":684},{"uid":"6f660f34e5ddf52b","name":"rest_request","source":"6f660f34e5ddf52b.yaml","type":"application/yaml","size":161},{"uid":"dca467091e2c0e2","name":"rest_response","source":"dca467091e2c0e2.yaml","type":"application/yaml","size":608},{"uid":"9be2c3a7aa55f726","name":"stage_yaml","source":"9be2c3a7aa55f726.yaml","type":"application/yaml","size":684},{"uid":"ec0f116c685916ea","name":"rest_request","source":"ec0f116c685916ea.yaml","type":"application/yaml","size":161},{"uid":"8f3c4c672d81e4","name":"rest_response","source":"8f3c4c672d81e4.yaml","type":"application/yaml","size":608},{"uid":"e3a24ae2cebd090a","name":"stage_yaml","source":"e3a24ae2cebd090a.yaml","type":"application/yaml","size":684},{"uid":"dfdeb0a48932d5b2","name":"rest_request","source":"dfdeb0a48932d5b2.yaml","type":"application/yaml","size":161},{"uid":"aa2a2ade2cd46d4a","name":"rest_response","source":"aa2a2ade2cd46d4a.yaml","type":"application/yaml","size":608},{"uid":"9788cecf4d2801","name":"stage_yaml","source":"9788cecf4d2801.yaml","type":"application/yaml","size":684},{"uid":"9ec94153d93b32d","name":"rest_request","source":"9ec94153d93b32d.yaml","type":"application/yaml","size":161},{"uid":"73017c1f6f1a7dd","name":"rest_response","source":"73017c1f6f1a7dd.yaml","type":"application/yaml","size":608},{"uid":"4c1ba10f1e2412e9","name":"stage_yaml","source":"4c1ba10f1e2412e9.yaml","type":"application/yaml","size":684},{"uid":"350f583be3627995","name":"rest_request","source":"350f583be3627995.yaml","type":"application/yaml","size":161},{"uid":"dc73f3f1baac1ff3","name":"rest_response","source":"dc73f3f1baac1ff3.yaml","type":"application/yaml","size":608},{"uid":"a9feb60d224fe84c","name":"stage_yaml","source":"a9feb60d224fe84c.yaml","type":"application/yaml","size":684},{"uid":"95c05e68925f6fd4","name":"rest_request","source":"95c05e68925f6fd4.yaml","type":"application/yaml","size":161},{"uid":"ae41554a649a6e17","name":"rest_response","source":"ae41554a649a6e17.yaml","type":"application/yaml","size":608},{"uid":"b676ae4202c0ee20","name":"stage_yaml","source":"b676ae4202c0ee20.yaml","type":"application/yaml","size":684},{"uid":"121d06e12defb4f","name":"rest_request","source":"121d06e12defb4f.yaml","type":"application/yaml","size":161},{"uid":"18230fa3259cc7a","name":"rest_response","source":"18230fa3259cc7a.yaml","type":"application/yaml","size":608},{"uid":"5abf215c10031667","name":"stage_yaml","source":"5abf215c10031667.yaml","type":"application/yaml","size":684},{"uid":"e23aa387a3e26687","name":"rest_request","source":"e23aa387a3e26687.yaml","type":"application/yaml","size":161},{"uid":"88e4ce3a00fc70f","name":"rest_response","source":"88e4ce3a00fc70f.yaml","type":"application/yaml","size":608},{"uid":"36bfc1299c76684d","name":"stage_yaml","source":"36bfc1299c76684d.yaml","type":"application/yaml","size":684},{"uid":"254fc28defe63755","name":"rest_request","source":"254fc28defe63755.yaml","type":"application/yaml","size":161},{"uid":"3b1c475cc1dc72a3","name":"rest_response","source":"3b1c475cc1dc72a3.yaml","type":"application/yaml","size":608},{"uid":"346c9e4d26af9c57","name":"stage_yaml","source":"346c9e4d26af9c57.yaml","type":"application/yaml","size":684},{"uid":"ad6f1d7f010761a","name":"rest_request","source":"ad6f1d7f010761a.yaml","type":"application/yaml","size":161},{"uid":"b935d9968cc96690","name":"rest_response","source":"b935d9968cc96690.yaml","type":"application/yaml","size":608},{"uid":"dc66b4be87d5b450","name":"stage_yaml","source":"dc66b4be87d5b450.yaml","type":"application/yaml","size":684},{"uid":"2701dda7c1bebd98","name":"rest_request","source":"2701dda7c1bebd98.yaml","type":"application/yaml","size":161},{"uid":"36e6d2ce56b9b67d","name":"rest_response","source":"36e6d2ce56b9b67d.yaml","type":"application/yaml","size":608},{"uid":"59a50629190b33e7","name":"stage_yaml","source":"59a50629190b33e7.yaml","type":"application/yaml","size":684},{"uid":"479c4a5c846d258b","name":"rest_request","source":"479c4a5c846d258b.yaml","type":"application/yaml","size":161},{"uid":"d55a8d3425764dd7","name":"rest_response","source":"d55a8d3425764dd7.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678226589151,"stop":1678226589168,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"8c48f49378595306","name":"stage_yaml","source":"8c48f49378595306.yaml","type":"application/yaml","size":2336},{"uid":"e9b5876060d031f","name":"rest_request","source":"e9b5876060d031f.yaml","type":"application/yaml","size":161},{"uid":"e9c56ae1339abb86","name":"rest_response","source":"e9c56ae1339abb86.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1678226589169,"stop":1678226589180,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"15d4ff5cc6fe0a16","name":"stage_yaml","source":"15d4ff5cc6fe0a16.yaml","type":"application/yaml","size":978},{"uid":"636f816050749d67","name":"rest_request","source":"636f816050749d67.yaml","type":"application/yaml","size":145},{"uid":"7af12c5f3ba9c992","name":"rest_response","source":"7af12c5f3ba9c992.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"a82f395283624b0e","name":"log","source":"a82f395283624b0e.txt","type":"text/plain","size":57878}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"22ad509d3223"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":11,"unknown":0,"total":14},"items":[{"uid":"5f50ea99dc3fdd5d","status":"passed","time":{"start":1678224649636,"stop":1678224667046,"duration":17410}},{"uid":"f93343b331cfca3e","status":"passed","time":{"start":1678221238201,"stop":1678221271041,"duration":32840}},{"uid":"5c22dd95b116e8f9","status":"passed","time":{"start":1678217548056,"stop":1678217580883,"duration":32827}},{"uid":"1af85ca214995f20","status":"passed","time":{"start":1676400281810,"stop":1676400330113,"duration":48303}},{"uid":"9a589c4d7544e9b5","status":"passed","time":{"start":1676325084137,"stop":1676325132098,"duration":47961}},{"uid":"51ef7ae4fc3c53","status":"passed","time":{"start":1674515134334,"stop":1674515151841,"duration":17507}},{"uid":"a58062c594158194","status":"passed","time":{"start":1674505250368,"stop":1674505267805,"duration":17437}},{"uid":"75b97c78a335c2f8","status":"passed","time":{"start":1674499817706,"stop":1674499835151,"duration":17445}},{"uid":"29c73c748f71fdab","status":"passed","time":{"start":1674257343358,"stop":1674257360807,"duration":17449}},{"uid":"dc6123d42ff8c88b","status":"passed","time":{"start":1674254775951,"stop":1674254839467,"duration":63516}},{"uid":"14460516f21fd40b","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080252242,"stop":1674080253345,"duration":1103}},{"uid":"7d8d664370cbe07c","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977327,"stop":1674074977361,"duration":34}},{"uid":"396884d66981d972","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074599879,"stop":1674074599908,"duration":29}}]},"tags":[]},"source":"4822893e0030e6d0.json","parameterValues":[]}