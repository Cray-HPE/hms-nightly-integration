{"uid":"88b40d6716fda741","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1678221271048,"stop":1678221288468,"duration":17420},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678221271057,"stop":1678221271094,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"65f54a11e8a0b92d","name":"stage_yaml","source":"65f54a11e8a0b92d.yaml","type":"application/yaml","size":302},{"uid":"2b43f70017038952","name":"rest_request","source":"2b43f70017038952.yaml","type":"application/yaml","size":162},{"uid":"e468422f9bb54fa1","name":"rest_response","source":"e468422f9bb54fa1.yaml","type":"application/yaml","size":5745}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678221271095,"stop":1678221271108,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"268f13cb1ac84142","name":"stage_yaml","source":"268f13cb1ac84142.yaml","type":"application/yaml","size":797},{"uid":"7bb575711d17a520","name":"rest_request","source":"7bb575711d17a520.yaml","type":"application/yaml","size":216},{"uid":"28aefe18e591cb62","name":"rest_response","source":"28aefe18e591cb62.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1678221271110,"stop":1678221287376,"duration":16266},"status":"passed","steps":[],"attachments":[{"uid":"318cec34da102624","name":"stage_yaml","source":"318cec34da102624.yaml","type":"application/yaml","size":690},{"uid":"db1c7b08636ace90","name":"rest_request","source":"db1c7b08636ace90.yaml","type":"application/yaml","size":161},{"uid":"3dfea76e0bece903","name":"rest_response","source":"3dfea76e0bece903.yaml","type":"application/yaml","size":572},{"uid":"e4c57b44689efd72","name":"stage_yaml","source":"e4c57b44689efd72.yaml","type":"application/yaml","size":690},{"uid":"dabbee464dfd7646","name":"rest_request","source":"dabbee464dfd7646.yaml","type":"application/yaml","size":161},{"uid":"983e6d9a35714864","name":"rest_response","source":"983e6d9a35714864.yaml","type":"application/yaml","size":608},{"uid":"8d42ac3f69bd6f08","name":"stage_yaml","source":"8d42ac3f69bd6f08.yaml","type":"application/yaml","size":690},{"uid":"88852660509504fa","name":"rest_request","source":"88852660509504fa.yaml","type":"application/yaml","size":161},{"uid":"5d95e133a9861df1","name":"rest_response","source":"5d95e133a9861df1.yaml","type":"application/yaml","size":608},{"uid":"e00c89dc6870bc0f","name":"stage_yaml","source":"e00c89dc6870bc0f.yaml","type":"application/yaml","size":690},{"uid":"370aa686171f5b1e","name":"rest_request","source":"370aa686171f5b1e.yaml","type":"application/yaml","size":161},{"uid":"180cf9c24e3007a0","name":"rest_response","source":"180cf9c24e3007a0.yaml","type":"application/yaml","size":608},{"uid":"5c38c86f7ff7d26b","name":"stage_yaml","source":"5c38c86f7ff7d26b.yaml","type":"application/yaml","size":690},{"uid":"38b74883cf87a4e0","name":"rest_request","source":"38b74883cf87a4e0.yaml","type":"application/yaml","size":161},{"uid":"441d370c47dc828","name":"rest_response","source":"441d370c47dc828.yaml","type":"application/yaml","size":608},{"uid":"72050dbd96cb524e","name":"stage_yaml","source":"72050dbd96cb524e.yaml","type":"application/yaml","size":690},{"uid":"6a8aa955981998f4","name":"rest_request","source":"6a8aa955981998f4.yaml","type":"application/yaml","size":161},{"uid":"bac4672271dff470","name":"rest_response","source":"bac4672271dff470.yaml","type":"application/yaml","size":608},{"uid":"10f2c6f1039dc6f7","name":"stage_yaml","source":"10f2c6f1039dc6f7.yaml","type":"application/yaml","size":690},{"uid":"6ccb7c3c0ab95919","name":"rest_request","source":"6ccb7c3c0ab95919.yaml","type":"application/yaml","size":161},{"uid":"e9bf58766e7198e3","name":"rest_response","source":"e9bf58766e7198e3.yaml","type":"application/yaml","size":608},{"uid":"d424c249cc4a660","name":"stage_yaml","source":"d424c249cc4a660.yaml","type":"application/yaml","size":690},{"uid":"3f51563da95abd15","name":"rest_request","source":"3f51563da95abd15.yaml","type":"application/yaml","size":161},{"uid":"e0b706f5b47865c6","name":"rest_response","source":"e0b706f5b47865c6.yaml","type":"application/yaml","size":608},{"uid":"10995a047b56cd7f","name":"stage_yaml","source":"10995a047b56cd7f.yaml","type":"application/yaml","size":690},{"uid":"1b9d3e78b6b90381","name":"rest_request","source":"1b9d3e78b6b90381.yaml","type":"application/yaml","size":161},{"uid":"44e5cd48aeb51e10","name":"rest_response","source":"44e5cd48aeb51e10.yaml","type":"application/yaml","size":608},{"uid":"c6427462d54e7fbb","name":"stage_yaml","source":"c6427462d54e7fbb.yaml","type":"application/yaml","size":690},{"uid":"8b49134465671cd0","name":"rest_request","source":"8b49134465671cd0.yaml","type":"application/yaml","size":161},{"uid":"7b8442598385e58","name":"rest_response","source":"7b8442598385e58.yaml","type":"application/yaml","size":608},{"uid":"e7c318d7c46f5a14","name":"stage_yaml","source":"e7c318d7c46f5a14.yaml","type":"application/yaml","size":690},{"uid":"46796813e2afcf3","name":"rest_request","source":"46796813e2afcf3.yaml","type":"application/yaml","size":161},{"uid":"29c69a09be385812","name":"rest_response","source":"29c69a09be385812.yaml","type":"application/yaml","size":608},{"uid":"6ea0a3ac699f6404","name":"stage_yaml","source":"6ea0a3ac699f6404.yaml","type":"application/yaml","size":690},{"uid":"a7874933f65b678c","name":"rest_request","source":"a7874933f65b678c.yaml","type":"application/yaml","size":161},{"uid":"ad7bae4eb746cc43","name":"rest_response","source":"ad7bae4eb746cc43.yaml","type":"application/yaml","size":608},{"uid":"9ef0ee8bf9c90e61","name":"stage_yaml","source":"9ef0ee8bf9c90e61.yaml","type":"application/yaml","size":690},{"uid":"f181e727e1f85410","name":"rest_request","source":"f181e727e1f85410.yaml","type":"application/yaml","size":161},{"uid":"97a71235627c781d","name":"rest_response","source":"97a71235627c781d.yaml","type":"application/yaml","size":608},{"uid":"634c5cc1d230eb74","name":"stage_yaml","source":"634c5cc1d230eb74.yaml","type":"application/yaml","size":690},{"uid":"d42b6bebd0e4d4d8","name":"rest_request","source":"d42b6bebd0e4d4d8.yaml","type":"application/yaml","size":161},{"uid":"bb22f78101949627","name":"rest_response","source":"bb22f78101949627.yaml","type":"application/yaml","size":608},{"uid":"f65e122b4e68d7fd","name":"stage_yaml","source":"f65e122b4e68d7fd.yaml","type":"application/yaml","size":690},{"uid":"28cf987e6cd32270","name":"rest_request","source":"28cf987e6cd32270.yaml","type":"application/yaml","size":161},{"uid":"fd80d7954b39166c","name":"rest_response","source":"fd80d7954b39166c.yaml","type":"application/yaml","size":608},{"uid":"b643602b3f0ef657","name":"stage_yaml","source":"b643602b3f0ef657.yaml","type":"application/yaml","size":690},{"uid":"718608fe44f94fe","name":"rest_request","source":"718608fe44f94fe.yaml","type":"application/yaml","size":161},{"uid":"4a5fc601fa3d8c","name":"rest_response","source":"4a5fc601fa3d8c.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1678221287377,"stop":1678221287394,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"2f68615da767fb73","name":"stage_yaml","source":"2f68615da767fb73.yaml","type":"application/yaml","size":2405},{"uid":"994c289e0c9fdebc","name":"rest_request","source":"994c289e0c9fdebc.yaml","type":"application/yaml","size":161},{"uid":"1c7caf28484d625e","name":"rest_response","source":"1c7caf28484d625e.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678221287395,"stop":1678221287407,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"12500deaa2c52ef","name":"stage_yaml","source":"12500deaa2c52ef.yaml","type":"application/yaml","size":978},{"uid":"81c56b92f3c7030f","name":"rest_request","source":"81c56b92f3c7030f.yaml","type":"application/yaml","size":145},{"uid":"f8f493478b473fe6","name":"rest_response","source":"f8f493478b473fe6.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1678221287408,"stop":1678221287420,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"99bf5122cf061c07","name":"stage_yaml","source":"99bf5122cf061c07.yaml","type":"application/yaml","size":796},{"uid":"5cc8d92fb69389b6","name":"rest_request","source":"5cc8d92fb69389b6.yaml","type":"application/yaml","size":216},{"uid":"13fca13a7294eda6","name":"rest_response","source":"13fca13a7294eda6.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1678221287423,"stop":1678221288437,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"2696714e6b2dd6b9","name":"stage_yaml","source":"2696714e6b2dd6b9.yaml","type":"application/yaml","size":691},{"uid":"cc6a4bea8267d511","name":"rest_request","source":"cc6a4bea8267d511.yaml","type":"application/yaml","size":161},{"uid":"e3a2c1890b843137","name":"rest_response","source":"e3a2c1890b843137.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1678221288439,"stop":1678221288455,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"8e6e2d6357767806","name":"stage_yaml","source":"8e6e2d6357767806.yaml","type":"application/yaml","size":2355},{"uid":"bdf8c9b99522de43","name":"rest_request","source":"bdf8c9b99522de43.yaml","type":"application/yaml","size":161},{"uid":"f155f977c696a63d","name":"rest_response","source":"f155f977c696a63d.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1678221288456,"stop":1678221288468,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"43a5320e0bec8eb3","name":"stage_yaml","source":"43a5320e0bec8eb3.yaml","type":"application/yaml","size":984},{"uid":"1b4461f323be7d9","name":"rest_request","source":"1b4461f323be7d9.yaml","type":"application/yaml","size":145},{"uid":"635f9e187b6e746c","name":"rest_response","source":"635f9e187b6e746c.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"9fd43a1b496890be","name":"log","source":"9fd43a1b496890be.txt","type":"text/plain","size":57878}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"2676eb90a0c9"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":12},"items":[{"uid":"b681e513815f6d76","status":"passed","time":{"start":1678217580891,"stop":1678217613553,"duration":32662}},{"uid":"85ff74b7141d7ee6","status":"passed","time":{"start":1676400330124,"stop":1676400363168,"duration":33044}},{"uid":"3d623b6a5a01f2a6","status":"passed","time":{"start":1676325132108,"stop":1676325134293,"duration":2185}},{"uid":"5ec7da1a1d91c8a","status":"passed","time":{"start":1674515151846,"stop":1674515154002,"duration":2156}},{"uid":"c623d51c04162ad6","status":"passed","time":{"start":1674505267810,"stop":1674505269983,"duration":2173}},{"uid":"f93de3fc506b7f33","status":"passed","time":{"start":1674499835157,"stop":1674499837329,"duration":2172}},{"uid":"66978a349132f841","status":"passed","time":{"start":1674257360812,"stop":1674257362991,"duration":2179}},{"uid":"b21104f385af5ade","status":"passed","time":{"start":1674254839479,"stop":1674254841702,"duration":2223}},{"uid":"3e6dd229d002194a","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080253450,"stop":1674080253489,"duration":39}},{"uid":"f991ded276090da8","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977376,"stop":1674074977408,"duration":32}},{"uid":"618a50f6fccb3535","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074599920,"stop":1674074599946,"duration":26}}]},"tags":[]},"source":"88b40d6716fda741.json","parameterValues":[]}