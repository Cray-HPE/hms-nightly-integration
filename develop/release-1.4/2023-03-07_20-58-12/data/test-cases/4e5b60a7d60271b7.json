{"uid":"4e5b60a7d60271b7","name":"Verify transitions powers off multiple compute nodes that are powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off multiple compute nodes that are powered on","historyId":"7a6914758791ce440c4068335f2673d5","time":{"start":1678221288473,"stop":1678221321258,"duration":32785},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve two compute nodes from HSM to be used in later stages","time":{"start":1678221288482,"stop":1678221288521,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"61d185def42029b6","name":"stage_yaml","source":"61d185def42029b6.yaml","type":"application/yaml","size":346},{"uid":"fb571a1a3f1f550","name":"rest_request","source":"fb571a1a3f1f550.yaml","type":"application/yaml","size":162},{"uid":"87a451a975bfdad1","name":"rest_response","source":"87a451a975bfdad1.yaml","type":"application/yaml","size":5746}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target nodes on to prepare them for the test case","time":{"start":1678221288522,"stop":1678221288536,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"9060acb819404d79","name":"stage_yaml","source":"9060acb819404d79.yaml","type":"application/yaml","size":807},{"uid":"8fe10dce1ce2468c","name":"rest_request","source":"8fe10dce1ce2468c.yaml","type":"application/yaml","size":236},{"uid":"e0c1f58fa11fcbf1","name":"rest_response","source":"e0c1f58fa11fcbf1.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678221288538,"stop":1678221289554,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"648f85cf7b8f3aa1","name":"stage_yaml","source":"648f85cf7b8f3aa1.yaml","type":"application/yaml","size":661},{"uid":"1c12da9e59129ff2","name":"rest_request","source":"1c12da9e59129ff2.yaml","type":"application/yaml","size":161},{"uid":"83f791692799655f","name":"rest_response","source":"83f791692799655f.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678221289556,"stop":1678221289571,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"404348adffb4c0b6","name":"stage_yaml","source":"404348adffb4c0b6.yaml","type":"application/yaml","size":2420},{"uid":"ed3434c846bf8389","name":"rest_request","source":"ed3434c846bf8389.yaml","type":"application/yaml","size":161},{"uid":"ce99d7bcd7606c0","name":"rest_response","source":"ce99d7bcd7606c0.yaml","type":"application/yaml","size":704}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target nodes are powered on using power-status","time":{"start":1678221289572,"stop":1678221289585,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"6965449efc0dd43d","name":"stage_yaml","source":"6965449efc0dd43d.yaml","type":"application/yaml","size":1046},{"uid":"db0533b250208c68","name":"rest_request","source":"db0533b250208c68.yaml","type":"application/yaml","size":165},{"uid":"ff2305b36f051ab6","name":"rest_response","source":"ff2305b36f051ab6.yaml","type":"application/yaml","size":713}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target nodes off with a force-off transition","time":{"start":1678221289586,"stop":1678221289598,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"de3082243a99c74a","name":"stage_yaml","source":"de3082243a99c74a.yaml","type":"application/yaml","size":825},{"uid":"f4960b81445ed84b","name":"rest_request","source":"f4960b81445ed84b.yaml","type":"application/yaml","size":241},{"uid":"48ab72a828fd8dfe","name":"rest_response","source":"48ab72a828fd8dfe.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678221289600,"stop":1678221321224,"duration":31624},"status":"passed","steps":[],"attachments":[{"uid":"895fcb25e85ecec5","name":"stage_yaml","source":"895fcb25e85ecec5.yaml","type":"application/yaml","size":684},{"uid":"fa3635fd87298823","name":"rest_request","source":"fa3635fd87298823.yaml","type":"application/yaml","size":161},{"uid":"b334d542da5eb6c6","name":"rest_response","source":"b334d542da5eb6c6.yaml","type":"application/yaml","size":659},{"uid":"632b1d42ba035292","name":"stage_yaml","source":"632b1d42ba035292.yaml","type":"application/yaml","size":684},{"uid":"8fdcbf2a0f18d2a9","name":"rest_request","source":"8fdcbf2a0f18d2a9.yaml","type":"application/yaml","size":161},{"uid":"5a7262819fa22797","name":"rest_response","source":"5a7262819fa22797.yaml","type":"application/yaml","size":731},{"uid":"1192e49611ebbaf5","name":"stage_yaml","source":"1192e49611ebbaf5.yaml","type":"application/yaml","size":684},{"uid":"ee37c8b7a24a8299","name":"rest_request","source":"ee37c8b7a24a8299.yaml","type":"application/yaml","size":161},{"uid":"b48f723aeb917ead","name":"rest_response","source":"b48f723aeb917ead.yaml","type":"application/yaml","size":731},{"uid":"645c17dfe1fab6a3","name":"stage_yaml","source":"645c17dfe1fab6a3.yaml","type":"application/yaml","size":684},{"uid":"2f62ee1aa94fdf04","name":"rest_request","source":"2f62ee1aa94fdf04.yaml","type":"application/yaml","size":161},{"uid":"3751ac1044021d62","name":"rest_response","source":"3751ac1044021d62.yaml","type":"application/yaml","size":731},{"uid":"e776413da8222178","name":"stage_yaml","source":"e776413da8222178.yaml","type":"application/yaml","size":684},{"uid":"1b06af24fa9c8dcd","name":"rest_request","source":"1b06af24fa9c8dcd.yaml","type":"application/yaml","size":161},{"uid":"d77218274d53b8e","name":"rest_response","source":"d77218274d53b8e.yaml","type":"application/yaml","size":731},{"uid":"ebb539de833847a3","name":"stage_yaml","source":"ebb539de833847a3.yaml","type":"application/yaml","size":684},{"uid":"326458736aa4cc5f","name":"rest_request","source":"326458736aa4cc5f.yaml","type":"application/yaml","size":161},{"uid":"d21d79cb9c6167b6","name":"rest_response","source":"d21d79cb9c6167b6.yaml","type":"application/yaml","size":731},{"uid":"4b49eec63033dbc3","name":"stage_yaml","source":"4b49eec63033dbc3.yaml","type":"application/yaml","size":684},{"uid":"1ce16dd2a67b17a7","name":"rest_request","source":"1ce16dd2a67b17a7.yaml","type":"application/yaml","size":161},{"uid":"256252de8230e4e1","name":"rest_response","source":"256252de8230e4e1.yaml","type":"application/yaml","size":731},{"uid":"e6994ba6f95d0419","name":"stage_yaml","source":"e6994ba6f95d0419.yaml","type":"application/yaml","size":684},{"uid":"c173768d6cda5c84","name":"rest_request","source":"c173768d6cda5c84.yaml","type":"application/yaml","size":161},{"uid":"abf29022fe0a8ac","name":"rest_response","source":"abf29022fe0a8ac.yaml","type":"application/yaml","size":731},{"uid":"b28e543817d35167","name":"stage_yaml","source":"b28e543817d35167.yaml","type":"application/yaml","size":684},{"uid":"a2e66e15f69f831a","name":"rest_request","source":"a2e66e15f69f831a.yaml","type":"application/yaml","size":161},{"uid":"b381054ea5acaf7d","name":"rest_response","source":"b381054ea5acaf7d.yaml","type":"application/yaml","size":731},{"uid":"43a61398374ac9a1","name":"stage_yaml","source":"43a61398374ac9a1.yaml","type":"application/yaml","size":684},{"uid":"e71ad7416ca07c0d","name":"rest_request","source":"e71ad7416ca07c0d.yaml","type":"application/yaml","size":161},{"uid":"c1604be854ffffb7","name":"rest_response","source":"c1604be854ffffb7.yaml","type":"application/yaml","size":731},{"uid":"8bfad0cfd5567fe0","name":"stage_yaml","source":"8bfad0cfd5567fe0.yaml","type":"application/yaml","size":684},{"uid":"5435b305dd63a72d","name":"rest_request","source":"5435b305dd63a72d.yaml","type":"application/yaml","size":161},{"uid":"4a2f33fcebf55301","name":"rest_response","source":"4a2f33fcebf55301.yaml","type":"application/yaml","size":731},{"uid":"f76071a0f0a4870","name":"stage_yaml","source":"f76071a0f0a4870.yaml","type":"application/yaml","size":684},{"uid":"e4a9460cf50cdcab","name":"rest_request","source":"e4a9460cf50cdcab.yaml","type":"application/yaml","size":161},{"uid":"86d72d24dc2ab6db","name":"rest_response","source":"86d72d24dc2ab6db.yaml","type":"application/yaml","size":731},{"uid":"717fe58f6b6b9868","name":"stage_yaml","source":"717fe58f6b6b9868.yaml","type":"application/yaml","size":684},{"uid":"fda59724f02c5243","name":"rest_request","source":"fda59724f02c5243.yaml","type":"application/yaml","size":161},{"uid":"1ae746f9edd91f65","name":"rest_response","source":"1ae746f9edd91f65.yaml","type":"application/yaml","size":731},{"uid":"e57d9b7c9cf2f7a5","name":"stage_yaml","source":"e57d9b7c9cf2f7a5.yaml","type":"application/yaml","size":684},{"uid":"46ed171c84091a7e","name":"rest_request","source":"46ed171c84091a7e.yaml","type":"application/yaml","size":161},{"uid":"96590619a20afece","name":"rest_response","source":"96590619a20afece.yaml","type":"application/yaml","size":731},{"uid":"5705ee06e7220e4e","name":"stage_yaml","source":"5705ee06e7220e4e.yaml","type":"application/yaml","size":684},{"uid":"f3ce09375c6cf983","name":"rest_request","source":"f3ce09375c6cf983.yaml","type":"application/yaml","size":161},{"uid":"5bb1c8d40a96c629","name":"rest_response","source":"5bb1c8d40a96c629.yaml","type":"application/yaml","size":731},{"uid":"dbdb1bbd8e3fceb4","name":"stage_yaml","source":"dbdb1bbd8e3fceb4.yaml","type":"application/yaml","size":684},{"uid":"17087555abb8cf4f","name":"rest_request","source":"17087555abb8cf4f.yaml","type":"application/yaml","size":161},{"uid":"e1f67f0981e3338b","name":"rest_response","source":"e1f67f0981e3338b.yaml","type":"application/yaml","size":731},{"uid":"6c3e697903d82b68","name":"stage_yaml","source":"6c3e697903d82b68.yaml","type":"application/yaml","size":684},{"uid":"66306d556a16059a","name":"rest_request","source":"66306d556a16059a.yaml","type":"application/yaml","size":161},{"uid":"b6cea332d7a71566","name":"rest_response","source":"b6cea332d7a71566.yaml","type":"application/yaml","size":731},{"uid":"c710a79cbe67307e","name":"stage_yaml","source":"c710a79cbe67307e.yaml","type":"application/yaml","size":684},{"uid":"163d95bea5c634bd","name":"rest_request","source":"163d95bea5c634bd.yaml","type":"application/yaml","size":161},{"uid":"38bc528b207c3c81","name":"rest_response","source":"38bc528b207c3c81.yaml","type":"application/yaml","size":731},{"uid":"d64a150815009293","name":"stage_yaml","source":"d64a150815009293.yaml","type":"application/yaml","size":684},{"uid":"19e681f2e8a21d62","name":"rest_request","source":"19e681f2e8a21d62.yaml","type":"application/yaml","size":161},{"uid":"a7fdec198e453b59","name":"rest_response","source":"a7fdec198e453b59.yaml","type":"application/yaml","size":731},{"uid":"7146100a49155880","name":"stage_yaml","source":"7146100a49155880.yaml","type":"application/yaml","size":684},{"uid":"6a146421492da2b0","name":"rest_request","source":"6a146421492da2b0.yaml","type":"application/yaml","size":161},{"uid":"81f105175a095442","name":"rest_response","source":"81f105175a095442.yaml","type":"application/yaml","size":731},{"uid":"31b3cbaf94deb5cc","name":"stage_yaml","source":"31b3cbaf94deb5cc.yaml","type":"application/yaml","size":684},{"uid":"875948cc4033e83d","name":"rest_request","source":"875948cc4033e83d.yaml","type":"application/yaml","size":161},{"uid":"dd83c5ce61b223ea","name":"rest_response","source":"dd83c5ce61b223ea.yaml","type":"application/yaml","size":731},{"uid":"c7289ed021bc35f6","name":"stage_yaml","source":"c7289ed021bc35f6.yaml","type":"application/yaml","size":684},{"uid":"d798a5b4d3210865","name":"rest_request","source":"d798a5b4d3210865.yaml","type":"application/yaml","size":161},{"uid":"5544e559b4af7395","name":"rest_response","source":"5544e559b4af7395.yaml","type":"application/yaml","size":731},{"uid":"a393894523b5d0f9","name":"stage_yaml","source":"a393894523b5d0f9.yaml","type":"application/yaml","size":684},{"uid":"a719e0b0a49cdf76","name":"rest_request","source":"a719e0b0a49cdf76.yaml","type":"application/yaml","size":161},{"uid":"670bb70d5829c30a","name":"rest_response","source":"670bb70d5829c30a.yaml","type":"application/yaml","size":731},{"uid":"ea76419beff98ee9","name":"stage_yaml","source":"ea76419beff98ee9.yaml","type":"application/yaml","size":684},{"uid":"1e2ce84713da7026","name":"rest_request","source":"1e2ce84713da7026.yaml","type":"application/yaml","size":161},{"uid":"cb7d421c958f3f20","name":"rest_response","source":"cb7d421c958f3f20.yaml","type":"application/yaml","size":731},{"uid":"5cc153127b21522b","name":"stage_yaml","source":"5cc153127b21522b.yaml","type":"application/yaml","size":684},{"uid":"fd5c6eeb295258fd","name":"rest_request","source":"fd5c6eeb295258fd.yaml","type":"application/yaml","size":161},{"uid":"402f7efe38328bc4","name":"rest_response","source":"402f7efe38328bc4.yaml","type":"application/yaml","size":731},{"uid":"f0a33c8a4c814237","name":"stage_yaml","source":"f0a33c8a4c814237.yaml","type":"application/yaml","size":684},{"uid":"d030c709fcb6d1d0","name":"rest_request","source":"d030c709fcb6d1d0.yaml","type":"application/yaml","size":161},{"uid":"caaa3c8cde1e9905","name":"rest_response","source":"caaa3c8cde1e9905.yaml","type":"application/yaml","size":731},{"uid":"fb7a991ab63a46e9","name":"stage_yaml","source":"fb7a991ab63a46e9.yaml","type":"application/yaml","size":684},{"uid":"bbc1989c26078425","name":"rest_request","source":"bbc1989c26078425.yaml","type":"application/yaml","size":161},{"uid":"1f09bc0690089673","name":"rest_response","source":"1f09bc0690089673.yaml","type":"application/yaml","size":731},{"uid":"be7692170c3e44da","name":"stage_yaml","source":"be7692170c3e44da.yaml","type":"application/yaml","size":684},{"uid":"d8ef6c712ffeae61","name":"rest_request","source":"d8ef6c712ffeae61.yaml","type":"application/yaml","size":161},{"uid":"81bde935a73eec42","name":"rest_response","source":"81bde935a73eec42.yaml","type":"application/yaml","size":731},{"uid":"3dc89a3d9813af87","name":"stage_yaml","source":"3dc89a3d9813af87.yaml","type":"application/yaml","size":684},{"uid":"736bb3c1cba5718b","name":"rest_request","source":"736bb3c1cba5718b.yaml","type":"application/yaml","size":161},{"uid":"6ed9e07cbbb1af05","name":"rest_response","source":"6ed9e07cbbb1af05.yaml","type":"application/yaml","size":731},{"uid":"8326c12a3ca5dd4b","name":"stage_yaml","source":"8326c12a3ca5dd4b.yaml","type":"application/yaml","size":684},{"uid":"ff9814c724d52adc","name":"rest_request","source":"ff9814c724d52adc.yaml","type":"application/yaml","size":161},{"uid":"45f6cfbf2bf3b86f","name":"rest_response","source":"45f6cfbf2bf3b86f.yaml","type":"application/yaml","size":731},{"uid":"953f86e99786e92","name":"stage_yaml","source":"953f86e99786e92.yaml","type":"application/yaml","size":684},{"uid":"29c6b82beb492b12","name":"rest_request","source":"29c6b82beb492b12.yaml","type":"application/yaml","size":161},{"uid":"9d8e3d3bc0c264d","name":"rest_response","source":"9d8e3d3bc0c264d.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678221321225,"stop":1678221321242,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"ed30e00e4dfed2d1","name":"stage_yaml","source":"ed30e00e4dfed2d1.yaml","type":"application/yaml","size":2381},{"uid":"4e59a6065d0b109d","name":"rest_request","source":"4e59a6065d0b109d.yaml","type":"application/yaml","size":161},{"uid":"b62f968080473f0e","name":"rest_response","source":"b62f968080473f0e.yaml","type":"application/yaml","size":701}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target nodes are powered off using power-status","time":{"start":1678221321243,"stop":1678221321257,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"baa745caca0dacc0","name":"stage_yaml","source":"baa745caca0dacc0.yaml","type":"application/yaml","size":1048},{"uid":"67e4486221a58065","name":"rest_request","source":"67e4486221a58065.yaml","type":"application/yaml","size":165},{"uid":"f130ff679c8eb82c","name":"rest_response","source":"f130ff679c8eb82c.yaml","type":"application/yaml","size":715}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"6018cce71827260","name":"log","source":"6018cce71827260.txt","type":"text/plain","size":119597}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"2676eb90a0c9"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":12},"items":[{"uid":"46366ae53824f392","status":"passed","time":{"start":1678217613561,"stop":1678217631133,"duration":17572}},{"uid":"b763e87bd9424842","status":"passed","time":{"start":1676400363177,"stop":1676400426892,"duration":63715}},{"uid":"fc8737e33e31c9a0","status":"passed","time":{"start":1676325134297,"stop":1676325197613,"duration":63316}},{"uid":"5eb14fdef486a450","status":"passed","time":{"start":1674515154005,"stop":1674515201884,"duration":47879}},{"uid":"ddfc583aa45ace9f","status":"passed","time":{"start":1674505269987,"stop":1674505317981,"duration":47994}},{"uid":"6e9381ad50e2dfdc","status":"passed","time":{"start":1674499837332,"stop":1674499885324,"duration":47992}},{"uid":"2073083b28028c73","status":"passed","time":{"start":1674257362994,"stop":1674257411014,"duration":48020}},{"uid":"6c3c659265719ba7","status":"passed","time":{"start":1674254841706,"stop":1674254905318,"duration":63612}},{"uid":"6ad8f123e8b4e9d7","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target nodes off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080253580,"stop":1674080254683,"duration":1103}},{"uid":"c9cf6fd0bbd2d4a6","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977424,"stop":1674074977456,"duration":32}},{"uid":"d21bc3a4b2160fd2","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074599958,"stop":1674074599989,"duration":31}}]},"tags":[]},"source":"4e5b60a7d60271b7.json","parameterValues":[]}