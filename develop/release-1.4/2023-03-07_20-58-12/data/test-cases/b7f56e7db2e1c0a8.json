{"uid":"b7f56e7db2e1c0a8","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678221598062,"stop":1678221630761,"duration":32699},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678221598071,"stop":1678221598114,"duration":43},"status":"passed","steps":[],"attachments":[{"uid":"8519ac4edba3d00c","name":"stage_yaml","source":"8519ac4edba3d00c.yaml","type":"application/yaml","size":302},{"uid":"e0c8b5e5438bb51c","name":"rest_request","source":"e0c8b5e5438bb51c.yaml","type":"application/yaml","size":162},{"uid":"9512223040349e25","name":"rest_response","source":"9512223040349e25.yaml","type":"application/yaml","size":5748}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678221598115,"stop":1678221598131,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7156fb0a49147b33","name":"stage_yaml","source":"7156fb0a49147b33.yaml","type":"application/yaml","size":797},{"uid":"f632ed8fad6e3f72","name":"rest_request","source":"f632ed8fad6e3f72.yaml","type":"application/yaml","size":216},{"uid":"f66f7de224895c10","name":"rest_response","source":"f66f7de224895c10.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678221598134,"stop":1678221629655,"duration":31521},"status":"passed","steps":[],"attachments":[{"uid":"e546126bd5d8fd18","name":"stage_yaml","source":"e546126bd5d8fd18.yaml","type":"application/yaml","size":682},{"uid":"d1cd91524ea072d1","name":"rest_request","source":"d1cd91524ea072d1.yaml","type":"application/yaml","size":161},{"uid":"ec808a9a4038d70","name":"rest_response","source":"ec808a9a4038d70.yaml","type":"application/yaml","size":587},{"uid":"22c55f890385e927","name":"stage_yaml","source":"22c55f890385e927.yaml","type":"application/yaml","size":682},{"uid":"3ebcf58733752fc2","name":"rest_request","source":"3ebcf58733752fc2.yaml","type":"application/yaml","size":161},{"uid":"6255363187a32d93","name":"rest_response","source":"6255363187a32d93.yaml","type":"application/yaml","size":608},{"uid":"7628a9e1233bbf05","name":"stage_yaml","source":"7628a9e1233bbf05.yaml","type":"application/yaml","size":682},{"uid":"d13a6f2bc0fbaf5f","name":"rest_request","source":"d13a6f2bc0fbaf5f.yaml","type":"application/yaml","size":161},{"uid":"e4277602b1de1ae7","name":"rest_response","source":"e4277602b1de1ae7.yaml","type":"application/yaml","size":608},{"uid":"ac1bc8afb5b4a712","name":"stage_yaml","source":"ac1bc8afb5b4a712.yaml","type":"application/yaml","size":682},{"uid":"1bdee7408463eb59","name":"rest_request","source":"1bdee7408463eb59.yaml","type":"application/yaml","size":161},{"uid":"85110089b7f87610","name":"rest_response","source":"85110089b7f87610.yaml","type":"application/yaml","size":608},{"uid":"542acc9871397b10","name":"stage_yaml","source":"542acc9871397b10.yaml","type":"application/yaml","size":682},{"uid":"658cf5ce03eee3d7","name":"rest_request","source":"658cf5ce03eee3d7.yaml","type":"application/yaml","size":161},{"uid":"11f25416e2dd1c62","name":"rest_response","source":"11f25416e2dd1c62.yaml","type":"application/yaml","size":608},{"uid":"3a97b6eb360f2227","name":"stage_yaml","source":"3a97b6eb360f2227.yaml","type":"application/yaml","size":682},{"uid":"7c3aeb51839fd56","name":"rest_request","source":"7c3aeb51839fd56.yaml","type":"application/yaml","size":161},{"uid":"5910c4f9665a0640","name":"rest_response","source":"5910c4f9665a0640.yaml","type":"application/yaml","size":608},{"uid":"f64b8c5d6adb7a52","name":"stage_yaml","source":"f64b8c5d6adb7a52.yaml","type":"application/yaml","size":682},{"uid":"3f154e9ea8d110f6","name":"rest_request","source":"3f154e9ea8d110f6.yaml","type":"application/yaml","size":161},{"uid":"ca2762ee2cfa5cbe","name":"rest_response","source":"ca2762ee2cfa5cbe.yaml","type":"application/yaml","size":608},{"uid":"2a6df83e88ae4e6d","name":"stage_yaml","source":"2a6df83e88ae4e6d.yaml","type":"application/yaml","size":682},{"uid":"155fab5e6705ab26","name":"rest_request","source":"155fab5e6705ab26.yaml","type":"application/yaml","size":161},{"uid":"40b3d2026aed2ca4","name":"rest_response","source":"40b3d2026aed2ca4.yaml","type":"application/yaml","size":608},{"uid":"b4199eea733344b3","name":"stage_yaml","source":"b4199eea733344b3.yaml","type":"application/yaml","size":682},{"uid":"4486144576c73e48","name":"rest_request","source":"4486144576c73e48.yaml","type":"application/yaml","size":161},{"uid":"73477684c7fce846","name":"rest_response","source":"73477684c7fce846.yaml","type":"application/yaml","size":608},{"uid":"ea43b3d6b99c515f","name":"stage_yaml","source":"ea43b3d6b99c515f.yaml","type":"application/yaml","size":682},{"uid":"7c4bb2ddace349d9","name":"rest_request","source":"7c4bb2ddace349d9.yaml","type":"application/yaml","size":161},{"uid":"ca6dcd7dda889550","name":"rest_response","source":"ca6dcd7dda889550.yaml","type":"application/yaml","size":608},{"uid":"1f5202b5300cd130","name":"stage_yaml","source":"1f5202b5300cd130.yaml","type":"application/yaml","size":682},{"uid":"549c25e7d7483e7c","name":"rest_request","source":"549c25e7d7483e7c.yaml","type":"application/yaml","size":161},{"uid":"5aa29fe4de581e9b","name":"rest_response","source":"5aa29fe4de581e9b.yaml","type":"application/yaml","size":608},{"uid":"8e96f5f554d7fa4","name":"stage_yaml","source":"8e96f5f554d7fa4.yaml","type":"application/yaml","size":682},{"uid":"a5c9cf6ea16446f0","name":"rest_request","source":"a5c9cf6ea16446f0.yaml","type":"application/yaml","size":161},{"uid":"f0ed789cd6949c46","name":"rest_response","source":"f0ed789cd6949c46.yaml","type":"application/yaml","size":608},{"uid":"78563ce8330c359d","name":"stage_yaml","source":"78563ce8330c359d.yaml","type":"application/yaml","size":682},{"uid":"a228eb491589ba75","name":"rest_request","source":"a228eb491589ba75.yaml","type":"application/yaml","size":161},{"uid":"e4983253f7b87c5d","name":"rest_response","source":"e4983253f7b87c5d.yaml","type":"application/yaml","size":608},{"uid":"706041e65a0be90a","name":"stage_yaml","source":"706041e65a0be90a.yaml","type":"application/yaml","size":682},{"uid":"50765397db8d5087","name":"rest_request","source":"50765397db8d5087.yaml","type":"application/yaml","size":161},{"uid":"fd8ddf2f85f4795","name":"rest_response","source":"fd8ddf2f85f4795.yaml","type":"application/yaml","size":608},{"uid":"1d00da7304dbf2ce","name":"stage_yaml","source":"1d00da7304dbf2ce.yaml","type":"application/yaml","size":682},{"uid":"4681a94645f681c0","name":"rest_request","source":"4681a94645f681c0.yaml","type":"application/yaml","size":161},{"uid":"1efc29840bfc1b49","name":"rest_response","source":"1efc29840bfc1b49.yaml","type":"application/yaml","size":608},{"uid":"acb211ddff993c42","name":"stage_yaml","source":"acb211ddff993c42.yaml","type":"application/yaml","size":682},{"uid":"c530e0841973416f","name":"rest_request","source":"c530e0841973416f.yaml","type":"application/yaml","size":161},{"uid":"e80df7e1730ae0d9","name":"rest_response","source":"e80df7e1730ae0d9.yaml","type":"application/yaml","size":608},{"uid":"5880ad3773443b41","name":"stage_yaml","source":"5880ad3773443b41.yaml","type":"application/yaml","size":682},{"uid":"f9134ff5b8c23c60","name":"rest_request","source":"f9134ff5b8c23c60.yaml","type":"application/yaml","size":161},{"uid":"46bb3afca4d947eb","name":"rest_response","source":"46bb3afca4d947eb.yaml","type":"application/yaml","size":608},{"uid":"12a56c6aa4835b3b","name":"stage_yaml","source":"12a56c6aa4835b3b.yaml","type":"application/yaml","size":682},{"uid":"4d2ca8aecf0f85a9","name":"rest_request","source":"4d2ca8aecf0f85a9.yaml","type":"application/yaml","size":161},{"uid":"ba8227dfa6910e8e","name":"rest_response","source":"ba8227dfa6910e8e.yaml","type":"application/yaml","size":608},{"uid":"e905b287e94b8285","name":"stage_yaml","source":"e905b287e94b8285.yaml","type":"application/yaml","size":682},{"uid":"156263daca4ce078","name":"rest_request","source":"156263daca4ce078.yaml","type":"application/yaml","size":161},{"uid":"aac1dcd13c713e39","name":"rest_response","source":"aac1dcd13c713e39.yaml","type":"application/yaml","size":608},{"uid":"985a9b2a07cdaf2b","name":"stage_yaml","source":"985a9b2a07cdaf2b.yaml","type":"application/yaml","size":682},{"uid":"3048fc1c72d93e23","name":"rest_request","source":"3048fc1c72d93e23.yaml","type":"application/yaml","size":161},{"uid":"ea8c8159279cda3b","name":"rest_response","source":"ea8c8159279cda3b.yaml","type":"application/yaml","size":608},{"uid":"8f0279053b0566e9","name":"stage_yaml","source":"8f0279053b0566e9.yaml","type":"application/yaml","size":682},{"uid":"a407af2582f93b44","name":"rest_request","source":"a407af2582f93b44.yaml","type":"application/yaml","size":161},{"uid":"bfc48de70a7857d2","name":"rest_response","source":"bfc48de70a7857d2.yaml","type":"application/yaml","size":608},{"uid":"ee28ec7504c31e1f","name":"stage_yaml","source":"ee28ec7504c31e1f.yaml","type":"application/yaml","size":682},{"uid":"5983f322dc346beb","name":"rest_request","source":"5983f322dc346beb.yaml","type":"application/yaml","size":161},{"uid":"bd07fe3a2780875e","name":"rest_response","source":"bd07fe3a2780875e.yaml","type":"application/yaml","size":608},{"uid":"520cc25d862cb132","name":"stage_yaml","source":"520cc25d862cb132.yaml","type":"application/yaml","size":682},{"uid":"f9e5937f51ef0596","name":"rest_request","source":"f9e5937f51ef0596.yaml","type":"application/yaml","size":161},{"uid":"3c51c2aed474ce66","name":"rest_response","source":"3c51c2aed474ce66.yaml","type":"application/yaml","size":608},{"uid":"ee7f77ba1250186c","name":"stage_yaml","source":"ee7f77ba1250186c.yaml","type":"application/yaml","size":682},{"uid":"eb9381de46897247","name":"rest_request","source":"eb9381de46897247.yaml","type":"application/yaml","size":161},{"uid":"1a7ab63c42a09367","name":"rest_response","source":"1a7ab63c42a09367.yaml","type":"application/yaml","size":608},{"uid":"5e6db98428fd4a98","name":"stage_yaml","source":"5e6db98428fd4a98.yaml","type":"application/yaml","size":682},{"uid":"5c8d309ce10dc041","name":"rest_request","source":"5c8d309ce10dc041.yaml","type":"application/yaml","size":161},{"uid":"fe52f961d4d09f80","name":"rest_response","source":"fe52f961d4d09f80.yaml","type":"application/yaml","size":608},{"uid":"b7dd74f30bd2bde5","name":"stage_yaml","source":"b7dd74f30bd2bde5.yaml","type":"application/yaml","size":682},{"uid":"d3fa7ab265a6ae67","name":"rest_request","source":"d3fa7ab265a6ae67.yaml","type":"application/yaml","size":161},{"uid":"6d3f2314b924a93f","name":"rest_response","source":"6d3f2314b924a93f.yaml","type":"application/yaml","size":608},{"uid":"a411c5498f964d2e","name":"stage_yaml","source":"a411c5498f964d2e.yaml","type":"application/yaml","size":682},{"uid":"ef4ecbeb25c17de7","name":"rest_request","source":"ef4ecbeb25c17de7.yaml","type":"application/yaml","size":161},{"uid":"78e4a2298995c8ed","name":"rest_response","source":"78e4a2298995c8ed.yaml","type":"application/yaml","size":608},{"uid":"9712100a5533a58e","name":"stage_yaml","source":"9712100a5533a58e.yaml","type":"application/yaml","size":682},{"uid":"dcaa726b080014af","name":"rest_request","source":"dcaa726b080014af.yaml","type":"application/yaml","size":161},{"uid":"e35728e4662d0b0d","name":"rest_response","source":"e35728e4662d0b0d.yaml","type":"application/yaml","size":608},{"uid":"2ed31bf9256616c5","name":"stage_yaml","source":"2ed31bf9256616c5.yaml","type":"application/yaml","size":682},{"uid":"6fe77c34e372cd98","name":"rest_request","source":"6fe77c34e372cd98.yaml","type":"application/yaml","size":161},{"uid":"492f22a3a6c57abf","name":"rest_response","source":"492f22a3a6c57abf.yaml","type":"application/yaml","size":608},{"uid":"b10d2bef511d990","name":"stage_yaml","source":"b10d2bef511d990.yaml","type":"application/yaml","size":682},{"uid":"9be7000b93179940","name":"rest_request","source":"9be7000b93179940.yaml","type":"application/yaml","size":161},{"uid":"92480f52ab4538d1","name":"rest_response","source":"92480f52ab4538d1.yaml","type":"application/yaml","size":608},{"uid":"a5af1f4cbab5d532","name":"stage_yaml","source":"a5af1f4cbab5d532.yaml","type":"application/yaml","size":682},{"uid":"d4e51f24864792e2","name":"rest_request","source":"d4e51f24864792e2.yaml","type":"application/yaml","size":161},{"uid":"e9eea36bc998734","name":"rest_response","source":"e9eea36bc998734.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678221629656,"stop":1678221629674,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"50e81f9161490338","name":"stage_yaml","source":"50e81f9161490338.yaml","type":"application/yaml","size":2389},{"uid":"a8d5e4787b7a509b","name":"rest_request","source":"a8d5e4787b7a509b.yaml","type":"application/yaml","size":161},{"uid":"f4b476939b6213ec","name":"rest_response","source":"f4b476939b6213ec.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678221629675,"stop":1678221629687,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"df5ea7c26bdb3b1c","name":"stage_yaml","source":"df5ea7c26bdb3b1c.yaml","type":"application/yaml","size":978},{"uid":"5d4b843394ab5735","name":"rest_request","source":"5d4b843394ab5735.yaml","type":"application/yaml","size":145},{"uid":"bb53e0bde1488eb5","name":"rest_response","source":"bb53e0bde1488eb5.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678221629688,"stop":1678221629700,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"9fcc09e717e50bda","name":"stage_yaml","source":"9fcc09e717e50bda.yaml","type":"application/yaml","size":763},{"uid":"4c37d8352d565a09","name":"rest_request","source":"4c37d8352d565a09.yaml","type":"application/yaml","size":211},{"uid":"d71587ca8cdc197f","name":"rest_response","source":"d71587ca8cdc197f.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678221629701,"stop":1678221629716,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"a01fce7830462406","name":"stage_yaml","source":"a01fce7830462406.yaml","type":"application/yaml","size":534},{"uid":"29be5d5ea52b58ae","name":"rest_request","source":"29be5d5ea52b58ae.yaml","type":"application/yaml","size":164},{"uid":"9ebc8cb3aabe500b","name":"rest_response","source":"9ebc8cb3aabe500b.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678221629721,"stop":1678221630743,"duration":1022},"status":"passed","steps":[],"attachments":[{"uid":"9dd399bb47021ce4","name":"stage_yaml","source":"9dd399bb47021ce4.yaml","type":"application/yaml","size":703},{"uid":"aa916dee6eeb3d61","name":"rest_request","source":"aa916dee6eeb3d61.yaml","type":"application/yaml","size":161},{"uid":"4763a0f3d7fe4679","name":"rest_response","source":"4763a0f3d7fe4679.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678221630744,"stop":1678221630761,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"edcf669e0b4fdbf8","name":"stage_yaml","source":"edcf669e0b4fdbf8.yaml","type":"application/yaml","size":2481},{"uid":"1bc37072f1df1b1e","name":"rest_request","source":"1bc37072f1df1b1e.yaml","type":"application/yaml","size":161},{"uid":"cab41d107d85067c","name":"rest_response","source":"cab41d107d85067c.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"9bbcf1244c01345f","name":"log","source":"9bbcf1244c01345f.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"2676eb90a0c9"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":9,"unknown":0,"total":12},"items":[{"uid":"7ec2fcfe2c6cd2fe","status":"passed","time":{"start":1678217907866,"stop":1678217940574,"duration":32708}},{"uid":"92a0341aa609975b","status":"passed","time":{"start":1676400721652,"stop":1676400739246,"duration":17594}},{"uid":"40b2ef1f6b425f11","status":"passed","time":{"start":1676325491337,"stop":1676325524186,"duration":32849}},{"uid":"811fca76fbd6ef66","status":"passed","time":{"start":1674515478327,"stop":1674515480517,"duration":2190}},{"uid":"581553a55830abee","status":"passed","time":{"start":1674505594923,"stop":1674505627619,"duration":32696}},{"uid":"b7652eeb396ac6df","status":"passed","time":{"start":1674500192649,"stop":1674500225333,"duration":32684}},{"uid":"be0332c5a369daf0","status":"passed","time":{"start":1674257688409,"stop":1674257721210,"duration":32801}},{"uid":"5caf77cfa70d0722","status":"passed","time":{"start":1674255184100,"stop":1674255186375,"duration":2275}},{"uid":"f65957d67d0c7638","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080261298,"stop":1674080261337,"duration":39}},{"uid":"1a5f1976e1434678","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977875,"stop":1674074977907,"duration":32}},{"uid":"ce8f9d7dcc0d543","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600333,"stop":1674074600359,"duration":26}}]},"tags":[]},"source":"b7f56e7db2e1c0a8.json","parameterValues":[]}