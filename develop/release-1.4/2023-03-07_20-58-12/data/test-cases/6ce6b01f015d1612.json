{"uid":"6ce6b01f015d1612","name":"Verify power-cap for a single node","fullName":"api.4-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"c6d875da97f650251a49a7570403f1b8","time":{"start":1678222346737,"stop":1678222356414,"duration":9677},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678222346938,"stop":1678222346977,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"9eefc7df5b174068","name":"stage_yaml","source":"9eefc7df5b174068.yaml","type":"application/yaml","size":333},{"uid":"734e0aec601d3281","name":"rest_request","source":"734e0aec601d3281.yaml","type":"application/yaml","size":149},{"uid":"1c84093986cc01ca","name":"rest_response","source":"1c84093986cc01ca.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1678222346978,"stop":1678222346987,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"5ec2c7236a229a30","name":"stage_yaml","source":"5ec2c7236a229a30.yaml","type":"application/yaml","size":228},{"uid":"a9f74ec19155acac","name":"rest_request","source":"a9f74ec19155acac.yaml","type":"application/yaml","size":173},{"uid":"3ccf9013d7f8ca3","name":"rest_response","source":"3ccf9013d7f8ca3.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1678222346988,"stop":1678222346997,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"32927ac06a51a24a","name":"stage_yaml","source":"32927ac06a51a24a.yaml","type":"application/yaml","size":231},{"uid":"e9ed57d2f07628ca","name":"rest_request","source":"e9ed57d2f07628ca.yaml","type":"application/yaml","size":173},{"uid":"61bb803bee3c508a","name":"rest_response","source":"61bb803bee3c508a.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1678222346999,"stop":1678222347011,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"99a756cc147ce1df","name":"stage_yaml","source":"99a756cc147ce1df.yaml","type":"application/yaml","size":543},{"uid":"16d1cfa470ef6889","name":"rest_request","source":"16d1cfa470ef6889.yaml","type":"application/yaml","size":166},{"uid":"d2f3e9839df2491a","name":"rest_response","source":"d2f3e9839df2491a.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1678222347013,"stop":1678222348028,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"c6a572d605a8c7d4","name":"stage_yaml","source":"c6a572d605a8c7d4.yaml","type":"application/yaml","size":661},{"uid":"782dbdb4edd15423","name":"rest_request","source":"782dbdb4edd15423.yaml","type":"application/yaml","size":159},{"uid":"ac5a69b337a9d75e","name":"rest_response","source":"ac5a69b337a9d75e.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1678222348029,"stop":1678222348047,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"4e92a11ceb8b6b2b","name":"stage_yaml","source":"4e92a11ceb8b6b2b.yaml","type":"application/yaml","size":3543},{"uid":"c647441f04ad740a","name":"rest_request","source":"c647441f04ad740a.yaml","type":"application/yaml","size":159},{"uid":"2561d71958db1de","name":"rest_response","source":"2561d71958db1de.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1678222348048,"stop":1678222348061,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"8329d45f58d59b14","name":"stage_yaml","source":"8329d45f58d59b14.yaml","type":"application/yaml","size":639},{"uid":"330ac735da8d980c","name":"rest_request","source":"330ac735da8d980c.yaml","type":"application/yaml","size":229},{"uid":"9dd10e24d05db4c3","name":"rest_response","source":"9dd10e24d05db4c3.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1678222348064,"stop":1678222349080,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"1e8431459827f196","name":"stage_yaml","source":"1e8431459827f196.yaml","type":"application/yaml","size":679},{"uid":"d80eb005ab27eccd","name":"rest_request","source":"d80eb005ab27eccd.yaml","type":"application/yaml","size":159},{"uid":"a343704cfe738e24","name":"rest_response","source":"a343704cfe738e24.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1678222349081,"stop":1678222349100,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"18096ee74edf52ea","name":"stage_yaml","source":"18096ee74edf52ea.yaml","type":"application/yaml","size":3157},{"uid":"425fd6a496b07708","name":"rest_request","source":"425fd6a496b07708.yaml","type":"application/yaml","size":159},{"uid":"ada94aea110b7534","name":"rest_response","source":"ada94aea110b7534.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1678222349101,"stop":1678222349113,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"325a51d3bcb78461","name":"stage_yaml","source":"325a51d3bcb78461.yaml","type":"application/yaml","size":639},{"uid":"cfa86bbe64eac648","name":"rest_request","source":"cfa86bbe64eac648.yaml","type":"application/yaml","size":229},{"uid":"84e8d7d21e24da81","name":"rest_response","source":"84e8d7d21e24da81.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1678222349115,"stop":1678222351148,"duration":2033},"status":"passed","steps":[],"attachments":[{"uid":"1f113987e7537d61","name":"stage_yaml","source":"1f113987e7537d61.yaml","type":"application/yaml","size":679},{"uid":"3f11333d66329d35","name":"rest_request","source":"3f11333d66329d35.yaml","type":"application/yaml","size":159},{"uid":"57ae5b04ef101e34","name":"rest_response","source":"57ae5b04ef101e34.yaml","type":"application/yaml","size":619},{"uid":"aabd77e34117079f","name":"stage_yaml","source":"aabd77e34117079f.yaml","type":"application/yaml","size":679},{"uid":"fa2addee0da3cebe","name":"rest_request","source":"fa2addee0da3cebe.yaml","type":"application/yaml","size":159},{"uid":"f8aa8abe981b35dc","name":"rest_response","source":"f8aa8abe981b35dc.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1678222351150,"stop":1678222351168,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"7272fd7fc5d3ff95","name":"stage_yaml","source":"7272fd7fc5d3ff95.yaml","type":"application/yaml","size":3157},{"uid":"50a86ccc5a1bba2","name":"rest_request","source":"50a86ccc5a1bba2.yaml","type":"application/yaml","size":159},{"uid":"590925149bfcd2fe","name":"rest_response","source":"590925149bfcd2fe.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1678222351169,"stop":1678222351181,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"e626d4918caf7968","name":"stage_yaml","source":"e626d4918caf7968.yaml","type":"application/yaml","size":639},{"uid":"e0c6e1d7a04f8701","name":"rest_request","source":"e0c6e1d7a04f8701.yaml","type":"application/yaml","size":233},{"uid":"73becff9cd0c0538","name":"rest_response","source":"73becff9cd0c0538.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1678222351183,"stop":1678222352199,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"e17dc5a1c2d7fba6","name":"stage_yaml","source":"e17dc5a1c2d7fba6.yaml","type":"application/yaml","size":685},{"uid":"d211de77576bb82f","name":"rest_request","source":"d211de77576bb82f.yaml","type":"application/yaml","size":159},{"uid":"5f5a067e5f95efa8","name":"rest_response","source":"5f5a067e5f95efa8.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1678222352200,"stop":1678222352217,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"29635518696ebb0b","name":"stage_yaml","source":"29635518696ebb0b.yaml","type":"application/yaml","size":2234},{"uid":"7cb37a801dd98909","name":"rest_request","source":"7cb37a801dd98909.yaml","type":"application/yaml","size":159},{"uid":"a7c69d91af34177b","name":"rest_response","source":"a7c69d91af34177b.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1678222352219,"stop":1678222352232,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"16ee2e38dc43ee2","name":"stage_yaml","source":"16ee2e38dc43ee2.yaml","type":"application/yaml","size":631},{"uid":"80ffac0037c6cad9","name":"rest_request","source":"80ffac0037c6cad9.yaml","type":"application/yaml","size":227},{"uid":"3340e38398d5d868","name":"rest_response","source":"3340e38398d5d868.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1678222352235,"stop":1678222353250,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"70b582f06b661e6f","name":"stage_yaml","source":"70b582f06b661e6f.yaml","type":"application/yaml","size":685},{"uid":"99fcb76fd943c96","name":"rest_request","source":"99fcb76fd943c96.yaml","type":"application/yaml","size":159},{"uid":"657fbaccc8ad5d60","name":"rest_response","source":"657fbaccc8ad5d60.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1678222353251,"stop":1678222353268,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"c5a5d05ed368ad1a","name":"stage_yaml","source":"c5a5d05ed368ad1a.yaml","type":"application/yaml","size":2230},{"uid":"8d444405a7e247b6","name":"rest_request","source":"8d444405a7e247b6.yaml","type":"application/yaml","size":159},{"uid":"cfb99734ec6ecbef","name":"rest_response","source":"cfb99734ec6ecbef.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1678222353269,"stop":1678222353282,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"ccb9569637bcc23f","name":"stage_yaml","source":"ccb9569637bcc23f.yaml","type":"application/yaml","size":599},{"uid":"42906416f767873","name":"rest_request","source":"42906416f767873.yaml","type":"application/yaml","size":227},{"uid":"f45066fc2af62091","name":"rest_response","source":"f45066fc2af62091.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1678222353284,"stop":1678222355320,"duration":2036},"status":"passed","steps":[],"attachments":[{"uid":"e81d075c34ef81dd","name":"stage_yaml","source":"e81d075c34ef81dd.yaml","type":"application/yaml","size":679},{"uid":"9699a6ee822b816c","name":"rest_request","source":"9699a6ee822b816c.yaml","type":"application/yaml","size":159},{"uid":"74f8481f61100178","name":"rest_response","source":"74f8481f61100178.yaml","type":"application/yaml","size":617},{"uid":"c4a70d9a3b5cc8e8","name":"stage_yaml","source":"c4a70d9a3b5cc8e8.yaml","type":"application/yaml","size":679},{"uid":"c54deb5610cb946","name":"rest_request","source":"c54deb5610cb946.yaml","type":"application/yaml","size":159},{"uid":"2e9cd3c685e443c0","name":"rest_response","source":"2e9cd3c685e443c0.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":6,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1678222355321,"stop":1678222355339,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"fb1d9c1777d52ed4","name":"stage_yaml","source":"fb1d9c1777d52ed4.yaml","type":"application/yaml","size":3125},{"uid":"d6546422277157c8","name":"rest_request","source":"d6546422277157c8.yaml","type":"application/yaml","size":159},{"uid":"e1578decf905d0b1","name":"rest_response","source":"e1578decf905d0b1.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1678222355340,"stop":1678222355352,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"42a34bef723d7e6","name":"stage_yaml","source":"42a34bef723d7e6.yaml","type":"application/yaml","size":640},{"uid":"43d8838dc7494312","name":"rest_request","source":"43d8838dc7494312.yaml","type":"application/yaml","size":227},{"uid":"15e74e23fcf5f4d3","name":"rest_response","source":"15e74e23fcf5f4d3.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1678222355355,"stop":1678222356370,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"53e9b84649224ba4","name":"stage_yaml","source":"53e9b84649224ba4.yaml","type":"application/yaml","size":680},{"uid":"496bb2a99371641e","name":"rest_request","source":"496bb2a99371641e.yaml","type":"application/yaml","size":159},{"uid":"d2331f8f98009ed9","name":"rest_response","source":"d2331f8f98009ed9.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1678222356372,"stop":1678222356389,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"ab8f8e1b7d065910","name":"stage_yaml","source":"ab8f8e1b7d065910.yaml","type":"application/yaml","size":3160},{"uid":"13f254a5e1e24a84","name":"rest_request","source":"13f254a5e1e24a84.yaml","type":"application/yaml","size":159},{"uid":"744467aca37d86d","name":"rest_response","source":"744467aca37d86d.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1678222356390,"stop":1678222356401,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"3d94b8516e2f4d73","name":"stage_yaml","source":"3d94b8516e2f4d73.yaml","type":"application/yaml","size":276},{"uid":"f0dcb3fd3f763e2c","name":"rest_request","source":"f0dcb3fd3f763e2c.yaml","type":"application/yaml","size":173},{"uid":"93601901d0540cd9","name":"rest_response","source":"93601901d0540cd9.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1678222356402,"stop":1678222356414,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"1aa60f41128b4190","name":"stage_yaml","source":"1aa60f41128b4190.yaml","type":"application/yaml","size":256},{"uid":"24aafa76b7979b37","name":"rest_request","source":"24aafa76b7979b37.yaml","type":"application/yaml","size":172},{"uid":"34d60f2767f934ba","name":"rest_response","source":"34d60f2767f934ba.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"d7b8493cfd25e7ae","name":"log","source":"d7b8493cfd25e7ae.txt","type":"text/plain","size":7673}],"parameters":[],"stepsCount":26,"attachmentsCount":85,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"8ec9d031fd04"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":12},"items":[{"uid":"2a33895f4267c2aa","status":"passed","time":{"start":1678218750739,"stop":1678218758391,"duration":7652}},{"uid":"3ac4d7a4aea27ca9","status":"passed","time":{"start":1676401415560,"stop":1676401423478,"duration":7918}},{"uid":"8320eac632c6c50","status":"passed","time":{"start":1676326123444,"stop":1676326133145,"duration":9701}},{"uid":"2033b0cd5f87e006","status":"passed","time":{"start":1674516017611,"stop":1674516025271,"duration":7660}},{"uid":"d958f04c82741ac6","status":"passed","time":{"start":1674506193157,"stop":1674506200798,"duration":7641}},{"uid":"a370f4c234a4043d","status":"passed","time":{"start":1674500821056,"stop":1674500828702,"duration":7646}},{"uid":"9ad774d9b0624ca4","status":"passed","time":{"start":1674258346884,"stop":1674258355575,"duration":8691}},{"uid":"ed5410046bf99c16","status":"passed","time":{"start":1674255719656,"stop":1674255727518,"duration":7862}},{"uid":"9e5ddf4c3cc59a2","status":"passed","time":{"start":1674080348924,"stop":1674080359611,"duration":10687}},{"uid":"c57d29d7b9a4fd3","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674075069275,"stop":1674075069569,"duration":294}},{"uid":"6808c8d9b8886dc5","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: power-cap_snapshot_num_attempts","time":{"start":1674074687647,"stop":1674074687894,"duration":247}}]},"tags":[]},"source":"6ce6b01f015d1612.json","parameterValues":[]}