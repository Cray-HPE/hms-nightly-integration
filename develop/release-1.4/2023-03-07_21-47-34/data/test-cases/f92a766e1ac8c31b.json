{"uid":"f92a766e1ac8c31b","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1678225239171,"stop":1678225239534,"duration":363},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1678225239183,"stop":1678225239223,"duration":40},"status":"passed","steps":[],"attachments":[{"uid":"f3fb13ca7d3e8d50","name":"stage_yaml","source":"f3fb13ca7d3e8d50.yaml","type":"application/yaml","size":457},{"uid":"f641c27159ce32ec","name":"rest_request","source":"f641c27159ce32ec.yaml","type":"application/yaml","size":149},{"uid":"c32cad7d77c4431c","name":"rest_response","source":"c32cad7d77c4431c.yaml","type":"application/yaml","size":5772}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1678225239224,"stop":1678225239284,"duration":60},"status":"passed","steps":[],"attachments":[{"uid":"36986d99e3d7f826","name":"stage_yaml","source":"36986d99e3d7f826.yaml","type":"application/yaml","size":472},{"uid":"d2062cc36d4cdc8d","name":"rest_request","source":"d2062cc36d4cdc8d.yaml","type":"application/yaml","size":173},{"uid":"e2928429476419e1","name":"rest_response","source":"e2928429476419e1.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1678225239286,"stop":1678225239300,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"29a50b80f92214e6","name":"stage_yaml","source":"29a50b80f92214e6.yaml","type":"application/yaml","size":247},{"uid":"f70be3df1806e568","name":"rest_request","source":"f70be3df1806e568.yaml","type":"application/yaml","size":173},{"uid":"854c106efdd9fb9d","name":"rest_response","source":"854c106efdd9fb9d.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1678225239301,"stop":1678225239311,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"795bb99fddb28c51","name":"stage_yaml","source":"795bb99fddb28c51.yaml","type":"application/yaml","size":247},{"uid":"42cb3edbe17343ac","name":"rest_request","source":"42cb3edbe17343ac.yaml","type":"application/yaml","size":173},{"uid":"e79172cfdea4aadf","name":"rest_response","source":"e79172cfdea4aadf.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1678225239312,"stop":1678225239329,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"9901fb45c746151d","name":"stage_yaml","source":"9901fb45c746151d.yaml","type":"application/yaml","size":1395},{"uid":"158bb60a43f7fd6b","name":"rest_request","source":"158bb60a43f7fd6b.yaml","type":"application/yaml","size":214},{"uid":"7116878415515844","name":"rest_response","source":"7116878415515844.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1678225239330,"stop":1678225239343,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"8928c045b6ef37ca","name":"stage_yaml","source":"8928c045b6ef37ca.yaml","type":"application/yaml","size":251},{"uid":"24d5f5f3ba0ae65b","name":"rest_request","source":"24d5f5f3ba0ae65b.yaml","type":"application/yaml","size":173},{"uid":"38443597dd745a4a","name":"rest_response","source":"38443597dd745a4a.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1678225239343,"stop":1678225239352,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"f7a8688210336a4e","name":"stage_yaml","source":"f7a8688210336a4e.yaml","type":"application/yaml","size":251},{"uid":"db6a56ff15ccd953","name":"rest_request","source":"db6a56ff15ccd953.yaml","type":"application/yaml","size":173},{"uid":"2a3d2c5478aaec8f","name":"rest_response","source":"2a3d2c5478aaec8f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1678225239353,"stop":1678225239381,"duration":28},"status":"passed","steps":[],"attachments":[{"uid":"4509e855dcc246b9","name":"stage_yaml","source":"4509e855dcc246b9.yaml","type":"application/yaml","size":903},{"uid":"b332c3ad70b92cca","name":"rest_request","source":"b332c3ad70b92cca.yaml","type":"application/yaml","size":286},{"uid":"98848a99ed543415","name":"rest_response","source":"98848a99ed543415.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1678225239382,"stop":1678225239412,"duration":30},"status":"passed","steps":[],"attachments":[{"uid":"99b304e2ef9dbe6f","name":"stage_yaml","source":"99b304e2ef9dbe6f.yaml","type":"application/yaml","size":2415},{"uid":"34b1bd860087b56f","name":"rest_request","source":"34b1bd860087b56f.yaml","type":"application/yaml","size":160},{"uid":"1fd40685918596fb","name":"rest_response","source":"1fd40685918596fb.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1678225239413,"stop":1678225239429,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"3e46aed81ac3e6d5","name":"stage_yaml","source":"3e46aed81ac3e6d5.yaml","type":"application/yaml","size":1466},{"uid":"a6bf51c6d547b563","name":"rest_request","source":"a6bf51c6d547b563.yaml","type":"application/yaml","size":218},{"uid":"56f3a5df326ce5c6","name":"rest_response","source":"56f3a5df326ce5c6.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1678225239430,"stop":1678225239446,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"15397bfe8414a8e","name":"stage_yaml","source":"15397bfe8414a8e.yaml","type":"application/yaml","size":1449},{"uid":"3de0e79aa74ec28f","name":"rest_request","source":"3de0e79aa74ec28f.yaml","type":"application/yaml","size":212},{"uid":"c7faab3d77d0ef78","name":"rest_response","source":"c7faab3d77d0ef78.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1678225239447,"stop":1678225239469,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"771a797d073c6e78","name":"stage_yaml","source":"771a797d073c6e78.yaml","type":"application/yaml","size":759},{"uid":"7ef5e61b2d9ff566","name":"rest_request","source":"7ef5e61b2d9ff566.yaml","type":"application/yaml","size":212},{"uid":"3a61b8b8a62a643a","name":"rest_response","source":"3a61b8b8a62a643a.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1678225239470,"stop":1678225239491,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"6418d42ced29ac85","name":"stage_yaml","source":"6418d42ced29ac85.yaml","type":"application/yaml","size":1477},{"uid":"44873041c8cc71bd","name":"rest_request","source":"44873041c8cc71bd.yaml","type":"application/yaml","size":212},{"uid":"46dcbe76e209dfbb","name":"rest_response","source":"46dcbe76e209dfbb.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1678225239492,"stop":1678225239502,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"5191ac66bd72aea7","name":"stage_yaml","source":"5191ac66bd72aea7.yaml","type":"application/yaml","size":247},{"uid":"60e7c73223c127df","name":"rest_request","source":"60e7c73223c127df.yaml","type":"application/yaml","size":173},{"uid":"e7d6a77911994b20","name":"rest_response","source":"e7d6a77911994b20.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1678225239503,"stop":1678225239512,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"28898caa85830776","name":"stage_yaml","source":"28898caa85830776.yaml","type":"application/yaml","size":279},{"uid":"6ecec9970f11edec","name":"rest_request","source":"6ecec9970f11edec.yaml","type":"application/yaml","size":172},{"uid":"d11b14acca373a2b","name":"rest_response","source":"d11b14acca373a2b.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1678225239513,"stop":1678225239522,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"685f7deca104d139","name":"stage_yaml","source":"685f7deca104d139.yaml","type":"application/yaml","size":247},{"uid":"db98b199b792351d","name":"rest_request","source":"db98b199b792351d.yaml","type":"application/yaml","size":173},{"uid":"b62206e92c452154","name":"rest_response","source":"b62206e92c452154.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1678225239524,"stop":1678225239533,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"b9cb5a8d978147df","name":"stage_yaml","source":"b9cb5a8d978147df.yaml","type":"application/yaml","size":279},{"uid":"707b427d0c53a155","name":"rest_request","source":"707b427d0c53a155.yaml","type":"application/yaml","size":172},{"uid":"44f1453f6a3b2702","name":"rest_response","source":"44f1453f6a3b2702.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"4-build-pipeline-only"},{"name":"host","value":"f6cc4c100962"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"364ec411ce8f0582","status":"passed","time":{"start":1678222362761,"stop":1678222363086,"duration":325}},{"uid":"afcbd81c8821732","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f6e4f9f9d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1025, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1678218763764,"stop":1678218763951,"duration":187}},{"uid":"37c84b61dfd81f86","status":"passed","time":{"start":1676400983897,"stop":1676400984368,"duration":471}},{"uid":"bdd8c3928563041","status":"passed","time":{"start":1676325746647,"stop":1676325746962,"duration":315}},{"uid":"3701acfb86e35aff","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fc264103dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1011, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674515666959,"stop":1674515667146,"duration":187}},{"uid":"eeda7491e217027","status":"passed","time":{"start":1674505814966,"stop":1674505815297,"duration":331}},{"uid":"fd035f00e785b5b9","status":"passed","time":{"start":1674500443456,"stop":1674500443788,"duration":332}},{"uid":"905dc1816fa06906","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f8634481d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1004, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674257937578,"stop":1674257937796,"duration":218}},{"uid":"573ed33dbbcc41f4","status":"passed","time":{"start":1674255406619,"stop":1674255407055,"duration":436}},{"uid":"d0455b1410482332","status":"passed","time":{"start":1674080366050,"stop":1674080366335,"duration":285}},{"uid":"325ceb16bb4f82f","status":"passed","time":{"start":1674075072815,"stop":1674075073142,"duration":327}},{"uid":"189c4bc9aab9102d","status":"passed","time":{"start":1674074690593,"stop":1674074690884,"duration":291}}]},"tags":[]},"source":"f92a766e1ac8c31b.json","parameterValues":[]}