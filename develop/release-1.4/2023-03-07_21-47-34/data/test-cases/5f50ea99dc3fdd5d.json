{"uid":"5f50ea99dc3fdd5d","name":"Verify transitions powers off a compute node that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a compute node that is powered on","historyId":"91dd549434210ab8b5429ca350197619","time":{"start":1678224649636,"stop":1678224667046,"duration":17410},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678224649646,"stop":1678224649685,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"4c953b0fe51af348","name":"stage_yaml","source":"4c953b0fe51af348.yaml","type":"application/yaml","size":302},{"uid":"771b0b92221f37b4","name":"rest_request","source":"771b0b92221f37b4.yaml","type":"application/yaml","size":162},{"uid":"c5c07faf6d1be619","name":"rest_response","source":"c5c07faf6d1be619.yaml","type":"application/yaml","size":5774}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node on to prepare it for the test case","time":{"start":1678224649686,"stop":1678224649699,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"dea6519d2a2378a6","name":"stage_yaml","source":"dea6519d2a2378a6.yaml","type":"application/yaml","size":775},{"uid":"ca8861e732e590dd","name":"rest_request","source":"ca8861e732e590dd.yaml","type":"application/yaml","size":211},{"uid":"b60fb5418d779fdf","name":"rest_response","source":"b60fb5418d779fdf.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678224649701,"stop":1678224650715,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"611414f2d92659f6","name":"stage_yaml","source":"611414f2d92659f6.yaml","type":"application/yaml","size":661},{"uid":"eb86c05e3b86491f","name":"rest_request","source":"eb86c05e3b86491f.yaml","type":"application/yaml","size":161},{"uid":"8fd1a638248c9464","name":"rest_response","source":"8fd1a638248c9464.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678224650716,"stop":1678224650731,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b371f29867c9d0f6","name":"stage_yaml","source":"b371f29867c9d0f6.yaml","type":"application/yaml","size":2375},{"uid":"eb4588892d320ab8","name":"rest_request","source":"eb4588892d320ab8.yaml","type":"application/yaml","size":161},{"uid":"e36351810f205848","name":"rest_response","source":"e36351810f205848.yaml","type":"application/yaml","size":591}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered on using power-status","time":{"start":1678224650732,"stop":1678224650744,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"11f20314339c6bf1","name":"stage_yaml","source":"11f20314339c6bf1.yaml","type":"application/yaml","size":976},{"uid":"fcd7c4d595b1a118","name":"rest_request","source":"fcd7c4d595b1a118.yaml","type":"application/yaml","size":145},{"uid":"b4b775c58bd131ea","name":"rest_response","source":"b4b775c58bd131ea.yaml","type":"application/yaml","size":438}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target node off with a force-off transition","time":{"start":1678224650745,"stop":1678224650756,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"88b7cb91381b102b","name":"stage_yaml","source":"88b7cb91381b102b.yaml","type":"application/yaml","size":795},{"uid":"b040014d85833f08","name":"rest_request","source":"b040014d85833f08.yaml","type":"application/yaml","size":216},{"uid":"dbf050eb3b145b47","name":"rest_response","source":"dbf050eb3b145b47.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678224650758,"stop":1678224667016,"duration":16258},"status":"passed","steps":[],"attachments":[{"uid":"7820ec439f055f22","name":"stage_yaml","source":"7820ec439f055f22.yaml","type":"application/yaml","size":684},{"uid":"e9d023931f5f0ba0","name":"rest_request","source":"e9d023931f5f0ba0.yaml","type":"application/yaml","size":161},{"uid":"cb6dcca9f1ebc7f7","name":"rest_response","source":"cb6dcca9f1ebc7f7.yaml","type":"application/yaml","size":572},{"uid":"888a1c2f2761fe07","name":"stage_yaml","source":"888a1c2f2761fe07.yaml","type":"application/yaml","size":684},{"uid":"271c2c5ff95bbb6c","name":"rest_request","source":"271c2c5ff95bbb6c.yaml","type":"application/yaml","size":161},{"uid":"3e83615487542c9f","name":"rest_response","source":"3e83615487542c9f.yaml","type":"application/yaml","size":608},{"uid":"3ad5a8019b055daf","name":"stage_yaml","source":"3ad5a8019b055daf.yaml","type":"application/yaml","size":684},{"uid":"a907f297d1882b5e","name":"rest_request","source":"a907f297d1882b5e.yaml","type":"application/yaml","size":161},{"uid":"7ab906b7b4008f79","name":"rest_response","source":"7ab906b7b4008f79.yaml","type":"application/yaml","size":608},{"uid":"47b220ed37f93056","name":"stage_yaml","source":"47b220ed37f93056.yaml","type":"application/yaml","size":684},{"uid":"d50dbedfb9775236","name":"rest_request","source":"d50dbedfb9775236.yaml","type":"application/yaml","size":161},{"uid":"4dc14e50c09c6b28","name":"rest_response","source":"4dc14e50c09c6b28.yaml","type":"application/yaml","size":608},{"uid":"625e8ecd2d5109b7","name":"stage_yaml","source":"625e8ecd2d5109b7.yaml","type":"application/yaml","size":684},{"uid":"441643c3196781e","name":"rest_request","source":"441643c3196781e.yaml","type":"application/yaml","size":161},{"uid":"467fadbc53f8b169","name":"rest_response","source":"467fadbc53f8b169.yaml","type":"application/yaml","size":608},{"uid":"c35357567ab7f0bb","name":"stage_yaml","source":"c35357567ab7f0bb.yaml","type":"application/yaml","size":684},{"uid":"acd689c58caa6933","name":"rest_request","source":"acd689c58caa6933.yaml","type":"application/yaml","size":161},{"uid":"e7808d527ba3f10c","name":"rest_response","source":"e7808d527ba3f10c.yaml","type":"application/yaml","size":608},{"uid":"3665674796638ae9","name":"stage_yaml","source":"3665674796638ae9.yaml","type":"application/yaml","size":684},{"uid":"8b825e017b8352f0","name":"rest_request","source":"8b825e017b8352f0.yaml","type":"application/yaml","size":161},{"uid":"5d367f74d8804b","name":"rest_response","source":"5d367f74d8804b.yaml","type":"application/yaml","size":608},{"uid":"f8f2a3b612f5d968","name":"stage_yaml","source":"f8f2a3b612f5d968.yaml","type":"application/yaml","size":684},{"uid":"77d8c792d0fb0903","name":"rest_request","source":"77d8c792d0fb0903.yaml","type":"application/yaml","size":161},{"uid":"b23dd8ef24543d30","name":"rest_response","source":"b23dd8ef24543d30.yaml","type":"application/yaml","size":608},{"uid":"2555bbe7efe685e2","name":"stage_yaml","source":"2555bbe7efe685e2.yaml","type":"application/yaml","size":684},{"uid":"25b12752e0bef82d","name":"rest_request","source":"25b12752e0bef82d.yaml","type":"application/yaml","size":161},{"uid":"7bb51d2d862774ad","name":"rest_response","source":"7bb51d2d862774ad.yaml","type":"application/yaml","size":608},{"uid":"de0c98d000142c4b","name":"stage_yaml","source":"de0c98d000142c4b.yaml","type":"application/yaml","size":684},{"uid":"de9701b7d157ce11","name":"rest_request","source":"de9701b7d157ce11.yaml","type":"application/yaml","size":161},{"uid":"4f5a857b9aa78b6b","name":"rest_response","source":"4f5a857b9aa78b6b.yaml","type":"application/yaml","size":608},{"uid":"8829509d22e4348f","name":"stage_yaml","source":"8829509d22e4348f.yaml","type":"application/yaml","size":684},{"uid":"a3d214f9d0d384e7","name":"rest_request","source":"a3d214f9d0d384e7.yaml","type":"application/yaml","size":161},{"uid":"4f11f5a69f59b11d","name":"rest_response","source":"4f11f5a69f59b11d.yaml","type":"application/yaml","size":608},{"uid":"fac049a09e57549a","name":"stage_yaml","source":"fac049a09e57549a.yaml","type":"application/yaml","size":684},{"uid":"89e38dd2e0198ae3","name":"rest_request","source":"89e38dd2e0198ae3.yaml","type":"application/yaml","size":161},{"uid":"79a55ff4ffcc14a6","name":"rest_response","source":"79a55ff4ffcc14a6.yaml","type":"application/yaml","size":608},{"uid":"4a9e21e2669e8c98","name":"stage_yaml","source":"4a9e21e2669e8c98.yaml","type":"application/yaml","size":684},{"uid":"7042ba9198133ceb","name":"rest_request","source":"7042ba9198133ceb.yaml","type":"application/yaml","size":161},{"uid":"388e1fecc92fb3cb","name":"rest_response","source":"388e1fecc92fb3cb.yaml","type":"application/yaml","size":608},{"uid":"3fcc77af45b7f9b6","name":"stage_yaml","source":"3fcc77af45b7f9b6.yaml","type":"application/yaml","size":684},{"uid":"96a052f1389ea7cb","name":"rest_request","source":"96a052f1389ea7cb.yaml","type":"application/yaml","size":161},{"uid":"2dc197be0093a9c5","name":"rest_response","source":"2dc197be0093a9c5.yaml","type":"application/yaml","size":608},{"uid":"b248896e274449a4","name":"stage_yaml","source":"b248896e274449a4.yaml","type":"application/yaml","size":684},{"uid":"2a37bbcff07a5d8f","name":"rest_request","source":"2a37bbcff07a5d8f.yaml","type":"application/yaml","size":161},{"uid":"12cfe620266678c4","name":"rest_response","source":"12cfe620266678c4.yaml","type":"application/yaml","size":608},{"uid":"c7811cfe4ec8d84d","name":"stage_yaml","source":"c7811cfe4ec8d84d.yaml","type":"application/yaml","size":684},{"uid":"4c85d5c42fe9d0ab","name":"rest_request","source":"4c85d5c42fe9d0ab.yaml","type":"application/yaml","size":161},{"uid":"2f0bc1c1ef1067e5","name":"rest_response","source":"2f0bc1c1ef1067e5.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678224667017,"stop":1678224667033,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"a312fd3de233ce4c","name":"stage_yaml","source":"a312fd3de233ce4c.yaml","type":"application/yaml","size":2336},{"uid":"80984266c5fe6cbc","name":"rest_request","source":"80984266c5fe6cbc.yaml","type":"application/yaml","size":161},{"uid":"1c501a8351d67b91","name":"rest_response","source":"1c501a8351d67b91.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node is powered off using power-status","time":{"start":1678224667034,"stop":1678224667046,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"8d0ee011857e6698","name":"stage_yaml","source":"8d0ee011857e6698.yaml","type":"application/yaml","size":978},{"uid":"823ec2d8560a2658","name":"rest_request","source":"823ec2d8560a2658.yaml","type":"application/yaml","size":145},{"uid":"1d1ded855f45b693","name":"rest_response","source":"1d1ded855f45b693.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"3f04701487c714da","name":"log","source":"3f04701487c714da.txt","type":"text/plain","size":57878}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dba8a419bd12"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"f93343b331cfca3e","status":"passed","time":{"start":1678221238201,"stop":1678221271041,"duration":32840}},{"uid":"5c22dd95b116e8f9","status":"passed","time":{"start":1678217548056,"stop":1678217580883,"duration":32827}},{"uid":"1af85ca214995f20","status":"passed","time":{"start":1676400281810,"stop":1676400330113,"duration":48303}},{"uid":"9a589c4d7544e9b5","status":"passed","time":{"start":1676325084137,"stop":1676325132098,"duration":47961}},{"uid":"51ef7ae4fc3c53","status":"passed","time":{"start":1674515134334,"stop":1674515151841,"duration":17507}},{"uid":"a58062c594158194","status":"passed","time":{"start":1674505250368,"stop":1674505267805,"duration":17437}},{"uid":"75b97c78a335c2f8","status":"passed","time":{"start":1674499817706,"stop":1674499835151,"duration":17445}},{"uid":"29c73c748f71fdab","status":"passed","time":{"start":1674257343358,"stop":1674257360807,"duration":17449}},{"uid":"dc6123d42ff8c88b","status":"passed","time":{"start":1674254775951,"stop":1674254839467,"duration":63516}},{"uid":"14460516f21fd40b","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080252242,"stop":1674080253345,"duration":1103}},{"uid":"7d8d664370cbe07c","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977327,"stop":1674074977361,"duration":34}},{"uid":"396884d66981d972","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074599879,"stop":1674074599908,"duration":29}}]},"tags":[]},"source":"5f50ea99dc3fdd5d.json","parameterValues":[]}