{"uid":"b153f7e2e27cba0d","name":"Verify transitions handles attempts to restart compute nodes that are powered off","fullName":"api.2-disruptive.test_transitions_restart.tavern#Verify transitions handles attempts to restart compute nodes that are powered off","historyId":"56e24dc1bd4f9403cc03a90e86c24062","time":{"start":1678225091194,"stop":1678225123887,"duration":32693},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678225091203,"stop":1678225091240,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"713d1e786ebee461","name":"stage_yaml","source":"713d1e786ebee461.yaml","type":"application/yaml","size":302},{"uid":"9a5bcefda5f88e04","name":"rest_request","source":"9a5bcefda5f88e04.yaml","type":"application/yaml","size":162},{"uid":"a31ed08dda1db237","name":"rest_response","source":"a31ed08dda1db237.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678225091241,"stop":1678225091254,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"46a90ecca4b095be","name":"stage_yaml","source":"46a90ecca4b095be.yaml","type":"application/yaml","size":797},{"uid":"33663f2df21b2b84","name":"rest_request","source":"33663f2df21b2b84.yaml","type":"application/yaml","size":216},{"uid":"20db10c30655e245","name":"rest_response","source":"20db10c30655e245.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678225091257,"stop":1678225122809,"duration":31552},"status":"passed","steps":[],"attachments":[{"uid":"aee9317faab6724c","name":"stage_yaml","source":"aee9317faab6724c.yaml","type":"application/yaml","size":682},{"uid":"94c01ea32a1a2970","name":"rest_request","source":"94c01ea32a1a2970.yaml","type":"application/yaml","size":161},{"uid":"c4d4d3061a50f52c","name":"rest_response","source":"c4d4d3061a50f52c.yaml","type":"application/yaml","size":587},{"uid":"b1eb096474941616","name":"stage_yaml","source":"b1eb096474941616.yaml","type":"application/yaml","size":682},{"uid":"8813c3eb2bed08df","name":"rest_request","source":"8813c3eb2bed08df.yaml","type":"application/yaml","size":161},{"uid":"9494890ec2a311f6","name":"rest_response","source":"9494890ec2a311f6.yaml","type":"application/yaml","size":608},{"uid":"2d4203aaf85c80e1","name":"stage_yaml","source":"2d4203aaf85c80e1.yaml","type":"application/yaml","size":682},{"uid":"4ac38380246bda6c","name":"rest_request","source":"4ac38380246bda6c.yaml","type":"application/yaml","size":161},{"uid":"c9a396e3af995776","name":"rest_response","source":"c9a396e3af995776.yaml","type":"application/yaml","size":608},{"uid":"c60d51741f11e369","name":"stage_yaml","source":"c60d51741f11e369.yaml","type":"application/yaml","size":682},{"uid":"58518ad0a1393b4","name":"rest_request","source":"58518ad0a1393b4.yaml","type":"application/yaml","size":161},{"uid":"ebc4514098f81f07","name":"rest_response","source":"ebc4514098f81f07.yaml","type":"application/yaml","size":608},{"uid":"dcb1e0304b8cd642","name":"stage_yaml","source":"dcb1e0304b8cd642.yaml","type":"application/yaml","size":682},{"uid":"c799af9cda461103","name":"rest_request","source":"c799af9cda461103.yaml","type":"application/yaml","size":161},{"uid":"387d3f6abacb3c1","name":"rest_response","source":"387d3f6abacb3c1.yaml","type":"application/yaml","size":608},{"uid":"452798dd1452e45d","name":"stage_yaml","source":"452798dd1452e45d.yaml","type":"application/yaml","size":682},{"uid":"15d98a321d2a30c0","name":"rest_request","source":"15d98a321d2a30c0.yaml","type":"application/yaml","size":161},{"uid":"146e21d553756317","name":"rest_response","source":"146e21d553756317.yaml","type":"application/yaml","size":608},{"uid":"82cc81043faa88ca","name":"stage_yaml","source":"82cc81043faa88ca.yaml","type":"application/yaml","size":682},{"uid":"9297eb072b94ff6e","name":"rest_request","source":"9297eb072b94ff6e.yaml","type":"application/yaml","size":161},{"uid":"d7a45a148acaf51d","name":"rest_response","source":"d7a45a148acaf51d.yaml","type":"application/yaml","size":608},{"uid":"352897e621615527","name":"stage_yaml","source":"352897e621615527.yaml","type":"application/yaml","size":682},{"uid":"ca259eca58ca1443","name":"rest_request","source":"ca259eca58ca1443.yaml","type":"application/yaml","size":161},{"uid":"a41143cd364273b8","name":"rest_response","source":"a41143cd364273b8.yaml","type":"application/yaml","size":608},{"uid":"600568975a9dbc58","name":"stage_yaml","source":"600568975a9dbc58.yaml","type":"application/yaml","size":682},{"uid":"481c875896135d0a","name":"rest_request","source":"481c875896135d0a.yaml","type":"application/yaml","size":161},{"uid":"5a2c5040e290d835","name":"rest_response","source":"5a2c5040e290d835.yaml","type":"application/yaml","size":608},{"uid":"3c26732af0f04016","name":"stage_yaml","source":"3c26732af0f04016.yaml","type":"application/yaml","size":682},{"uid":"f2e25bc3ebaa3748","name":"rest_request","source":"f2e25bc3ebaa3748.yaml","type":"application/yaml","size":161},{"uid":"5b2d97da743bbebe","name":"rest_response","source":"5b2d97da743bbebe.yaml","type":"application/yaml","size":608},{"uid":"692b7cfe53bad557","name":"stage_yaml","source":"692b7cfe53bad557.yaml","type":"application/yaml","size":682},{"uid":"c128a93d12346df1","name":"rest_request","source":"c128a93d12346df1.yaml","type":"application/yaml","size":161},{"uid":"ac8e8239136735b8","name":"rest_response","source":"ac8e8239136735b8.yaml","type":"application/yaml","size":608},{"uid":"e3a0cfc5c999ef39","name":"stage_yaml","source":"e3a0cfc5c999ef39.yaml","type":"application/yaml","size":682},{"uid":"fc1d68f04d5c71ca","name":"rest_request","source":"fc1d68f04d5c71ca.yaml","type":"application/yaml","size":161},{"uid":"99178ac5dec172aa","name":"rest_response","source":"99178ac5dec172aa.yaml","type":"application/yaml","size":608},{"uid":"aa635826883fe403","name":"stage_yaml","source":"aa635826883fe403.yaml","type":"application/yaml","size":682},{"uid":"aaf01e3bf493ea28","name":"rest_request","source":"aaf01e3bf493ea28.yaml","type":"application/yaml","size":161},{"uid":"85b20f15fef104e6","name":"rest_response","source":"85b20f15fef104e6.yaml","type":"application/yaml","size":608},{"uid":"75f0960b363f84d1","name":"stage_yaml","source":"75f0960b363f84d1.yaml","type":"application/yaml","size":682},{"uid":"61a88ab6c722c79f","name":"rest_request","source":"61a88ab6c722c79f.yaml","type":"application/yaml","size":161},{"uid":"e2b4c3c9aca6fcef","name":"rest_response","source":"e2b4c3c9aca6fcef.yaml","type":"application/yaml","size":608},{"uid":"117c8a509576dd64","name":"stage_yaml","source":"117c8a509576dd64.yaml","type":"application/yaml","size":682},{"uid":"d87609e8d78ce703","name":"rest_request","source":"d87609e8d78ce703.yaml","type":"application/yaml","size":161},{"uid":"9d70b80a8de08217","name":"rest_response","source":"9d70b80a8de08217.yaml","type":"application/yaml","size":608},{"uid":"7913671fbfa9baf","name":"stage_yaml","source":"7913671fbfa9baf.yaml","type":"application/yaml","size":682},{"uid":"e048acd50740f6b9","name":"rest_request","source":"e048acd50740f6b9.yaml","type":"application/yaml","size":161},{"uid":"f2498203f78db315","name":"rest_response","source":"f2498203f78db315.yaml","type":"application/yaml","size":608},{"uid":"ad7ae88092ee26c5","name":"stage_yaml","source":"ad7ae88092ee26c5.yaml","type":"application/yaml","size":682},{"uid":"4c8a3fbd1d00659b","name":"rest_request","source":"4c8a3fbd1d00659b.yaml","type":"application/yaml","size":161},{"uid":"c3199ad9c3bc36a6","name":"rest_response","source":"c3199ad9c3bc36a6.yaml","type":"application/yaml","size":608},{"uid":"5dee9437dfb2f9e1","name":"stage_yaml","source":"5dee9437dfb2f9e1.yaml","type":"application/yaml","size":682},{"uid":"5078c6b2f1afb028","name":"rest_request","source":"5078c6b2f1afb028.yaml","type":"application/yaml","size":161},{"uid":"80034e41f8b32f11","name":"rest_response","source":"80034e41f8b32f11.yaml","type":"application/yaml","size":608},{"uid":"d8095a31010ac5ba","name":"stage_yaml","source":"d8095a31010ac5ba.yaml","type":"application/yaml","size":682},{"uid":"cf97953c809c552c","name":"rest_request","source":"cf97953c809c552c.yaml","type":"application/yaml","size":161},{"uid":"f22ca23bb7336cf5","name":"rest_response","source":"f22ca23bb7336cf5.yaml","type":"application/yaml","size":608},{"uid":"a221df5b88518051","name":"stage_yaml","source":"a221df5b88518051.yaml","type":"application/yaml","size":682},{"uid":"7dbd1fe821c6761c","name":"rest_request","source":"7dbd1fe821c6761c.yaml","type":"application/yaml","size":161},{"uid":"2011e31342740872","name":"rest_response","source":"2011e31342740872.yaml","type":"application/yaml","size":608},{"uid":"e0680395562c7a64","name":"stage_yaml","source":"e0680395562c7a64.yaml","type":"application/yaml","size":682},{"uid":"8ebf3da3e5e9266e","name":"rest_request","source":"8ebf3da3e5e9266e.yaml","type":"application/yaml","size":161},{"uid":"2123fe819b70c1d8","name":"rest_response","source":"2123fe819b70c1d8.yaml","type":"application/yaml","size":608},{"uid":"331e98352db5dfe5","name":"stage_yaml","source":"331e98352db5dfe5.yaml","type":"application/yaml","size":682},{"uid":"ed15cf9bf35ff03c","name":"rest_request","source":"ed15cf9bf35ff03c.yaml","type":"application/yaml","size":161},{"uid":"9b30d7b2c9db2429","name":"rest_response","source":"9b30d7b2c9db2429.yaml","type":"application/yaml","size":608},{"uid":"6406e9633b39c887","name":"stage_yaml","source":"6406e9633b39c887.yaml","type":"application/yaml","size":682},{"uid":"337ebfc61545041c","name":"rest_request","source":"337ebfc61545041c.yaml","type":"application/yaml","size":161},{"uid":"24a3ffcb296b5a05","name":"rest_response","source":"24a3ffcb296b5a05.yaml","type":"application/yaml","size":608},{"uid":"11b623d21267d6d","name":"stage_yaml","source":"11b623d21267d6d.yaml","type":"application/yaml","size":682},{"uid":"33740381502e5a78","name":"rest_request","source":"33740381502e5a78.yaml","type":"application/yaml","size":161},{"uid":"e39fab6dc3cddad2","name":"rest_response","source":"e39fab6dc3cddad2.yaml","type":"application/yaml","size":608},{"uid":"6be57d51d82c0eb6","name":"stage_yaml","source":"6be57d51d82c0eb6.yaml","type":"application/yaml","size":682},{"uid":"7a10cfebf37ea8d1","name":"rest_request","source":"7a10cfebf37ea8d1.yaml","type":"application/yaml","size":161},{"uid":"753bce74d014c37b","name":"rest_response","source":"753bce74d014c37b.yaml","type":"application/yaml","size":608},{"uid":"bd2b344629fa1bbe","name":"stage_yaml","source":"bd2b344629fa1bbe.yaml","type":"application/yaml","size":682},{"uid":"f6fd747fa2cbdc8f","name":"rest_request","source":"f6fd747fa2cbdc8f.yaml","type":"application/yaml","size":161},{"uid":"ddd56ba4339cb873","name":"rest_response","source":"ddd56ba4339cb873.yaml","type":"application/yaml","size":608},{"uid":"3322bc5b5fb0f702","name":"stage_yaml","source":"3322bc5b5fb0f702.yaml","type":"application/yaml","size":682},{"uid":"839bbbeeb9ce479f","name":"rest_request","source":"839bbbeeb9ce479f.yaml","type":"application/yaml","size":161},{"uid":"76f1e0136edd7a63","name":"rest_response","source":"76f1e0136edd7a63.yaml","type":"application/yaml","size":608},{"uid":"54c081b76da9200a","name":"stage_yaml","source":"54c081b76da9200a.yaml","type":"application/yaml","size":682},{"uid":"fc45dfdda04f8c0f","name":"rest_request","source":"fc45dfdda04f8c0f.yaml","type":"application/yaml","size":161},{"uid":"d0a012d55caf7694","name":"rest_response","source":"d0a012d55caf7694.yaml","type":"application/yaml","size":608},{"uid":"4c61aefd76f86110","name":"stage_yaml","source":"4c61aefd76f86110.yaml","type":"application/yaml","size":682},{"uid":"fc89eb7744a2f54c","name":"rest_request","source":"fc89eb7744a2f54c.yaml","type":"application/yaml","size":161},{"uid":"85d9e64fc849b5f","name":"rest_response","source":"85d9e64fc849b5f.yaml","type":"application/yaml","size":608},{"uid":"2c79978339948004","name":"stage_yaml","source":"2c79978339948004.yaml","type":"application/yaml","size":682},{"uid":"bc200090053d66cf","name":"rest_request","source":"bc200090053d66cf.yaml","type":"application/yaml","size":161},{"uid":"ac2643e96d54f5c3","name":"rest_response","source":"ac2643e96d54f5c3.yaml","type":"application/yaml","size":608},{"uid":"3c3e49056e7deef8","name":"stage_yaml","source":"3c3e49056e7deef8.yaml","type":"application/yaml","size":682},{"uid":"5ff75b470f84e8ce","name":"rest_request","source":"5ff75b470f84e8ce.yaml","type":"application/yaml","size":161},{"uid":"19f14c1ebbd2b4c8","name":"rest_response","source":"19f14c1ebbd2b4c8.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed force-off transition data","time":{"start":1678225122810,"stop":1678225122827,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"c72ae69300659115","name":"stage_yaml","source":"c72ae69300659115.yaml","type":"application/yaml","size":2395},{"uid":"88fc2db67b13e17f","name":"rest_request","source":"88fc2db67b13e17f.yaml","type":"application/yaml","size":161},{"uid":"5cc056261faa3195","name":"rest_response","source":"5cc056261faa3195.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678225122828,"stop":1678225122840,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"e029fc0add816eee","name":"stage_yaml","source":"e029fc0add816eee.yaml","type":"application/yaml","size":978},{"uid":"79282ae1270f7ffe","name":"rest_request","source":"79282ae1270f7ffe.yaml","type":"application/yaml","size":145},{"uid":"6e8bc6ec6fd0f49d","name":"rest_response","source":"6e8bc6ec6fd0f49d.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Attempt to restart the target node with a hard-restart transition","time":{"start":1678225122841,"stop":1678225122853,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"17d77d1b32271f1e","name":"stage_yaml","source":"17d77d1b32271f1e.yaml","type":"application/yaml","size":816},{"uid":"4a1cbbf9da310ab5","name":"rest_request","source":"4a1cbbf9da310ab5.yaml","type":"application/yaml","size":219},{"uid":"567b50d6526d87d6","name":"rest_response","source":"567b50d6526d87d6.yaml","type":"application/yaml","size":295}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the hard-restart transition operation has completed","time":{"start":1678225122855,"stop":1678225123869,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"a49fd464986a1568","name":"stage_yaml","source":"a49fd464986a1568.yaml","type":"application/yaml","size":693},{"uid":"87f4fb6632379290","name":"rest_request","source":"87f4fb6632379290.yaml","type":"application/yaml","size":161},{"uid":"70e20e86059e9136","name":"rest_response","source":"70e20e86059e9136.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed hard-restart transition data","time":{"start":1678225123870,"stop":1678225123887,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"d02cc6e96f0eba44","name":"stage_yaml","source":"d02cc6e96f0eba44.yaml","type":"application/yaml","size":2549},{"uid":"9ee39a6977d54955","name":"rest_request","source":"9ee39a6977d54955.yaml","type":"application/yaml","size":161},{"uid":"ee570436536f57c1","name":"rest_response","source":"ee570436536f57c1.yaml","type":"application/yaml","size":661}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"9b6d9503f93fe3f2","name":"log","source":"9b6d9503f93fe3f2.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":8,"attachmentsCount":115,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dba8a419bd12"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_restart.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"dc8fd356d052cce7","status":"passed","time":{"start":1678221694015,"stop":1678221711413,"duration":17398}},{"uid":"490eb662446c55b7","status":"passed","time":{"start":1678218003870,"stop":1678218037523,"duration":33653}},{"uid":"6d291a0e4ef384a2","status":"passed","time":{"start":1676400847279,"stop":1676400880180,"duration":32901}},{"uid":"487cfda790237fd9","status":"passed","time":{"start":1676325617086,"stop":1676325650758,"duration":33672}},{"uid":"e2bf4ff70f030fbd","status":"passed","time":{"start":1674515574170,"stop":1674515576315,"duration":2145}},{"uid":"ac2c2c43995e5b5d","status":"passed","time":{"start":1674505690917,"stop":1674505723638,"duration":32721}},{"uid":"e465f9b1ebf7fc5f","status":"passed","time":{"start":1674500319095,"stop":1674500351749,"duration":32654}},{"uid":"f3f1f42e434c66e6","status":"passed","time":{"start":1674257814137,"stop":1674257846813,"duration":32676}},{"uid":"89f3a5ffdf236413","status":"passed","time":{"start":1674255264575,"stop":1674255297412,"duration":32837}},{"uid":"8d8f1724188849cb","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080262851,"stop":1674080262890,"duration":39}},{"uid":"63766b707ffc90e1","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977989,"stop":1674074978018,"duration":29}},{"uid":"ef814c26c444c457","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600425,"stop":1674074600449,"duration":24}}]},"tags":[]},"source":"b153f7e2e27cba0d.json","parameterValues":[]}