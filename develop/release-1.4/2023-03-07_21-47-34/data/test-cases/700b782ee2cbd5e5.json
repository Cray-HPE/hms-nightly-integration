{"uid":"700b782ee2cbd5e5","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1678224964646,"stop":1678224997328,"duration":32682},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678224964655,"stop":1678224964692,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"d1c22812b676ae05","name":"stage_yaml","source":"d1c22812b676ae05.yaml","type":"application/yaml","size":302},{"uid":"33eb11e6e53dcdc2","name":"rest_request","source":"33eb11e6e53dcdc2.yaml","type":"application/yaml","size":162},{"uid":"5929edb514cc7b77","name":"rest_response","source":"5929edb514cc7b77.yaml","type":"application/yaml","size":5774}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678224964693,"stop":1678224964706,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"e35654eb0e6bba9c","name":"stage_yaml","source":"e35654eb0e6bba9c.yaml","type":"application/yaml","size":797},{"uid":"f53d025c6c018219","name":"rest_request","source":"f53d025c6c018219.yaml","type":"application/yaml","size":216},{"uid":"81d8eb438466c73e","name":"rest_response","source":"81d8eb438466c73e.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1678224964708,"stop":1678224996223,"duration":31515},"status":"passed","steps":[],"attachments":[{"uid":"baeb68aa63ffa1b2","name":"stage_yaml","source":"baeb68aa63ffa1b2.yaml","type":"application/yaml","size":682},{"uid":"a48d5e63a78d8de2","name":"rest_request","source":"a48d5e63a78d8de2.yaml","type":"application/yaml","size":161},{"uid":"3402a8de8b636dea","name":"rest_response","source":"3402a8de8b636dea.yaml","type":"application/yaml","size":587},{"uid":"f45dca82519b1fc9","name":"stage_yaml","source":"f45dca82519b1fc9.yaml","type":"application/yaml","size":682},{"uid":"bdf165db06181cf4","name":"rest_request","source":"bdf165db06181cf4.yaml","type":"application/yaml","size":161},{"uid":"8446d154af2e33f3","name":"rest_response","source":"8446d154af2e33f3.yaml","type":"application/yaml","size":608},{"uid":"1f04f81f036ed378","name":"stage_yaml","source":"1f04f81f036ed378.yaml","type":"application/yaml","size":682},{"uid":"36bd54c9ced18925","name":"rest_request","source":"36bd54c9ced18925.yaml","type":"application/yaml","size":161},{"uid":"deb8552566ad9c1d","name":"rest_response","source":"deb8552566ad9c1d.yaml","type":"application/yaml","size":608},{"uid":"e1172da4d0bc0eb3","name":"stage_yaml","source":"e1172da4d0bc0eb3.yaml","type":"application/yaml","size":682},{"uid":"da5f372ad45450c0","name":"rest_request","source":"da5f372ad45450c0.yaml","type":"application/yaml","size":161},{"uid":"33d3652041701902","name":"rest_response","source":"33d3652041701902.yaml","type":"application/yaml","size":608},{"uid":"6eb5271adfcd1009","name":"stage_yaml","source":"6eb5271adfcd1009.yaml","type":"application/yaml","size":682},{"uid":"d5f8e0ec33ce1346","name":"rest_request","source":"d5f8e0ec33ce1346.yaml","type":"application/yaml","size":161},{"uid":"113ae795179373e","name":"rest_response","source":"113ae795179373e.yaml","type":"application/yaml","size":608},{"uid":"f6384ccf3d4cdd56","name":"stage_yaml","source":"f6384ccf3d4cdd56.yaml","type":"application/yaml","size":682},{"uid":"8591fa8f5b6451ea","name":"rest_request","source":"8591fa8f5b6451ea.yaml","type":"application/yaml","size":161},{"uid":"72e6162387a24396","name":"rest_response","source":"72e6162387a24396.yaml","type":"application/yaml","size":608},{"uid":"2c807933d7a234c8","name":"stage_yaml","source":"2c807933d7a234c8.yaml","type":"application/yaml","size":682},{"uid":"8583c7fc68d0f396","name":"rest_request","source":"8583c7fc68d0f396.yaml","type":"application/yaml","size":161},{"uid":"b97ed4400b02b127","name":"rest_response","source":"b97ed4400b02b127.yaml","type":"application/yaml","size":608},{"uid":"65cf75850195ce4c","name":"stage_yaml","source":"65cf75850195ce4c.yaml","type":"application/yaml","size":682},{"uid":"6191bd71f628a802","name":"rest_request","source":"6191bd71f628a802.yaml","type":"application/yaml","size":161},{"uid":"ca00553857adf18f","name":"rest_response","source":"ca00553857adf18f.yaml","type":"application/yaml","size":608},{"uid":"a52152e792bf72e9","name":"stage_yaml","source":"a52152e792bf72e9.yaml","type":"application/yaml","size":682},{"uid":"5325266030d141da","name":"rest_request","source":"5325266030d141da.yaml","type":"application/yaml","size":161},{"uid":"dd4732aadcb8d649","name":"rest_response","source":"dd4732aadcb8d649.yaml","type":"application/yaml","size":608},{"uid":"45daf2a85949375e","name":"stage_yaml","source":"45daf2a85949375e.yaml","type":"application/yaml","size":682},{"uid":"d980c2f55ff0287","name":"rest_request","source":"d980c2f55ff0287.yaml","type":"application/yaml","size":161},{"uid":"d3bd9e56ab539dcd","name":"rest_response","source":"d3bd9e56ab539dcd.yaml","type":"application/yaml","size":608},{"uid":"d5123ffff20f5c2b","name":"stage_yaml","source":"d5123ffff20f5c2b.yaml","type":"application/yaml","size":682},{"uid":"dbf74e846aaeee4a","name":"rest_request","source":"dbf74e846aaeee4a.yaml","type":"application/yaml","size":161},{"uid":"9b074ee541934507","name":"rest_response","source":"9b074ee541934507.yaml","type":"application/yaml","size":608},{"uid":"64eccfcde8a8351d","name":"stage_yaml","source":"64eccfcde8a8351d.yaml","type":"application/yaml","size":682},{"uid":"d344fd25974aacc2","name":"rest_request","source":"d344fd25974aacc2.yaml","type":"application/yaml","size":161},{"uid":"94c1fbf3bcdc3b38","name":"rest_response","source":"94c1fbf3bcdc3b38.yaml","type":"application/yaml","size":608},{"uid":"876f7ea82a7225d8","name":"stage_yaml","source":"876f7ea82a7225d8.yaml","type":"application/yaml","size":682},{"uid":"e15fce106a399869","name":"rest_request","source":"e15fce106a399869.yaml","type":"application/yaml","size":161},{"uid":"3ae495427c3946ea","name":"rest_response","source":"3ae495427c3946ea.yaml","type":"application/yaml","size":608},{"uid":"beb2e11377f731e","name":"stage_yaml","source":"beb2e11377f731e.yaml","type":"application/yaml","size":682},{"uid":"3804c026e8701a50","name":"rest_request","source":"3804c026e8701a50.yaml","type":"application/yaml","size":161},{"uid":"618f7fcb786709b7","name":"rest_response","source":"618f7fcb786709b7.yaml","type":"application/yaml","size":608},{"uid":"ecd22cf9ca36b10b","name":"stage_yaml","source":"ecd22cf9ca36b10b.yaml","type":"application/yaml","size":682},{"uid":"1c6e184d77b4e4b7","name":"rest_request","source":"1c6e184d77b4e4b7.yaml","type":"application/yaml","size":161},{"uid":"f3577e9a81cc9f3e","name":"rest_response","source":"f3577e9a81cc9f3e.yaml","type":"application/yaml","size":608},{"uid":"4d148d343e13346c","name":"stage_yaml","source":"4d148d343e13346c.yaml","type":"application/yaml","size":682},{"uid":"4c53473046450d43","name":"rest_request","source":"4c53473046450d43.yaml","type":"application/yaml","size":161},{"uid":"f8be5cf3ffae4adb","name":"rest_response","source":"f8be5cf3ffae4adb.yaml","type":"application/yaml","size":608},{"uid":"8ab19ea080e71f94","name":"stage_yaml","source":"8ab19ea080e71f94.yaml","type":"application/yaml","size":682},{"uid":"b6c6d65ac9551d3c","name":"rest_request","source":"b6c6d65ac9551d3c.yaml","type":"application/yaml","size":161},{"uid":"83bd6bddae51d717","name":"rest_response","source":"83bd6bddae51d717.yaml","type":"application/yaml","size":608},{"uid":"301f64ba70d07e5b","name":"stage_yaml","source":"301f64ba70d07e5b.yaml","type":"application/yaml","size":682},{"uid":"ab9f42d51a50760b","name":"rest_request","source":"ab9f42d51a50760b.yaml","type":"application/yaml","size":161},{"uid":"5ef9e616751b138a","name":"rest_response","source":"5ef9e616751b138a.yaml","type":"application/yaml","size":608},{"uid":"64404ebb79f3cb3c","name":"stage_yaml","source":"64404ebb79f3cb3c.yaml","type":"application/yaml","size":682},{"uid":"7c6a51e3392015b5","name":"rest_request","source":"7c6a51e3392015b5.yaml","type":"application/yaml","size":161},{"uid":"1ed4d39c0c7283e5","name":"rest_response","source":"1ed4d39c0c7283e5.yaml","type":"application/yaml","size":608},{"uid":"7ce0be1fce33bb95","name":"stage_yaml","source":"7ce0be1fce33bb95.yaml","type":"application/yaml","size":682},{"uid":"8b55103566efbd87","name":"rest_request","source":"8b55103566efbd87.yaml","type":"application/yaml","size":161},{"uid":"1f3db2aa7d8c1b2e","name":"rest_response","source":"1f3db2aa7d8c1b2e.yaml","type":"application/yaml","size":608},{"uid":"4d3f953654d803eb","name":"stage_yaml","source":"4d3f953654d803eb.yaml","type":"application/yaml","size":682},{"uid":"89fd256bf32b0efd","name":"rest_request","source":"89fd256bf32b0efd.yaml","type":"application/yaml","size":161},{"uid":"e52a966f39a55e50","name":"rest_response","source":"e52a966f39a55e50.yaml","type":"application/yaml","size":608},{"uid":"b1e2cbac0e679955","name":"stage_yaml","source":"b1e2cbac0e679955.yaml","type":"application/yaml","size":682},{"uid":"23e898c02b971a46","name":"rest_request","source":"23e898c02b971a46.yaml","type":"application/yaml","size":161},{"uid":"eed562301d51a97b","name":"rest_response","source":"eed562301d51a97b.yaml","type":"application/yaml","size":608},{"uid":"cdc83dbbb1510d9","name":"stage_yaml","source":"cdc83dbbb1510d9.yaml","type":"application/yaml","size":682},{"uid":"99708b17a554189f","name":"rest_request","source":"99708b17a554189f.yaml","type":"application/yaml","size":161},{"uid":"295d18b24c234f8","name":"rest_response","source":"295d18b24c234f8.yaml","type":"application/yaml","size":608},{"uid":"1cceda20d2c46231","name":"stage_yaml","source":"1cceda20d2c46231.yaml","type":"application/yaml","size":682},{"uid":"158477d9e1613a0d","name":"rest_request","source":"158477d9e1613a0d.yaml","type":"application/yaml","size":161},{"uid":"65df9237f59575e0","name":"rest_response","source":"65df9237f59575e0.yaml","type":"application/yaml","size":608},{"uid":"10a9d191df31e458","name":"stage_yaml","source":"10a9d191df31e458.yaml","type":"application/yaml","size":682},{"uid":"675b4e6cc8c0b0b2","name":"rest_request","source":"675b4e6cc8c0b0b2.yaml","type":"application/yaml","size":161},{"uid":"d3c0b6e4d7b3604b","name":"rest_response","source":"d3c0b6e4d7b3604b.yaml","type":"application/yaml","size":608},{"uid":"a6a9d8703cebeacd","name":"stage_yaml","source":"a6a9d8703cebeacd.yaml","type":"application/yaml","size":682},{"uid":"7aa137ffabb9fc5f","name":"rest_request","source":"7aa137ffabb9fc5f.yaml","type":"application/yaml","size":161},{"uid":"8a68dfcfb62838f4","name":"rest_response","source":"8a68dfcfb62838f4.yaml","type":"application/yaml","size":608},{"uid":"b2613cd200fee4aa","name":"stage_yaml","source":"b2613cd200fee4aa.yaml","type":"application/yaml","size":682},{"uid":"13732feedf59a668","name":"rest_request","source":"13732feedf59a668.yaml","type":"application/yaml","size":161},{"uid":"dde28702ed9e5202","name":"rest_response","source":"dde28702ed9e5202.yaml","type":"application/yaml","size":608},{"uid":"e3c27233b1819679","name":"stage_yaml","source":"e3c27233b1819679.yaml","type":"application/yaml","size":682},{"uid":"c20fb875e0c87ef5","name":"rest_request","source":"c20fb875e0c87ef5.yaml","type":"application/yaml","size":161},{"uid":"7f5b78e23debbad2","name":"rest_response","source":"7f5b78e23debbad2.yaml","type":"application/yaml","size":608},{"uid":"9058aa6ee9806215","name":"stage_yaml","source":"9058aa6ee9806215.yaml","type":"application/yaml","size":682},{"uid":"583131b4863ecd7b","name":"rest_request","source":"583131b4863ecd7b.yaml","type":"application/yaml","size":161},{"uid":"73209307260dcae","name":"rest_response","source":"73209307260dcae.yaml","type":"application/yaml","size":608},{"uid":"c370ab394cb9df1","name":"stage_yaml","source":"c370ab394cb9df1.yaml","type":"application/yaml","size":682},{"uid":"fb05067834dae883","name":"rest_request","source":"fb05067834dae883.yaml","type":"application/yaml","size":161},{"uid":"8873b5f23f8c1ea1","name":"rest_response","source":"8873b5f23f8c1ea1.yaml","type":"application/yaml","size":608},{"uid":"eb92f61e0e431481","name":"stage_yaml","source":"eb92f61e0e431481.yaml","type":"application/yaml","size":682},{"uid":"dd2855556d7a2054","name":"rest_request","source":"dd2855556d7a2054.yaml","type":"application/yaml","size":161},{"uid":"e793590a527b14b3","name":"rest_response","source":"e793590a527b14b3.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1678224996224,"stop":1678224996239,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"95282d355f5ea2e8","name":"stage_yaml","source":"95282d355f5ea2e8.yaml","type":"application/yaml","size":2389},{"uid":"7ea069d9ff36214f","name":"rest_request","source":"7ea069d9ff36214f.yaml","type":"application/yaml","size":161},{"uid":"a7e004c920effaac","name":"rest_response","source":"a7e004c920effaac.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678224996240,"stop":1678224996252,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"ff8d275d915df648","name":"stage_yaml","source":"ff8d275d915df648.yaml","type":"application/yaml","size":978},{"uid":"fb0b69d222fd433e","name":"rest_request","source":"fb0b69d222fd433e.yaml","type":"application/yaml","size":145},{"uid":"1b1879fe24d4a572","name":"rest_response","source":"1b1879fe24d4a572.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1678224996253,"stop":1678224996266,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"a035174ab65e948b","name":"stage_yaml","source":"a035174ab65e948b.yaml","type":"application/yaml","size":763},{"uid":"7563b2a5a253755f","name":"rest_request","source":"7563b2a5a253755f.yaml","type":"application/yaml","size":211},{"uid":"6f7abde241dc24d5","name":"rest_response","source":"6f7abde241dc24d5.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1678224996268,"stop":1678224996282,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"5680c444997eae57","name":"stage_yaml","source":"5680c444997eae57.yaml","type":"application/yaml","size":534},{"uid":"bbb33a87dc4f5495","name":"rest_request","source":"bbb33a87dc4f5495.yaml","type":"application/yaml","size":164},{"uid":"46e345e2b8f6f692","name":"rest_response","source":"46e345e2b8f6f692.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1678224996288,"stop":1678224997311,"duration":1023},"status":"passed","steps":[],"attachments":[{"uid":"40799e759480aafb","name":"stage_yaml","source":"40799e759480aafb.yaml","type":"application/yaml","size":703},{"uid":"b49a766460e7146f","name":"rest_request","source":"b49a766460e7146f.yaml","type":"application/yaml","size":161},{"uid":"ca1749ab0661c5ae","name":"rest_response","source":"ca1749ab0661c5ae.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1678224997312,"stop":1678224997328,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"44796e5ab16f9c7d","name":"stage_yaml","source":"44796e5ab16f9c7d.yaml","type":"application/yaml","size":2481},{"uid":"3c7da6240ec43604","name":"rest_request","source":"3c7da6240ec43604.yaml","type":"application/yaml","size":161},{"uid":"79052dacc7b7e4ce","name":"rest_response","source":"79052dacc7b7e4ce.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"b3c4a8004e126e43","name":"log","source":"b3c4a8004e126e43.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dba8a419bd12"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"b7f56e7db2e1c0a8","status":"passed","time":{"start":1678221598062,"stop":1678221630761,"duration":32699}},{"uid":"7ec2fcfe2c6cd2fe","status":"passed","time":{"start":1678217907866,"stop":1678217940574,"duration":32708}},{"uid":"92a0341aa609975b","status":"passed","time":{"start":1676400721652,"stop":1676400739246,"duration":17594}},{"uid":"40b2ef1f6b425f11","status":"passed","time":{"start":1676325491337,"stop":1676325524186,"duration":32849}},{"uid":"811fca76fbd6ef66","status":"passed","time":{"start":1674515478327,"stop":1674515480517,"duration":2190}},{"uid":"581553a55830abee","status":"passed","time":{"start":1674505594923,"stop":1674505627619,"duration":32696}},{"uid":"b7652eeb396ac6df","status":"passed","time":{"start":1674500192649,"stop":1674500225333,"duration":32684}},{"uid":"be0332c5a369daf0","status":"passed","time":{"start":1674257688409,"stop":1674257721210,"duration":32801}},{"uid":"5caf77cfa70d0722","status":"passed","time":{"start":1674255184100,"stop":1674255186375,"duration":2275}},{"uid":"f65957d67d0c7638","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080261298,"stop":1674080261337,"duration":39}},{"uid":"1a5f1976e1434678","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977875,"stop":1674074977907,"duration":32}},{"uid":"ce8f9d7dcc0d543","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074600333,"stop":1674074600359,"duration":26}}]},"tags":[]},"source":"700b782ee2cbd5e5.json","parameterValues":[]}