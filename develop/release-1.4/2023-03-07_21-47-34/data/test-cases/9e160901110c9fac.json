{"uid":"9e160901110c9fac","name":"Verify transitions keeps power off for a compute node that is already powered off","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions keeps power off for a compute node that is already powered off","historyId":"1bc13393dc3132b41c9a2fe96b3c9416","time":{"start":1678224667051,"stop":1678224669234,"duration":2183},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1678224667062,"stop":1678224667111,"duration":49},"status":"passed","steps":[],"attachments":[{"uid":"ade306b81f06265b","name":"stage_yaml","source":"ade306b81f06265b.yaml","type":"application/yaml","size":302},{"uid":"cd334e2e6c91a48","name":"rest_request","source":"cd334e2e6c91a48.yaml","type":"application/yaml","size":162},{"uid":"38d9290afbdc859f","name":"rest_response","source":"38d9290afbdc859f.yaml","type":"application/yaml","size":5775}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1678224667112,"stop":1678224667124,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"5541f96f9b9cfed3","name":"stage_yaml","source":"5541f96f9b9cfed3.yaml","type":"application/yaml","size":797},{"uid":"c289e12aa156f758","name":"rest_request","source":"c289e12aa156f758.yaml","type":"application/yaml","size":216},{"uid":"e7d560b5ca14594a","name":"rest_response","source":"e7d560b5ca14594a.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the initial force-off transition operation has completed","time":{"start":1678224667126,"stop":1678224668140,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"212fe6f22e013f8f","name":"stage_yaml","source":"212fe6f22e013f8f.yaml","type":"application/yaml","size":690},{"uid":"5ee5f2f427f2e232","name":"rest_request","source":"5ee5f2f427f2e232.yaml","type":"application/yaml","size":161},{"uid":"69c7032f545296b5","name":"rest_response","source":"69c7032f545296b5.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the data for the completed initial off transition","time":{"start":1678224668141,"stop":1678224668157,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"7f77ee2c8371fa22","name":"stage_yaml","source":"7f77ee2c8371fa22.yaml","type":"application/yaml","size":2405},{"uid":"a03d0595d46f64c5","name":"rest_request","source":"a03d0595d46f64c5.yaml","type":"application/yaml","size":161},{"uid":"10b5848b20292e0b","name":"rest_response","source":"10b5848b20292e0b.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1678224668158,"stop":1678224668173,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"c19c63806a2a1b33","name":"stage_yaml","source":"c19c63806a2a1b33.yaml","type":"application/yaml","size":978},{"uid":"f03f9b58a44419bb","name":"rest_request","source":"f03f9b58a44419bb.yaml","type":"application/yaml","size":145},{"uid":"82f913689741e961","name":"rest_response","source":"82f913689741e961.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue another force-off transition for the target node","time":{"start":1678224668174,"stop":1678224668187,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"72a1408ce1d36a88","name":"stage_yaml","source":"72a1408ce1d36a88.yaml","type":"application/yaml","size":796},{"uid":"7824b3912fb41c39","name":"rest_request","source":"7824b3912fb41c39.yaml","type":"application/yaml","size":216},{"uid":"e68d0846dcf5ecae","name":"rest_response","source":"e68d0846dcf5ecae.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the second force-off transition operation has completed","time":{"start":1678224668189,"stop":1678224669205,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"eabe1d3539847ad7","name":"stage_yaml","source":"eabe1d3539847ad7.yaml","type":"application/yaml","size":691},{"uid":"c371ed78c25a18d3","name":"rest_request","source":"c371ed78c25a18d3.yaml","type":"application/yaml","size":161},{"uid":"ef3a6ca6902338aa","name":"rest_response","source":"ef3a6ca6902338aa.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the data for the second completed force-off transition","time":{"start":1678224669206,"stop":1678224669221,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"bc0e72851093882","name":"stage_yaml","source":"bc0e72851093882.yaml","type":"application/yaml","size":2355},{"uid":"e1fe8c7965b1a1de","name":"rest_request","source":"e1fe8c7965b1a1de.yaml","type":"application/yaml","size":161},{"uid":"2a3955f54c287b91","name":"rest_response","source":"2a3955f54c287b91.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target node remained powered off using power-status","time":{"start":1678224669222,"stop":1678224669234,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"cd449aa150758b1a","name":"stage_yaml","source":"cd449aa150758b1a.yaml","type":"application/yaml","size":984},{"uid":"48b6ffb934afd34","name":"rest_request","source":"48b6ffb934afd34.yaml","type":"application/yaml","size":145},{"uid":"ebe443f66bf0b7c9","name":"rest_response","source":"ebe443f66bf0b7c9.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":9,"attachmentsCount":27,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dba8a419bd12"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"88b40d6716fda741","status":"passed","time":{"start":1678221271048,"stop":1678221288468,"duration":17420}},{"uid":"b681e513815f6d76","status":"passed","time":{"start":1678217580891,"stop":1678217613553,"duration":32662}},{"uid":"85ff74b7141d7ee6","status":"passed","time":{"start":1676400330124,"stop":1676400363168,"duration":33044}},{"uid":"3d623b6a5a01f2a6","status":"passed","time":{"start":1676325132108,"stop":1676325134293,"duration":2185}},{"uid":"5ec7da1a1d91c8a","status":"passed","time":{"start":1674515151846,"stop":1674515154002,"duration":2156}},{"uid":"c623d51c04162ad6","status":"passed","time":{"start":1674505267810,"stop":1674505269983,"duration":2173}},{"uid":"f93de3fc506b7f33","status":"passed","time":{"start":1674499835157,"stop":1674499837329,"duration":2172}},{"uid":"66978a349132f841","status":"passed","time":{"start":1674257360812,"stop":1674257362991,"duration":2179}},{"uid":"b21104f385af5ade","status":"passed","time":{"start":1674254839479,"stop":1674254841702,"duration":2223}},{"uid":"3e6dd229d002194a","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target node off to prepare it for the test case' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080253450,"stop":1674080253489,"duration":39}},{"uid":"f991ded276090da8","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074977376,"stop":1674074977408,"duration":32}},{"uid":"618a50f6fccb3535","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_force-off_task_deadline_minutes","time":{"start":1674074599920,"stop":1674074599946,"duration":26}}]},"tags":[]},"source":"9e160901110c9fac.json","parameterValues":[]}