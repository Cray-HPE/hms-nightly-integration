{"uid":"a2b6422c02448274","name":"Verify transitions powers off a ComputeModule that is powered on","fullName":"api.2-disruptive.test_transitions_off.tavern#Verify transitions powers off a ComputeModule that is powered on","historyId":"f1bb6e85db6771d7f52a9148f7e0fa62","time":{"start":1678224765113,"stop":1678224782500,"duration":17387},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a ComputeModule from HSM to be used in later stages","time":{"start":1678224765121,"stop":1678224765137,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"8ecd805625b72dd","name":"stage_yaml","source":"8ecd805625b72dd.yaml","type":"application/yaml","size":296},{"uid":"cd6bfa7e5794eb58","name":"rest_request","source":"cd6bfa7e5794eb58.yaml","type":"application/yaml","size":145},{"uid":"d4408ef08cac9258","name":"rest_response","source":"d4408ef08cac9258.yaml","type":"application/yaml","size":1311}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target ComputeModule on to prepare it for the test case","time":{"start":1678224765138,"stop":1678224765150,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"1d5b5f4cf2655aa","name":"stage_yaml","source":"1d5b5f4cf2655aa.yaml","type":"application/yaml","size":794},{"uid":"ab8397b9c5b0600d","name":"rest_request","source":"ab8397b9c5b0600d.yaml","type":"application/yaml","size":207},{"uid":"28a7ec37914d5a4c","name":"rest_response","source":"28a7ec37914d5a4c.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the on transition operation has completed","time":{"start":1678224765153,"stop":1678224766166,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"596d13aeb357317e","name":"stage_yaml","source":"596d13aeb357317e.yaml","type":"application/yaml","size":661},{"uid":"b96f9cb90fb026c3","name":"rest_request","source":"b96f9cb90fb026c3.yaml","type":"application/yaml","size":161},{"uid":"751efcea6def67c8","name":"rest_response","source":"751efcea6def67c8.yaml","type":"application/yaml","size":587}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed on transition data","time":{"start":1678224766167,"stop":1678224766182,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b147b1a56018f924","name":"stage_yaml","source":"b147b1a56018f924.yaml","type":"application/yaml","size":2385},{"uid":"1255899619ed6162","name":"rest_request","source":"1255899619ed6162.yaml","type":"application/yaml","size":161},{"uid":"c9b58bb7687289e6","name":"rest_response","source":"c9b58bb7687289e6.yaml","type":"application/yaml","size":587}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target ComputeModule is powered on using power-status","time":{"start":1678224766183,"stop":1678224766195,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"13cde03ce736c441","name":"stage_yaml","source":"13cde03ce736c441.yaml","type":"application/yaml","size":1005},{"uid":"15436fec56218c58","name":"rest_request","source":"15436fec56218c58.yaml","type":"application/yaml","size":141},{"uid":"c7af2cc6e1032559","name":"rest_response","source":"c7af2cc6e1032559.yaml","type":"application/yaml","size":433}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Power the target ComputeModule off with a force-off transition","time":{"start":1678224766196,"stop":1678224766210,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"55b845e264e438f7","name":"stage_yaml","source":"55b845e264e438f7.yaml","type":"application/yaml","size":814},{"uid":"ca9f166cd35a2af9","name":"rest_request","source":"ca9f166cd35a2af9.yaml","type":"application/yaml","size":212},{"uid":"a1a8fffdce831d60","name":"rest_response","source":"a1a8fffdce831d60.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Poll until the force-off transition operation has completed","time":{"start":1678224766212,"stop":1678224782467,"duration":16255},"status":"passed","steps":[],"attachments":[{"uid":"627d6b5fa10969fd","name":"stage_yaml","source":"627d6b5fa10969fd.yaml","type":"application/yaml","size":684},{"uid":"7cb24976ff3d129b","name":"rest_request","source":"7cb24976ff3d129b.yaml","type":"application/yaml","size":161},{"uid":"6a661c4b01789efa","name":"rest_response","source":"6a661c4b01789efa.yaml","type":"application/yaml","size":583},{"uid":"bed7fe232027a275","name":"stage_yaml","source":"bed7fe232027a275.yaml","type":"application/yaml","size":684},{"uid":"d1b87c4f7ab39038","name":"rest_request","source":"d1b87c4f7ab39038.yaml","type":"application/yaml","size":161},{"uid":"5ccf73de910b068a","name":"rest_response","source":"5ccf73de910b068a.yaml","type":"application/yaml","size":604},{"uid":"86c6f4b98d9ab0e4","name":"stage_yaml","source":"86c6f4b98d9ab0e4.yaml","type":"application/yaml","size":684},{"uid":"783c354ae170de20","name":"rest_request","source":"783c354ae170de20.yaml","type":"application/yaml","size":161},{"uid":"454eaf3161a7829b","name":"rest_response","source":"454eaf3161a7829b.yaml","type":"application/yaml","size":604},{"uid":"cd31495a038a66ee","name":"stage_yaml","source":"cd31495a038a66ee.yaml","type":"application/yaml","size":684},{"uid":"b1f240ee8871cb1b","name":"rest_request","source":"b1f240ee8871cb1b.yaml","type":"application/yaml","size":161},{"uid":"635a99a613c2e4d3","name":"rest_response","source":"635a99a613c2e4d3.yaml","type":"application/yaml","size":604},{"uid":"cf583dbb6e96384e","name":"stage_yaml","source":"cf583dbb6e96384e.yaml","type":"application/yaml","size":684},{"uid":"93779f2b641c03f9","name":"rest_request","source":"93779f2b641c03f9.yaml","type":"application/yaml","size":161},{"uid":"b2ec95076547644e","name":"rest_response","source":"b2ec95076547644e.yaml","type":"application/yaml","size":604},{"uid":"fbdb3e8e2b5fdaef","name":"stage_yaml","source":"fbdb3e8e2b5fdaef.yaml","type":"application/yaml","size":684},{"uid":"c241ca0ef79ceac7","name":"rest_request","source":"c241ca0ef79ceac7.yaml","type":"application/yaml","size":161},{"uid":"22defcf8910ff8bb","name":"rest_response","source":"22defcf8910ff8bb.yaml","type":"application/yaml","size":604},{"uid":"84601f19eca5c886","name":"stage_yaml","source":"84601f19eca5c886.yaml","type":"application/yaml","size":684},{"uid":"d73f9642da418312","name":"rest_request","source":"d73f9642da418312.yaml","type":"application/yaml","size":161},{"uid":"633824652f225ca7","name":"rest_response","source":"633824652f225ca7.yaml","type":"application/yaml","size":604},{"uid":"b7d6c2f00e9bd4fd","name":"stage_yaml","source":"b7d6c2f00e9bd4fd.yaml","type":"application/yaml","size":684},{"uid":"2f370b99cfceb2a1","name":"rest_request","source":"2f370b99cfceb2a1.yaml","type":"application/yaml","size":161},{"uid":"bff7166192058c5b","name":"rest_response","source":"bff7166192058c5b.yaml","type":"application/yaml","size":604},{"uid":"240917a1ede24f32","name":"stage_yaml","source":"240917a1ede24f32.yaml","type":"application/yaml","size":684},{"uid":"f87c10c011321cc6","name":"rest_request","source":"f87c10c011321cc6.yaml","type":"application/yaml","size":161},{"uid":"4a0870c184f10467","name":"rest_response","source":"4a0870c184f10467.yaml","type":"application/yaml","size":604},{"uid":"ada20fc35efc5542","name":"stage_yaml","source":"ada20fc35efc5542.yaml","type":"application/yaml","size":684},{"uid":"51c7d65ee5c1ee5f","name":"rest_request","source":"51c7d65ee5c1ee5f.yaml","type":"application/yaml","size":161},{"uid":"b31490c2c7d3d353","name":"rest_response","source":"b31490c2c7d3d353.yaml","type":"application/yaml","size":604},{"uid":"9227a886c3f8af29","name":"stage_yaml","source":"9227a886c3f8af29.yaml","type":"application/yaml","size":684},{"uid":"199d02d1fc9adad0","name":"rest_request","source":"199d02d1fc9adad0.yaml","type":"application/yaml","size":161},{"uid":"6c9b5576405d95b","name":"rest_response","source":"6c9b5576405d95b.yaml","type":"application/yaml","size":604},{"uid":"b7f6c44511e0e26","name":"stage_yaml","source":"b7f6c44511e0e26.yaml","type":"application/yaml","size":684},{"uid":"dbbc4c5a5dd0fb05","name":"rest_request","source":"dbbc4c5a5dd0fb05.yaml","type":"application/yaml","size":161},{"uid":"db09c909c6da6ff4","name":"rest_response","source":"db09c909c6da6ff4.yaml","type":"application/yaml","size":604},{"uid":"347278fa4fa216a","name":"stage_yaml","source":"347278fa4fa216a.yaml","type":"application/yaml","size":684},{"uid":"ad2b6fbc7ffffe5c","name":"rest_request","source":"ad2b6fbc7ffffe5c.yaml","type":"application/yaml","size":161},{"uid":"6b810ac5ad7397b8","name":"rest_response","source":"6b810ac5ad7397b8.yaml","type":"application/yaml","size":604},{"uid":"f40031dedd9096ff","name":"stage_yaml","source":"f40031dedd9096ff.yaml","type":"application/yaml","size":684},{"uid":"ffafeea51fc6ba8c","name":"rest_request","source":"ffafeea51fc6ba8c.yaml","type":"application/yaml","size":161},{"uid":"9588fe1d1ac1243c","name":"rest_response","source":"9588fe1d1ac1243c.yaml","type":"application/yaml","size":604},{"uid":"42ccb38ba04290b4","name":"stage_yaml","source":"42ccb38ba04290b4.yaml","type":"application/yaml","size":684},{"uid":"691cd3c3841632b6","name":"rest_request","source":"691cd3c3841632b6.yaml","type":"application/yaml","size":161},{"uid":"4f3acdbcc163063","name":"rest_response","source":"4f3acdbcc163063.yaml","type":"application/yaml","size":604},{"uid":"a797581e2fe54feb","name":"stage_yaml","source":"a797581e2fe54feb.yaml","type":"application/yaml","size":684},{"uid":"fe3208e997ad1486","name":"rest_request","source":"fe3208e997ad1486.yaml","type":"application/yaml","size":161},{"uid":"96ccfddfacb2c09e","name":"rest_response","source":"96ccfddfacb2c09e.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":48,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the completed force-off transition data","time":{"start":1678224782468,"stop":1678224782485,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"63693a484d8f273c","name":"stage_yaml","source":"63693a484d8f273c.yaml","type":"application/yaml","size":2346},{"uid":"521cd3a136fbbd69","name":"rest_request","source":"521cd3a136fbbd69.yaml","type":"application/yaml","size":161},{"uid":"a035a4c59268d06c","name":"rest_response","source":"a035a4c59268d06c.yaml","type":"application/yaml","size":588}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Verify that the target ComputeModule is powered off using power-status","time":{"start":1678224782486,"stop":1678224782499,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"284a111a647d0007","name":"stage_yaml","source":"284a111a647d0007.yaml","type":"application/yaml","size":1007},{"uid":"2f01f9b651d20e7f","name":"rest_request","source":"2f01f9b651d20e7f.yaml","type":"application/yaml","size":141},{"uid":"18d997a81323ac7","name":"rest_response","source":"18d997a81323ac7.yaml","type":"application/yaml","size":435}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"f5e5ab66ca547699","name":"log","source":"f5e5ab66ca547699.txt","type":"text/plain","size":57833}],"parameters":[],"stepsCount":9,"attachmentsCount":73,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"2-disruptive"},{"name":"host","value":"dba8a419bd12"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_off.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"b925ee848ce7a3af","status":"passed","time":{"start":1678221353942,"stop":1678221386597,"duration":32655}},{"uid":"4365aff488bef210","status":"passed","time":{"start":1678217663807,"stop":1678217696464,"duration":32657}},{"uid":"8f6418ea63a0817f","status":"passed","time":{"start":1676400444450,"stop":1676400508114,"duration":63664}},{"uid":"5ee4e4fabd32b19e","status":"passed","time":{"start":1676325216081,"stop":1676325279426,"duration":63345}},{"uid":"1b1a55d12ead7820","status":"passed","time":{"start":1674515234499,"stop":1674515297540,"duration":63041}},{"uid":"90c5599faea5b2df","status":"passed","time":{"start":1674505350634,"stop":1674505383313,"duration":32679}},{"uid":"9b9ae219d19b4251","status":"passed","time":{"start":1674499917972,"stop":1674499981166,"duration":63194}},{"uid":"274678678848d06","status":"passed","time":{"start":1674257443714,"stop":1674257507015,"duration":63301}},{"uid":"5a054567283e3aef","status":"passed","time":{"start":1674254938183,"stop":1674255001690,"duration":63507}},{"uid":"14dc47f0ce7777f7","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Power the target ComputeModule off with a force-off transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f0b0c336c10>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum 'ForceOff' does not exist. Path: '/operation' Enum: ['Force-Off'].: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1674080255985,"stop":1674080257091,"duration":1106}},{"uid":"cb5cc5599add50fa","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074977518,"stop":1674074977551,"duration":33}},{"uid":"c60a6b79463bc064","status":"failed","statusDetails":"tavern.util.exceptions.MissingFormatError: transition_on_task_deadline_minutes","time":{"start":1674074600040,"stop":1674074600069,"duration":29}}]},"tags":[]},"source":"a2b6422c02448274.json","parameterValues":[]}