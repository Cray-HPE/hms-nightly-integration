- name: slsAPISearchHardwareFindEntry - Find hardware in SLS by parameters (type)
  request:
    url: "{sls_base_url}/v1/search/hardware?type=comptype_ncard"
    method: GET
    verify: !bool "{verify}"
  response:
    status_code: 200
    verify_response_with:
      function: tavern.testutils.helpers:validate_pykwalify
      extra_kwargs:
        schema:
          type: seq
          matching: all
          required: True
          sequence:
            - type: map
              mapping:
                Parent:
                  type: str
                  required: True
                  pattern: "^[xs].+"
                Children:
                  type: seq
                  required: False
                  matching: all
                  sequence:
                    - type: str
                      pattern: "^[xs].+"
                Xname:
                  type: str
                  required: True
                  pattern: "^[xs].+"
                Type:
                  type: str
                  required: True
                  pattern: "comptype_ncard"
                Class:
                  type: str
                  required: True
                  enum:
                    - "River"
                    - "Hill"
                    - "Mountain"
                TypeString:
                  type: str
                  required: True


                  pattern: "^CDU$|^CDUMgmtSwitch$|^CabinetCDU$|^Cabinet$|^CabinetBMC$|^CabinetPDUController$|^CabinetPDU$|^CabinetPDUNic$|^CabinetPDUOutlet$|^Chassis$|^ChassisBMC$|^CMMRectifier$|^CMMFpga$|^CEC$|^ComputeModule$|^RouterModule$|^NodeBMC$|^NodeBMCNic$|^NodeEnclosure$|^NodePowerConnector$|^Node$|^Processor$|^NodeNIC$|^NodeHsnNIC$|^Memory$|^NodeAccel$|^NodeFpga$|^HSNAsic$|^RouterFpga$|^RouterTORFpga$|^RouterBMC$|^RouterBMCNic$|^HSNBoard$|^HSNLink$|^HSNConnector$|^HSNConnectorPort$|^MgmtHLSwitch$|^MgmtSwitch$|^MgmtSwitchConnector$|^SMSBox$|^System$"
                LastUpdated:
                  type: int
                  required: True
                LastUpdatedTime:
                  type: str
                  required: True
                  pattern: "[0-9]{{4}}-[0-9]{{2}}-[0-9]{{2}} [0-9]{{2}}:[0-9]{{2}}:[0-9]{{2}}.[0-9]+ \\+[0-9]{{4}} \\+[0-9]{{4}}|[0-9]{{4}}-[0-9]{{2}}-[0-9]{{2}} [0-9]{{2}}:[0-9]{{2}}:[0-9]{{2}}.[0-9]+ \\+[0-9]{{4}} UTC"
                ExtraProperties:
                  type: map
                  required: False