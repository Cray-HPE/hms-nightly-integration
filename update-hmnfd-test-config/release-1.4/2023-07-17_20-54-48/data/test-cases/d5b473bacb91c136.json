{"uid":"d5b473bacb91c136","name":"bssAPIbootscript","fullName":"api.3-destructive.test_bootscript.tavern#bssAPIbootscript","historyId":"ff44602a431006bd697b1eab372c4466","time":{"start":1689627277023,"stop":1689627277111,"duration":88},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s5b0n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1021' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s5b0n1'\n  node_xname = 'x1000c0s5b0n1'\n  node_nid = '1021'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s5b0n1'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s5b0n1\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1021\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s5b0n1' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1021' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s5b0n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1021' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s5b0n1'\n  node_xname = 'x1000c0s5b0n1'\n  node_nid = '1021'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s5b0n1'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s5b0n1\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1021\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s5b0n1' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1021' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1","steps":[{"name":"Stage 0: Query HSM State Components for a compute node","time":{"start":1689627277033,"stop":1689627277067,"duration":34},"status":"passed","steps":[],"attachments":[{"uid":"fb63e6b2b5305426","name":"stage_yaml","source":"fb63e6b2b5305426.yaml","type":"application/yaml","size":311},{"uid":"f3a9b8357ff17e76","name":"rest_request","source":"f3a9b8357ff17e76.yaml","type":"application/yaml","size":149},{"uid":"a99038d593ce8bd8","name":"rest_response","source":"a99038d593ce8bd8.yaml","type":"application/yaml","size":5772}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Query HSM EthernetInterfaces for the compute nodes MAC address","time":{"start":1689627277068,"stop":1689627277076,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"71507d437092a06c","name":"stage_yaml","source":"71507d437092a06c.yaml","type":"application/yaml","size":312},{"uid":"a71f2fa549c532ec","name":"rest_request","source":"a71f2fa549c532ec.yaml","type":"application/yaml","size":164},{"uid":"c3ef55a0b84371ed","name":"rest_response","source":"c3ef55a0b84371ed.yaml","type":"application/yaml","size":348}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Create or update Bootparameter for compute node","time":{"start":1689627277076,"stop":1689627277090,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"76272af0835a6c1c","name":"stage_yaml","source":"76272af0835a6c1c.yaml","type":"application/yaml","size":417},{"uid":"8a010d1467408410","name":"rest_request","source":"8a010d1467408410.yaml","type":"application/yaml","size":323},{"uid":"455c1d5a856c4d92","name":"rest_response","source":"455c1d5a856c4d92.yaml","type":"application/yaml","size":230}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Query bootscript by xname","time":{"start":1689627277091,"stop":1689627277107,"duration":16},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s5b0n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1021' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f4b54aa8dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:21:51:57&retry=1\n\n\n\n","statusTrace":"  File \"/usr/lib/python3.9/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/usr/lib/python3.9/site-packages/tavern/util/retry.py\", line 31, in wrapped\n    res = fn(*args, **kwargs)\n  File \"/usr/lib/python3.9/site-packages/tavern/core.py\", line 270, in run_stage\n    saved = v.verify(response)\n  File \"/usr/lib/python3.9/site-packages/tavern/_plugins/rest/response.py\", line 201, in verify\n    raise exceptions.TestFailError(\n","steps":[],"attachments":[{"uid":"d4d6097f6a85930d","name":"stage_yaml","source":"d4d6097f6a85930d.yaml","type":"application/yaml","size":1301},{"uid":"77db1d6c4b6d790c","name":"rest_request","source":"77db1d6c4b6d790c.yaml","type":"application/yaml","size":151},{"uid":"9d95b3d5856ca252","name":"rest_response","source":"9d95b3d5856ca252.yaml","type":"application/yaml","size":167}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"eb8323722d1147c7","name":"error_output","source":"eb8323722d1147c7.attach","type":"text/plain","size":8257},{"uid":"e31dcdb713b75b10","name":"log","source":"e31dcdb713b75b10.txt","type":"text/plain","size":9641}],"parameters":[],"stepsCount":4,"attachmentsCount":14,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-bss-hmth-test"},{"name":"suite","value":"destructive"},{"name":"host","value":"1bd07b7d8746"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-destructive.test_bootscript.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"ec3ef56a15140d9","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x3000c0s6b0n0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=20' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1","time":{"start":1689615987924,"stop":1689615988018,"duration":94}}]},"tags":[]},"source":"d5b473bacb91c136.json","parameterValues":[]}