{"uid":"a6fb24ec49670f76","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1689626896019,"stop":1689626896350,"duration":331},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1689626896030,"stop":1689626896066,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"b5befa64daed192f","name":"stage_yaml","source":"b5befa64daed192f.yaml","type":"application/yaml","size":457},{"uid":"8c71d89eab390b17","name":"rest_request","source":"8c71d89eab390b17.yaml","type":"application/yaml","size":149},{"uid":"bf5e999aac6c072f","name":"rest_response","source":"bf5e999aac6c072f.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1689626896067,"stop":1689626896122,"duration":55},"status":"passed","steps":[],"attachments":[{"uid":"7b1dd2569070b750","name":"stage_yaml","source":"7b1dd2569070b750.yaml","type":"application/yaml","size":472},{"uid":"3688c7bd300848c9","name":"rest_request","source":"3688c7bd300848c9.yaml","type":"application/yaml","size":173},{"uid":"66f9879214409dd8","name":"rest_response","source":"66f9879214409dd8.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1689626896122,"stop":1689626896131,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"a7b5e7a494acf599","name":"stage_yaml","source":"a7b5e7a494acf599.yaml","type":"application/yaml","size":247},{"uid":"4f57af5a46196ed2","name":"rest_request","source":"4f57af5a46196ed2.yaml","type":"application/yaml","size":173},{"uid":"fd89cdba173aac48","name":"rest_response","source":"fd89cdba173aac48.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1689626896132,"stop":1689626896141,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"39f267f7de59d18e","name":"stage_yaml","source":"39f267f7de59d18e.yaml","type":"application/yaml","size":247},{"uid":"18b46e918f06fa3c","name":"rest_request","source":"18b46e918f06fa3c.yaml","type":"application/yaml","size":173},{"uid":"92381417144666c2","name":"rest_response","source":"92381417144666c2.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1689626896142,"stop":1689626896157,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"8fe27804170b7323","name":"stage_yaml","source":"8fe27804170b7323.yaml","type":"application/yaml","size":1395},{"uid":"e4633c1f90d74860","name":"rest_request","source":"e4633c1f90d74860.yaml","type":"application/yaml","size":214},{"uid":"523597cac7577b15","name":"rest_response","source":"523597cac7577b15.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1689626896158,"stop":1689626896167,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"5b6758c800428683","name":"stage_yaml","source":"5b6758c800428683.yaml","type":"application/yaml","size":251},{"uid":"9809d2c5fc3e41ca","name":"rest_request","source":"9809d2c5fc3e41ca.yaml","type":"application/yaml","size":173},{"uid":"2aa97b82541a01f8","name":"rest_response","source":"2aa97b82541a01f8.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1689626896168,"stop":1689626896177,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"af9cf6c607837c0c","name":"stage_yaml","source":"af9cf6c607837c0c.yaml","type":"application/yaml","size":251},{"uid":"741b118dbe0e3a43","name":"rest_request","source":"741b118dbe0e3a43.yaml","type":"application/yaml","size":173},{"uid":"e7cb578b2ec0b1e1","name":"rest_response","source":"e7cb578b2ec0b1e1.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1689626896177,"stop":1689626896205,"duration":28},"status":"passed","steps":[],"attachments":[{"uid":"6566df0935742996","name":"stage_yaml","source":"6566df0935742996.yaml","type":"application/yaml","size":903},{"uid":"605832c8e6bebfa7","name":"rest_request","source":"605832c8e6bebfa7.yaml","type":"application/yaml","size":286},{"uid":"6d6f9c3d10513315","name":"rest_response","source":"6d6f9c3d10513315.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1689626896206,"stop":1689626896232,"duration":26},"status":"passed","steps":[],"attachments":[{"uid":"a7d2a6c36cf7f933","name":"stage_yaml","source":"a7d2a6c36cf7f933.yaml","type":"application/yaml","size":2415},{"uid":"a638ad17a194e5fa","name":"rest_request","source":"a638ad17a194e5fa.yaml","type":"application/yaml","size":160},{"uid":"554fb8fcf7ffa492","name":"rest_response","source":"554fb8fcf7ffa492.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1689626896233,"stop":1689626896249,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"2e8f0bfabf31a0e5","name":"stage_yaml","source":"2e8f0bfabf31a0e5.yaml","type":"application/yaml","size":1466},{"uid":"2e17206de01a634d","name":"rest_request","source":"2e17206de01a634d.yaml","type":"application/yaml","size":218},{"uid":"f28a39b573d9ae03","name":"rest_response","source":"f28a39b573d9ae03.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1689626896250,"stop":1689626896264,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"80d393cb0d751c59","name":"stage_yaml","source":"80d393cb0d751c59.yaml","type":"application/yaml","size":1449},{"uid":"c8f5d622970bed36","name":"rest_request","source":"c8f5d622970bed36.yaml","type":"application/yaml","size":212},{"uid":"2077b3476da9824d","name":"rest_response","source":"2077b3476da9824d.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1689626896265,"stop":1689626896291,"duration":26},"status":"passed","steps":[],"attachments":[{"uid":"c4fef781a00303c5","name":"stage_yaml","source":"c4fef781a00303c5.yaml","type":"application/yaml","size":759},{"uid":"2b349b1df4900299","name":"rest_request","source":"2b349b1df4900299.yaml","type":"application/yaml","size":212},{"uid":"acfe2fbf26832a06","name":"rest_response","source":"acfe2fbf26832a06.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1689626896292,"stop":1689626896312,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"767099d24d5a17db","name":"stage_yaml","source":"767099d24d5a17db.yaml","type":"application/yaml","size":1477},{"uid":"ccb20a27da1771b7","name":"rest_request","source":"ccb20a27da1771b7.yaml","type":"application/yaml","size":212},{"uid":"915e48f4b56b0a60","name":"rest_response","source":"915e48f4b56b0a60.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1689626896313,"stop":1689626896322,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"8e0ba809e6759a33","name":"stage_yaml","source":"8e0ba809e6759a33.yaml","type":"application/yaml","size":247},{"uid":"f46c1adfe8621831","name":"rest_request","source":"f46c1adfe8621831.yaml","type":"application/yaml","size":173},{"uid":"a8913c4005fe34fb","name":"rest_response","source":"a8913c4005fe34fb.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1689626896323,"stop":1689626896331,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"baf5b6973572fe5f","name":"stage_yaml","source":"baf5b6973572fe5f.yaml","type":"application/yaml","size":279},{"uid":"7a7903ef6e89a51a","name":"rest_request","source":"7a7903ef6e89a51a.yaml","type":"application/yaml","size":173},{"uid":"a7365cdf544f9d62","name":"rest_response","source":"a7365cdf544f9d62.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1689626896332,"stop":1689626896340,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"406c3c9a85d96e4","name":"stage_yaml","source":"406c3c9a85d96e4.yaml","type":"application/yaml","size":247},{"uid":"fcbce36b1c2e75","name":"rest_request","source":"fcbce36b1c2e75.yaml","type":"application/yaml","size":173},{"uid":"3a2a9b585003a103","name":"rest_response","source":"3a2a9b585003a103.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1689626896341,"stop":1689626896350,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"c300e7d2c1353270","name":"stage_yaml","source":"c300e7d2c1353270.yaml","type":"application/yaml","size":279},{"uid":"a8ca251a9a08e829","name":"rest_request","source":"a8ca251a9a08e829.yaml","type":"application/yaml","size":172},{"uid":"7206354bbdb62cbc","name":"rest_response","source":"7206354bbdb62cbc.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"f52bba21df61"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"e6ffbe22c4035b52","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fabe3f66b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1006, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1689615604039,"stop":1689615604240,"duration":201}}]},"tags":[]},"source":"a6fb24ec49670f76.json","parameterValues":[]}