{"uid":"ec3ef56a15140d9","name":"bssAPIbootscript","fullName":"api.3-destructive.test_bootscript.tavern#bssAPIbootscript","historyId":"ff44602a431006bd697b1eab372c4466","time":{"start":1689615987924,"stop":1689615988018,"duration":94},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x3000c0s6b0n0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=20' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x3000c0s6b0n0'\n  node_xname = 'x3000c0s6b0n0'\n  node_nid = '20'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x3000c0s6b0n0'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x3000c0s6b0n0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=20\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x3000c0s6b0n0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=20' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x3000c0s6b0n0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=20' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x3000c0s6b0n0'\n  node_xname = 'x3000c0s6b0n0'\n  node_nid = '20'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x3000c0s6b0n0'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x3000c0s6b0n0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=20\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x3000c0s6b0n0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=20' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1","steps":[{"name":"Stage 0: Query HSM State Components for a compute node","time":{"start":1689615987934,"stop":1689615987969,"duration":35},"status":"passed","steps":[],"attachments":[{"uid":"f46591151d1a6d6e","name":"stage_yaml","source":"f46591151d1a6d6e.yaml","type":"application/yaml","size":311},{"uid":"f6b0735c277d8859","name":"rest_request","source":"f6b0735c277d8859.yaml","type":"application/yaml","size":149},{"uid":"60e24c666c790607","name":"rest_response","source":"60e24c666c790607.yaml","type":"application/yaml","size":5774}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Query HSM EthernetInterfaces for the compute nodes MAC address","time":{"start":1689615987969,"stop":1689615987980,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"64b51987bbb11e1","name":"stage_yaml","source":"64b51987bbb11e1.yaml","type":"application/yaml","size":312},{"uid":"f9566c9180daa49e","name":"rest_request","source":"f9566c9180daa49e.yaml","type":"application/yaml","size":164},{"uid":"f02a5ef31f142fb4","name":"rest_response","source":"f02a5ef31f142fb4.yaml","type":"application/yaml","size":845}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Create or update Bootparameter for compute node","time":{"start":1689615987980,"stop":1689615987999,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"6c472eeaa83f7865","name":"stage_yaml","source":"6c472eeaa83f7865.yaml","type":"application/yaml","size":417},{"uid":"4639540440bbb01","name":"rest_request","source":"4639540440bbb01.yaml","type":"application/yaml","size":323},{"uid":"a5c3177ce1413c4b","name":"rest_response","source":"a5c3177ce1413c4b.yaml","type":"application/yaml","size":230}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Query bootscript by xname","time":{"start":1689615988000,"stop":1689615988016,"duration":16},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x3000c0s6b0n0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=20' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7fbf4aba2dc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:7a:1b:15&retry=1\n\n\n\n","statusTrace":"  File \"/usr/lib/python3.9/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/usr/lib/python3.9/site-packages/tavern/util/retry.py\", line 31, in wrapped\n    res = fn(*args, **kwargs)\n  File \"/usr/lib/python3.9/site-packages/tavern/core.py\", line 270, in run_stage\n    saved = v.verify(response)\n  File \"/usr/lib/python3.9/site-packages/tavern/_plugins/rest/response.py\", line 201, in verify\n    raise exceptions.TestFailError(\n","steps":[],"attachments":[{"uid":"c617e8769f69628e","name":"stage_yaml","source":"c617e8769f69628e.yaml","type":"application/yaml","size":1301},{"uid":"314b5a28753aee5c","name":"rest_request","source":"314b5a28753aee5c.yaml","type":"application/yaml","size":151},{"uid":"4f57a9373f072421","name":"rest_response","source":"4f57a9373f072421.yaml","type":"application/yaml","size":167}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"c4631118342a82c0","name":"error_output","source":"c4631118342a82c0.attach","type":"text/plain","size":8251},{"uid":"d31069da5ce5e736","name":"log","source":"d31069da5ce5e736.txt","type":"text/plain","size":9637}],"parameters":[],"stepsCount":4,"attachmentsCount":14,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-bss-hmth-test"},{"name":"suite","value":"destructive"},{"name":"host","value":"35cf6c08358d"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-destructive.test_bootscript.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"ec3ef56a15140d9.json","parameterValues":[]}