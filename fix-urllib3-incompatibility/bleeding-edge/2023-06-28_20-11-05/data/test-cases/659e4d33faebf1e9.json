{"uid":"659e4d33faebf1e9","name":"Verify power-cap for a single node","fullName":"api.3-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"e2ae67539213be5181105043ad513bb3","time":{"start":1687983034484,"stop":1687983042275,"duration":7791},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1687983034735,"stop":1687983034783,"duration":48},"status":"passed","steps":[],"attachments":[{"uid":"95d0bbc96a86651b","name":"stage_yaml","source":"95d0bbc96a86651b.yaml","type":"application/yaml","size":333},{"uid":"61fd2beca3bc9fce","name":"rest_request","source":"61fd2beca3bc9fce.yaml","type":"application/yaml","size":149},{"uid":"6124cecec4e53169","name":"rest_response","source":"6124cecec4e53169.yaml","type":"application/yaml","size":5767}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1687983034785,"stop":1687983034796,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"f109396932d742f8","name":"stage_yaml","source":"f109396932d742f8.yaml","type":"application/yaml","size":228},{"uid":"8b65dfde1e7872ee","name":"rest_request","source":"8b65dfde1e7872ee.yaml","type":"application/yaml","size":173},{"uid":"ed852110fa4f0447","name":"rest_response","source":"ed852110fa4f0447.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1687983034797,"stop":1687983034810,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"cf984d1486c9977e","name":"stage_yaml","source":"cf984d1486c9977e.yaml","type":"application/yaml","size":231},{"uid":"8566ad16d934a569","name":"rest_request","source":"8566ad16d934a569.yaml","type":"application/yaml","size":173},{"uid":"f2cf59ec34a9d172","name":"rest_response","source":"f2cf59ec34a9d172.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1687983034811,"stop":1687983034827,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"a42ad8f2d93a818e","name":"stage_yaml","source":"a42ad8f2d93a818e.yaml","type":"application/yaml","size":543},{"uid":"eb450110a7cd0688","name":"rest_request","source":"eb450110a7cd0688.yaml","type":"application/yaml","size":166},{"uid":"f7f8be94a245eeef","name":"rest_response","source":"f7f8be94a245eeef.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1687983034829,"stop":1687983035848,"duration":1019},"status":"passed","steps":[],"attachments":[{"uid":"e6dd9494324bc082","name":"stage_yaml","source":"e6dd9494324bc082.yaml","type":"application/yaml","size":661},{"uid":"15f85ee1ba06725a","name":"rest_request","source":"15f85ee1ba06725a.yaml","type":"application/yaml","size":159},{"uid":"9b37d08f04d0cf16","name":"rest_response","source":"9b37d08f04d0cf16.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1687983035851,"stop":1687983035872,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"20087f64814b66a2","name":"stage_yaml","source":"20087f64814b66a2.yaml","type":"application/yaml","size":3543},{"uid":"2b7fc62b00844e92","name":"rest_request","source":"2b7fc62b00844e92.yaml","type":"application/yaml","size":159},{"uid":"2684ab77f1d6b93a","name":"rest_response","source":"2684ab77f1d6b93a.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1687983035874,"stop":1687983035891,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"750f6f68cf50cec6","name":"stage_yaml","source":"750f6f68cf50cec6.yaml","type":"application/yaml","size":639},{"uid":"f3e1358f1f7bc718","name":"rest_request","source":"f3e1358f1f7bc718.yaml","type":"application/yaml","size":229},{"uid":"78dd5c8b1dc2e125","name":"rest_response","source":"78dd5c8b1dc2e125.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1687983035894,"stop":1687983036912,"duration":1018},"status":"passed","steps":[],"attachments":[{"uid":"44416d306529dd9d","name":"stage_yaml","source":"44416d306529dd9d.yaml","type":"application/yaml","size":679},{"uid":"64d15e30dbd2b88","name":"rest_request","source":"64d15e30dbd2b88.yaml","type":"application/yaml","size":159},{"uid":"a07f0c41f4a7adf4","name":"rest_response","source":"a07f0c41f4a7adf4.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1687983036914,"stop":1687983036934,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"b717ac9e97cf6014","name":"stage_yaml","source":"b717ac9e97cf6014.yaml","type":"application/yaml","size":3157},{"uid":"637432918b16fefd","name":"rest_request","source":"637432918b16fefd.yaml","type":"application/yaml","size":159},{"uid":"66970a0f4d37dc42","name":"rest_response","source":"66970a0f4d37dc42.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1687983036936,"stop":1687983036950,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"a07333aa48ded1ee","name":"stage_yaml","source":"a07333aa48ded1ee.yaml","type":"application/yaml","size":639},{"uid":"efef7349f379084e","name":"rest_request","source":"efef7349f379084e.yaml","type":"application/yaml","size":229},{"uid":"61bf85fcc3df7b15","name":"rest_response","source":"61bf85fcc3df7b15.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1687983036953,"stop":1687983037977,"duration":1024},"status":"passed","steps":[],"attachments":[{"uid":"f9239ca4680c5728","name":"stage_yaml","source":"f9239ca4680c5728.yaml","type":"application/yaml","size":679},{"uid":"6cd35f6bdf221933","name":"rest_request","source":"6cd35f6bdf221933.yaml","type":"application/yaml","size":159},{"uid":"8bdf35ee82b3714","name":"rest_response","source":"8bdf35ee82b3714.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1687983037979,"stop":1687983037999,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"2092c24c4bba3c17","name":"stage_yaml","source":"2092c24c4bba3c17.yaml","type":"application/yaml","size":3157},{"uid":"1fe140cad8e593d0","name":"rest_request","source":"1fe140cad8e593d0.yaml","type":"application/yaml","size":159},{"uid":"bcd69e8a2c7b1164","name":"rest_response","source":"bcd69e8a2c7b1164.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1687983038000,"stop":1687983038016,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"e2ad6bd2a87d1359","name":"stage_yaml","source":"e2ad6bd2a87d1359.yaml","type":"application/yaml","size":639},{"uid":"657d198601398049","name":"rest_request","source":"657d198601398049.yaml","type":"application/yaml","size":233},{"uid":"ff8b11c89ccde6e9","name":"rest_response","source":"ff8b11c89ccde6e9.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1687983038019,"stop":1687983039035,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"836290a4c64ab136","name":"stage_yaml","source":"836290a4c64ab136.yaml","type":"application/yaml","size":685},{"uid":"5df72314b7d9bcf","name":"rest_request","source":"5df72314b7d9bcf.yaml","type":"application/yaml","size":159},{"uid":"3657832f13a78d4","name":"rest_response","source":"3657832f13a78d4.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1687983039036,"stop":1687983039055,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"544ffc678b7396dd","name":"stage_yaml","source":"544ffc678b7396dd.yaml","type":"application/yaml","size":2234},{"uid":"81f434604338c993","name":"rest_request","source":"81f434604338c993.yaml","type":"application/yaml","size":159},{"uid":"ae172f8c52ac9408","name":"rest_response","source":"ae172f8c52ac9408.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1687983039056,"stop":1687983039071,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"42428c872ee2e929","name":"stage_yaml","source":"42428c872ee2e929.yaml","type":"application/yaml","size":631},{"uid":"a45022de76d70d38","name":"rest_request","source":"a45022de76d70d38.yaml","type":"application/yaml","size":227},{"uid":"1fddb792d5a6ce89","name":"rest_response","source":"1fddb792d5a6ce89.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1687983039075,"stop":1687983040090,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"d5b6f114b57fedba","name":"stage_yaml","source":"d5b6f114b57fedba.yaml","type":"application/yaml","size":685},{"uid":"8d72da4309b66a6e","name":"rest_request","source":"8d72da4309b66a6e.yaml","type":"application/yaml","size":159},{"uid":"a07c371f3f4cc88e","name":"rest_response","source":"a07c371f3f4cc88e.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1687983040091,"stop":1687983040113,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"24dbfb5b93d39770","name":"stage_yaml","source":"24dbfb5b93d39770.yaml","type":"application/yaml","size":2230},{"uid":"873f189acb10b2c2","name":"rest_request","source":"873f189acb10b2c2.yaml","type":"application/yaml","size":159},{"uid":"6a301422076ae448","name":"rest_response","source":"6a301422076ae448.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1687983040114,"stop":1687983040133,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"c09ea2b8a217fb48","name":"stage_yaml","source":"c09ea2b8a217fb48.yaml","type":"application/yaml","size":599},{"uid":"1ac2b9e3f5ea2f7a","name":"rest_request","source":"1ac2b9e3f5ea2f7a.yaml","type":"application/yaml","size":227},{"uid":"358958b1f42212a4","name":"rest_response","source":"358958b1f42212a4.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1687983040138,"stop":1687983041160,"duration":1022},"status":"passed","steps":[],"attachments":[{"uid":"cb581372e094924c","name":"stage_yaml","source":"cb581372e094924c.yaml","type":"application/yaml","size":679},{"uid":"aafde4e767e64ac0","name":"rest_request","source":"aafde4e767e64ac0.yaml","type":"application/yaml","size":159},{"uid":"225e861428cff8f2","name":"rest_response","source":"225e861428cff8f2.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1687983041162,"stop":1687983041182,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"2628aa4f4523f638","name":"stage_yaml","source":"2628aa4f4523f638.yaml","type":"application/yaml","size":3125},{"uid":"77b29c8e2b3ba20a","name":"rest_request","source":"77b29c8e2b3ba20a.yaml","type":"application/yaml","size":159},{"uid":"1a1920e5ab29b317","name":"rest_response","source":"1a1920e5ab29b317.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1687983041183,"stop":1687983041200,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"b9a885b7b444e040","name":"stage_yaml","source":"b9a885b7b444e040.yaml","type":"application/yaml","size":640},{"uid":"eaf2579e24d8a6f","name":"rest_request","source":"eaf2579e24d8a6f.yaml","type":"application/yaml","size":227},{"uid":"56724cfbccd88cb1","name":"rest_response","source":"56724cfbccd88cb1.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1687983041206,"stop":1687983042225,"duration":1019},"status":"passed","steps":[],"attachments":[{"uid":"e27189c809d0a7e","name":"stage_yaml","source":"e27189c809d0a7e.yaml","type":"application/yaml","size":680},{"uid":"fe9faefd142de7ab","name":"rest_request","source":"fe9faefd142de7ab.yaml","type":"application/yaml","size":159},{"uid":"b51034cb4354dd8","name":"rest_response","source":"b51034cb4354dd8.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1687983042227,"stop":1687983042247,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"33dc8a1aa70f5f2d","name":"stage_yaml","source":"33dc8a1aa70f5f2d.yaml","type":"application/yaml","size":3160},{"uid":"e4ac22eface42637","name":"rest_request","source":"e4ac22eface42637.yaml","type":"application/yaml","size":159},{"uid":"65775c0e5b0fa359","name":"rest_response","source":"65775c0e5b0fa359.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1687983042249,"stop":1687983042261,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"cf559c99b75aa101","name":"stage_yaml","source":"cf559c99b75aa101.yaml","type":"application/yaml","size":276},{"uid":"de7fab99fb3c87df","name":"rest_request","source":"de7fab99fb3c87df.yaml","type":"application/yaml","size":173},{"uid":"5385e12c78ce7438","name":"rest_response","source":"5385e12c78ce7438.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1687983042262,"stop":1687983042274,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"312c62e0919e0a0a","name":"stage_yaml","source":"312c62e0919e0a0a.yaml","type":"application/yaml","size":256},{"uid":"ea36a075d17faac9","name":"rest_request","source":"ea36a075d17faac9.yaml","type":"application/yaml","size":173},{"uid":"240292e10290e5a8","name":"rest_response","source":"240292e10290e5a8.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":78,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"9840f1a48d8f"},{"name":"thread","value":"7-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":2,"unknown":0,"total":2},"items":[{"uid":"99640fa3d36b73e7","status":"passed","time":{"start":1687978012649,"stop":1687978022330,"duration":9681}}]},"tags":[]},"source":"659e4d33faebf1e9.json","parameterValues":[]}