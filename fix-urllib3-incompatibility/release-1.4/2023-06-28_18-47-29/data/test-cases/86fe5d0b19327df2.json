{"uid":"86fe5d0b19327df2","name":"bssAPIbootscript","fullName":"api.3-destructive.test_bootscript.tavern#bssAPIbootscript","historyId":"ff44602a431006bd697b1eab372c4466","time":{"start":1687978033492,"stop":1687978033602,"duration":110},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s2b0n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1009' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s2b0n1'\n  node_xname = 'x1000c0s2b0n1'\n  node_nid = '1009'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s2b0n1'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s2b0n1\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1009\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s2b0n1' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1009' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s2b0n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1009' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s2b0n1'\n  node_xname = 'x1000c0s2b0n1'\n  node_nid = '1009'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s2b0n1'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s2b0n1\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1009\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s2b0n1' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1009' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1","steps":[{"name":"Stage 0: Query HSM State Components for a compute node","time":{"start":1687978033504,"stop":1687978033547,"duration":43},"status":"passed","steps":[],"attachments":[{"uid":"d03f9f63ed20f758","name":"stage_yaml","source":"d03f9f63ed20f758.yaml","type":"application/yaml","size":311},{"uid":"f90c79d28ee8390c","name":"rest_request","source":"f90c79d28ee8390c.yaml","type":"application/yaml","size":149},{"uid":"6399f25f99608272","name":"rest_response","source":"6399f25f99608272.yaml","type":"application/yaml","size":5770}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Query HSM EthernetInterfaces for the compute nodes MAC address","time":{"start":1687978033548,"stop":1687978033558,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"f15ca57a7114b527","name":"stage_yaml","source":"f15ca57a7114b527.yaml","type":"application/yaml","size":312},{"uid":"6a656c8909ecdf13","name":"rest_request","source":"6a656c8909ecdf13.yaml","type":"application/yaml","size":164},{"uid":"d0ea9d43d62e0789","name":"rest_response","source":"d0ea9d43d62e0789.yaml","type":"application/yaml","size":348}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Create or update Bootparameter for compute node","time":{"start":1687978033559,"stop":1687978033578,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"a8b9f6ee4942e9e8","name":"stage_yaml","source":"a8b9f6ee4942e9e8.yaml","type":"application/yaml","size":417},{"uid":"2da68ec0d4a8704c","name":"rest_request","source":"2da68ec0d4a8704c.yaml","type":"application/yaml","size":323},{"uid":"d265e8efb8660697","name":"rest_response","source":"d265e8efb8660697.yaml","type":"application/yaml","size":230}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Query bootscript by xname","time":{"start":1687978033578,"stop":1687978033600,"duration":22},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s2b0n1' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1009' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ed99bcdc0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:09:f9:94&retry=1\n\n\n\n","statusTrace":"  File \"/usr/lib/python3.9/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/usr/lib/python3.9/site-packages/tavern/util/retry.py\", line 31, in wrapped\n    res = fn(*args, **kwargs)\n  File \"/usr/lib/python3.9/site-packages/tavern/core.py\", line 270, in run_stage\n    saved = v.verify(response)\n  File \"/usr/lib/python3.9/site-packages/tavern/_plugins/rest/response.py\", line 201, in verify\n    raise exceptions.TestFailError(\n","steps":[],"attachments":[{"uid":"11499a75e8270e22","name":"stage_yaml","source":"11499a75e8270e22.yaml","type":"application/yaml","size":1301},{"uid":"f8b3dd054520ff4b","name":"rest_request","source":"f8b3dd054520ff4b.yaml","type":"application/yaml","size":151},{"uid":"6796a1d5c48e7e1c","name":"rest_response","source":"6796a1d5c48e7e1c.yaml","type":"application/yaml","size":167}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"c7018ef88b0c100d","name":"error_output","source":"c7018ef88b0c100d.attach","type":"text/plain","size":8257},{"uid":"a89087392ca06b79","name":"log","source":"a89087392ca06b79.txt","type":"text/plain","size":9641}],"parameters":[],"stepsCount":4,"attachmentsCount":14,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-bss-hmth-test"},{"name":"suite","value":"destructive"},{"name":"host","value":"d327326edda0"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-destructive.test_bootscript.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"86fe5d0b19327df2.json","parameterValues":[]}