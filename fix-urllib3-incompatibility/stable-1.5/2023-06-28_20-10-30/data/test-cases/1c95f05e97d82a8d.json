{"uid":"1c95f05e97d82a8d","name":"bssAPIbootscript","fullName":"api.3-destructive.test_bootscript.tavern#bssAPIbootscript","historyId":"ff44602a431006bd697b1eab372c4466","time":{"start":1687983016315,"stop":1687983016410,"duration":95},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s4b0n0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1016' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s4b0n0'\n  node_xname = 'x1000c0s4b0n0'\n  node_nid = '1016'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s4b0n0'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s4b0n0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1016\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s4b0n0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1016' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s4b0n0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1016' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1","statusTrace":"Format variables:\n  bss_base_url = 'http://cray-bss:27778'\n  verify = 'False'\n  node_xname = 'x1000c0s4b0n0'\n  node_xname = 'x1000c0s4b0n0'\n  node_nid = '1016'\n\nSource test stage (line 67):\n- name: Query bootscript by xname\n  request:\n    url: \"{bss_base_url}/boot/v1/bootscript\"\n    method: GET\n    verify: !bool \"{verify}\"\n    params:\n      name: \"{node_xname}\"\n  response:\n    status_code: 200\n    headers:\n      content-type: text/plain; charset=UTF-8\n    verify_response_with:\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: \"\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel'\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+console.tty0'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+xname={node_xname}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+nid={node_nid}'\n\n\n      - function: bss_test_utils:better_validate_regex\n        extra_kwargs:\n          expression: 'kernel --name .+bss_referral_token='\n\n\nFormatted stage:\n  name: Query bootscript by xname\n  request:\n    method: GET\n    params:\n      name: 'x1000c0s4b0n0'\n    url: 'http://cray-bss:27778/boot/v1/bootscript'\n    verify: !bool 'False'\n  response:\n    headers:\n      content-type: text/plain; charset=UTF-8\n    status_code: 200\n    verify_response_with:\n    - extra_kwargs:\n        expression: '#!ipxe'\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+console.tty0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+xname=x1000c0s4b0n0\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+nid=1016\n      function: bss_test_utils:better_validate_regex\n    - extra_kwargs:\n        expression: kernel --name .+bss_referral_token=\n      function: bss_test_utils:better_validate_regex\n\nErrors:\nE   tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s4b0n0' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1016' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n    \n    \n    \n    - Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n        Traceback (most recent call last):\n          File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n            vf(response)\n          File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n            result = func(response, *args, **kwargs)\n          File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n            raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n        tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n        #!ipxe\n        sleep 10\n        chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1","steps":[{"name":"Stage 0: Query HSM State Components for a compute node","time":{"start":1687983016325,"stop":1687983016360,"duration":35},"status":"passed","steps":[],"attachments":[{"uid":"a1f67406f6c02ee7","name":"stage_yaml","source":"a1f67406f6c02ee7.yaml","type":"application/yaml","size":311},{"uid":"7859581409d9c884","name":"rest_request","source":"7859581409d9c884.yaml","type":"application/yaml","size":149},{"uid":"35549bc271dfc823","name":"rest_response","source":"35549bc271dfc823.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Query HSM EthernetInterfaces for the compute nodes MAC address","time":{"start":1687983016361,"stop":1687983016369,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"20399afce4f9e8f5","name":"stage_yaml","source":"20399afce4f9e8f5.yaml","type":"application/yaml","size":312},{"uid":"a9f3d87488e88630","name":"rest_request","source":"a9f3d87488e88630.yaml","type":"application/yaml","size":164},{"uid":"4311409b494f0028","name":"rest_response","source":"4311409b494f0028.yaml","type":"application/yaml","size":348}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Create or update Bootparameter for compute node","time":{"start":1687983016369,"stop":1687983016390,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"a90ab253e731ced8","name":"stage_yaml","source":"a90ab253e731ced8.yaml","type":"application/yaml","size":417},{"uid":"357a35dd5d569742","name":"rest_request","source":"357a35dd5d569742.yaml","type":"application/yaml","size":323},{"uid":"106ab4f783bbe445","name":"rest_response","source":"106ab4f783bbe445.yaml","type":"application/yaml","size":230}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Query bootscript by xname","time":{"start":1687983016391,"stop":1687983016408,"duration":17},"status":"failed","statusMessage":"tavern.util.exceptions.TestFailError: Test 'Query bootscript by xname' failed:\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/kernel' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'initrd http[s]?:\\/\\/.+/boot-images/00000000-0000-0000-0000-000000000000\\/initrd' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+console.tty0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+xname=x1000c0s4b0n0' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+nid=1016' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n- Error calling validate function '<function better_validate_regex at 0x7f0ceee1ed30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/src/libs/bss_test_utils.py\", line 65, in better_validate_regex\n        raise exceptions.RegexAccessError(f\"No match for regex '{expression}' in response:\\n{response.text}\")\n    tavern.util.exceptions.RegexAccessError: No match for regex 'kernel --name .+bss_referral_token=' in response:\n    #!ipxe\n    sleep 10\n    chain https://api-gw-service-nmn.local/apis/bss/boot/v1/bootscript?mac=00:40:a6:2e:a8:fc&retry=1\n\n\n\n","statusTrace":"  File \"/usr/lib/python3.9/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"/usr/lib/python3.9/site-packages/tavern/util/retry.py\", line 31, in wrapped\n    res = fn(*args, **kwargs)\n  File \"/usr/lib/python3.9/site-packages/tavern/core.py\", line 270, in run_stage\n    saved = v.verify(response)\n  File \"/usr/lib/python3.9/site-packages/tavern/_plugins/rest/response.py\", line 201, in verify\n    raise exceptions.TestFailError(\n","steps":[],"attachments":[{"uid":"8604adcacb8a403","name":"stage_yaml","source":"8604adcacb8a403.yaml","type":"application/yaml","size":1301},{"uid":"f86e3e3c9a45695c","name":"rest_request","source":"f86e3e3c9a45695c.yaml","type":"application/yaml","size":151},{"uid":"dda7fc5495a07502","name":"rest_response","source":"dda7fc5495a07502.yaml","type":"application/yaml","size":167}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true,"hasContent":true}],"attachments":[{"uid":"9583dfa3e51d86a0","name":"error_output","source":"9583dfa3e51d86a0.attach","type":"text/plain","size":8257},{"uid":"b527d1544c2f2dfc","name":"log","source":"b527d1544c2f2dfc.txt","type":"text/plain","size":9641}],"parameters":[],"stepsCount":4,"attachmentsCount":14,"shouldDisplayMessage":true,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-bss-hmth-test"},{"name":"suite","value":"destructive"},{"name":"host","value":"54806975534e"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-destructive.test_bootscript.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"1c95f05e97d82a8d.json","parameterValues":[]}