{"uid":"88acec67b810f87e","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1689323504162,"stop":1689323504612,"duration":450},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1689323504177,"stop":1689323504222,"duration":45},"status":"passed","steps":[],"attachments":[{"uid":"3cef71d0ab0c7fc8","name":"stage_yaml","source":"3cef71d0ab0c7fc8.yaml","type":"application/yaml","size":457},{"uid":"a0f174c2df90d2f8","name":"rest_request","source":"a0f174c2df90d2f8.yaml","type":"application/yaml","size":149},{"uid":"d05cc2f00e2ed213","name":"rest_response","source":"d05cc2f00e2ed213.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1689323504223,"stop":1689323504292,"duration":69},"status":"passed","steps":[],"attachments":[{"uid":"831d73849b96104a","name":"stage_yaml","source":"831d73849b96104a.yaml","type":"application/yaml","size":472},{"uid":"bce4dfd353e99b77","name":"rest_request","source":"bce4dfd353e99b77.yaml","type":"application/yaml","size":173},{"uid":"aed023ae46dffba1","name":"rest_response","source":"aed023ae46dffba1.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1689323504293,"stop":1689323504306,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"8496eb9867bb4187","name":"stage_yaml","source":"8496eb9867bb4187.yaml","type":"application/yaml","size":247},{"uid":"d939c6a232246bf4","name":"rest_request","source":"d939c6a232246bf4.yaml","type":"application/yaml","size":173},{"uid":"cda760219330f7b5","name":"rest_response","source":"cda760219330f7b5.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1689323504308,"stop":1689323504321,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"3424fabf34fdc475","name":"stage_yaml","source":"3424fabf34fdc475.yaml","type":"application/yaml","size":247},{"uid":"52b74d5642c19314","name":"rest_request","source":"52b74d5642c19314.yaml","type":"application/yaml","size":173},{"uid":"334289f7e9bcb8ab","name":"rest_response","source":"334289f7e9bcb8ab.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1689323504322,"stop":1689323504345,"duration":23},"status":"passed","steps":[],"attachments":[{"uid":"c00cfc69d0c63833","name":"stage_yaml","source":"c00cfc69d0c63833.yaml","type":"application/yaml","size":1395},{"uid":"ec7e07cd58bff6fb","name":"rest_request","source":"ec7e07cd58bff6fb.yaml","type":"application/yaml","size":214},{"uid":"f73116f4a8252c65","name":"rest_response","source":"f73116f4a8252c65.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1689323504347,"stop":1689323504361,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"e9f107a249582065","name":"stage_yaml","source":"e9f107a249582065.yaml","type":"application/yaml","size":251},{"uid":"b2f26110da4fedd","name":"rest_request","source":"b2f26110da4fedd.yaml","type":"application/yaml","size":173},{"uid":"ecca53cf8d040f0","name":"rest_response","source":"ecca53cf8d040f0.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1689323504362,"stop":1689323504374,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"847ee8e9c5bbf6bb","name":"stage_yaml","source":"847ee8e9c5bbf6bb.yaml","type":"application/yaml","size":251},{"uid":"d002e2f73a4f8628","name":"rest_request","source":"d002e2f73a4f8628.yaml","type":"application/yaml","size":173},{"uid":"4f57866c64abc81e","name":"rest_response","source":"4f57866c64abc81e.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1689323504375,"stop":1689323504408,"duration":33},"status":"passed","steps":[],"attachments":[{"uid":"21a44ce6605bcea0","name":"stage_yaml","source":"21a44ce6605bcea0.yaml","type":"application/yaml","size":903},{"uid":"e40c721ffc4e93c2","name":"rest_request","source":"e40c721ffc4e93c2.yaml","type":"application/yaml","size":286},{"uid":"178074090252924e","name":"rest_response","source":"178074090252924e.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1689323504409,"stop":1689323504443,"duration":34},"status":"passed","steps":[],"attachments":[{"uid":"60c060c392be317a","name":"stage_yaml","source":"60c060c392be317a.yaml","type":"application/yaml","size":2415},{"uid":"c499cef740240f4c","name":"rest_request","source":"c499cef740240f4c.yaml","type":"application/yaml","size":160},{"uid":"181a4b2907c2d43b","name":"rest_response","source":"181a4b2907c2d43b.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1689323504445,"stop":1689323504467,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"d21586754117b378","name":"stage_yaml","source":"d21586754117b378.yaml","type":"application/yaml","size":1466},{"uid":"cc22ff45d3811bf3","name":"rest_request","source":"cc22ff45d3811bf3.yaml","type":"application/yaml","size":218},{"uid":"f5676db7607bfb88","name":"rest_response","source":"f5676db7607bfb88.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1689323504468,"stop":1689323504489,"duration":21},"status":"passed","steps":[],"attachments":[{"uid":"cac013cb9d3121d7","name":"stage_yaml","source":"cac013cb9d3121d7.yaml","type":"application/yaml","size":1449},{"uid":"e333bee59192f0c3","name":"rest_request","source":"e333bee59192f0c3.yaml","type":"application/yaml","size":212},{"uid":"afff29a401e74231","name":"rest_response","source":"afff29a401e74231.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1689323504490,"stop":1689323504517,"duration":27},"status":"passed","steps":[],"attachments":[{"uid":"7df48cfeb2d959e7","name":"stage_yaml","source":"7df48cfeb2d959e7.yaml","type":"application/yaml","size":759},{"uid":"6b2fd9d5083115a3","name":"rest_request","source":"6b2fd9d5083115a3.yaml","type":"application/yaml","size":212},{"uid":"7b3261f2dabdbff6","name":"rest_response","source":"7b3261f2dabdbff6.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1689323504518,"stop":1689323504547,"duration":29},"status":"passed","steps":[],"attachments":[{"uid":"1fd4bbd080128652","name":"stage_yaml","source":"1fd4bbd080128652.yaml","type":"application/yaml","size":1477},{"uid":"87b4f5448e3d1c2a","name":"rest_request","source":"87b4f5448e3d1c2a.yaml","type":"application/yaml","size":212},{"uid":"76c54f8f3e0745be","name":"rest_response","source":"76c54f8f3e0745be.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1689323504549,"stop":1689323504562,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"48d31aacb5c95652","name":"stage_yaml","source":"48d31aacb5c95652.yaml","type":"application/yaml","size":247},{"uid":"2d638ab9a15524fd","name":"rest_request","source":"2d638ab9a15524fd.yaml","type":"application/yaml","size":173},{"uid":"4025c5581079682","name":"rest_response","source":"4025c5581079682.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1689323504563,"stop":1689323504577,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"d5c06fc5922769b9","name":"stage_yaml","source":"d5c06fc5922769b9.yaml","type":"application/yaml","size":279},{"uid":"52e7e0fae2d16361","name":"rest_request","source":"52e7e0fae2d16361.yaml","type":"application/yaml","size":172},{"uid":"615f8f5cbe9b9b11","name":"rest_response","source":"615f8f5cbe9b9b11.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1689323504579,"stop":1689323504595,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"58fed1c13b463b3f","name":"stage_yaml","source":"58fed1c13b463b3f.yaml","type":"application/yaml","size":247},{"uid":"ac991486a95c4330","name":"rest_request","source":"ac991486a95c4330.yaml","type":"application/yaml","size":173},{"uid":"cac55504cc63de4e","name":"rest_response","source":"cac55504cc63de4e.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1689323504598,"stop":1689323504611,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"e71bcadcc5d6616a","name":"stage_yaml","source":"e71bcadcc5d6616a.yaml","type":"application/yaml","size":279},{"uid":"37ff92371ad783c","name":"rest_request","source":"37ff92371ad783c.yaml","type":"application/yaml","size":172},{"uid":"1bf5c5c40a3d997","name":"rest_response","source":"1bf5c5c40a3d997.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"4f2915df038c"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":18,"broken":0,"skipped":0,"passed":90,"unknown":0,"total":108},"items":[{"uid":"6a89b18246b8015a","status":"passed","time":{"start":1689237083259,"stop":1689237083592,"duration":333}},{"uid":"7d1574e023241c1d","status":"passed","time":{"start":1689150630056,"stop":1689150630390,"duration":334}},{"uid":"d96db8057a9a6df8","status":"passed","time":{"start":1689064305444,"stop":1689064305886,"duration":442}},{"uid":"61007e21257e664f","status":"passed","time":{"start":1688977810085,"stop":1688977810400,"duration":315}},{"uid":"17510368c734b66f","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe7cbfe6b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1027, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688891388453,"stop":1688891388638,"duration":185}},{"uid":"8790c34d2669a605","status":"passed","time":{"start":1688805011630,"stop":1688805011949,"duration":319}},{"uid":"87e1b4ace11942ca","status":"passed","time":{"start":1688718663216,"stop":1688718663521,"duration":305}},{"uid":"aa5c56904ed66efc","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe3dc606b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1018, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688632186007,"stop":1688632186191,"duration":184}},{"uid":"1cf512006b2d3e6f","status":"passed","time":{"start":1688545847292,"stop":1688545847724,"duration":432}},{"uid":"a05d32cfe47eebeb","status":"passed","time":{"start":1688459403240,"stop":1688459403565,"duration":325}},{"uid":"40fef215278d98b9","status":"passed","time":{"start":1688373023106,"stop":1688373023437,"duration":331}},{"uid":"d9c001aeb824f45","status":"passed","time":{"start":1688286556703,"stop":1688286557002,"duration":299}},{"uid":"d4c7ebd6a0dcebc9","status":"passed","time":{"start":1688200255796,"stop":1688200256190,"duration":394}},{"uid":"c4ddd36c6cb12a3a","status":"passed","time":{"start":1688113867984,"stop":1688113868427,"duration":443}},{"uid":"9381ec8eda249c1b","status":"passed","time":{"start":1688027476723,"stop":1688027477170,"duration":447}},{"uid":"6bb6442b68d9c103","status":"passed","time":{"start":1683189002626,"stop":1683189003046,"duration":420}},{"uid":"4b6873a1823116bd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f84f3415f70>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1006, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1683102545816,"stop":1683102546050,"duration":234}},{"uid":"b7664fb19113cb6c","status":"passed","time":{"start":1683016240906,"stop":1683016241325,"duration":419}},{"uid":"98463af4bba0ab3f","status":"passed","time":{"start":1682929767917,"stop":1682929768232,"duration":315}},{"uid":"997ae139b55b10fe","status":"passed","time":{"start":1682843464312,"stop":1682843464770,"duration":458}}]},"tags":[]},"source":"88acec67b810f87e.json","parameterValues":[]}