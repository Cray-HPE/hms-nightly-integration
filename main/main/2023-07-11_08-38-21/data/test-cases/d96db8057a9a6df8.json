{"uid":"d96db8057a9a6df8","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1689064305444,"stop":1689064305886,"duration":442},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1689064305469,"stop":1689064305515,"duration":46},"status":"passed","steps":[],"attachments":[{"uid":"9046dd89862b4257","name":"stage_yaml","source":"9046dd89862b4257.yaml","type":"application/yaml","size":457},{"uid":"c84f70693e208a0a","name":"rest_request","source":"c84f70693e208a0a.yaml","type":"application/yaml","size":149},{"uid":"5766e4dae2e252d0","name":"rest_response","source":"5766e4dae2e252d0.yaml","type":"application/yaml","size":5772}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1689064305516,"stop":1689064305585,"duration":69},"status":"passed","steps":[],"attachments":[{"uid":"db35ac2b50ffd24d","name":"stage_yaml","source":"db35ac2b50ffd24d.yaml","type":"application/yaml","size":472},{"uid":"e2f2c8dbfbd66998","name":"rest_request","source":"e2f2c8dbfbd66998.yaml","type":"application/yaml","size":173},{"uid":"673373fb9b0c70a8","name":"rest_response","source":"673373fb9b0c70a8.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1689064305586,"stop":1689064305597,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"9ddbfc0b9c6d24cc","name":"stage_yaml","source":"9ddbfc0b9c6d24cc.yaml","type":"application/yaml","size":247},{"uid":"1c969dff4613bdd7","name":"rest_request","source":"1c969dff4613bdd7.yaml","type":"application/yaml","size":173},{"uid":"47fc4e203a4c7428","name":"rest_response","source":"47fc4e203a4c7428.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1689064305599,"stop":1689064305609,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"93d81ead036fbbd5","name":"stage_yaml","source":"93d81ead036fbbd5.yaml","type":"application/yaml","size":247},{"uid":"e1ba3ae61c380c47","name":"rest_request","source":"e1ba3ae61c380c47.yaml","type":"application/yaml","size":173},{"uid":"9d5f03995a5e50da","name":"rest_response","source":"9d5f03995a5e50da.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1689064305610,"stop":1689064305630,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"86a5cd7f2766404e","name":"stage_yaml","source":"86a5cd7f2766404e.yaml","type":"application/yaml","size":1395},{"uid":"99f98cf1d571824e","name":"rest_request","source":"99f98cf1d571824e.yaml","type":"application/yaml","size":214},{"uid":"aec8029f36aa31f3","name":"rest_response","source":"aec8029f36aa31f3.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1689064305631,"stop":1689064305643,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"a3c65434ef019d52","name":"stage_yaml","source":"a3c65434ef019d52.yaml","type":"application/yaml","size":251},{"uid":"3a2483edc9a199b7","name":"rest_request","source":"3a2483edc9a199b7.yaml","type":"application/yaml","size":173},{"uid":"89fa4e4ea1223d3f","name":"rest_response","source":"89fa4e4ea1223d3f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1689064305644,"stop":1689064305655,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"323768e9fbced75","name":"stage_yaml","source":"323768e9fbced75.yaml","type":"application/yaml","size":251},{"uid":"7d564e7d2170d5bc","name":"rest_request","source":"7d564e7d2170d5bc.yaml","type":"application/yaml","size":173},{"uid":"22ee602aa9d48e3f","name":"rest_response","source":"22ee602aa9d48e3f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1689064305656,"stop":1689064305686,"duration":30},"status":"passed","steps":[],"attachments":[{"uid":"8139f57b25a30bb4","name":"stage_yaml","source":"8139f57b25a30bb4.yaml","type":"application/yaml","size":903},{"uid":"afc1c94647401f65","name":"rest_request","source":"afc1c94647401f65.yaml","type":"application/yaml","size":286},{"uid":"2980893bbc3b1cb0","name":"rest_response","source":"2980893bbc3b1cb0.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1689064305686,"stop":1689064305729,"duration":43},"status":"passed","steps":[],"attachments":[{"uid":"73c467a1b41be55a","name":"stage_yaml","source":"73c467a1b41be55a.yaml","type":"application/yaml","size":2415},{"uid":"51d981472313119a","name":"rest_request","source":"51d981472313119a.yaml","type":"application/yaml","size":160},{"uid":"2aa1d23f6534dda2","name":"rest_response","source":"2aa1d23f6534dda2.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1689064305730,"stop":1689064305748,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"2a67aefe2b4f6db7","name":"stage_yaml","source":"2a67aefe2b4f6db7.yaml","type":"application/yaml","size":1466},{"uid":"81a901fd7de31dbc","name":"rest_request","source":"81a901fd7de31dbc.yaml","type":"application/yaml","size":218},{"uid":"78d053ff16e51003","name":"rest_response","source":"78d053ff16e51003.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1689064305749,"stop":1689064305767,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"c790ad68e07c39b5","name":"stage_yaml","source":"c790ad68e07c39b5.yaml","type":"application/yaml","size":1449},{"uid":"5ca420ef1a126b16","name":"rest_request","source":"5ca420ef1a126b16.yaml","type":"application/yaml","size":212},{"uid":"ec1838b22b90e29f","name":"rest_response","source":"ec1838b22b90e29f.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1689064305768,"stop":1689064305794,"duration":26},"status":"passed","steps":[],"attachments":[{"uid":"864121421f649093","name":"stage_yaml","source":"864121421f649093.yaml","type":"application/yaml","size":759},{"uid":"1853ae958e5bf48e","name":"rest_request","source":"1853ae958e5bf48e.yaml","type":"application/yaml","size":212},{"uid":"d6c287580ce2eadc","name":"rest_response","source":"d6c287580ce2eadc.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1689064305795,"stop":1689064305836,"duration":41},"status":"passed","steps":[],"attachments":[{"uid":"55ceccacaa6bf419","name":"stage_yaml","source":"55ceccacaa6bf419.yaml","type":"application/yaml","size":1477},{"uid":"bb39c0ee83943030","name":"rest_request","source":"bb39c0ee83943030.yaml","type":"application/yaml","size":212},{"uid":"b44e357f32ce3e1","name":"rest_response","source":"b44e357f32ce3e1.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1689064305837,"stop":1689064305852,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"43960ccd75564435","name":"stage_yaml","source":"43960ccd75564435.yaml","type":"application/yaml","size":247},{"uid":"b46bc77c9ce80115","name":"rest_request","source":"b46bc77c9ce80115.yaml","type":"application/yaml","size":173},{"uid":"c8e2a86239f542c6","name":"rest_response","source":"c8e2a86239f542c6.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1689064305853,"stop":1689064305863,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"b3383f0f4bcdd8fb","name":"stage_yaml","source":"b3383f0f4bcdd8fb.yaml","type":"application/yaml","size":279},{"uid":"26cbca0705a6ff6f","name":"rest_request","source":"26cbca0705a6ff6f.yaml","type":"application/yaml","size":173},{"uid":"50816152767dddb","name":"rest_response","source":"50816152767dddb.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1689064305864,"stop":1689064305875,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"342398d8a5b9e02","name":"stage_yaml","source":"342398d8a5b9e02.yaml","type":"application/yaml","size":247},{"uid":"319492c193572083","name":"rest_request","source":"319492c193572083.yaml","type":"application/yaml","size":173},{"uid":"99271009c8c97e5f","name":"rest_response","source":"99271009c8c97e5f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1689064305876,"stop":1689064305886,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"67a599e10e836959","name":"stage_yaml","source":"67a599e10e836959.yaml","type":"application/yaml","size":279},{"uid":"60ab0a5b1ffcc695","name":"rest_request","source":"60ab0a5b1ffcc695.yaml","type":"application/yaml","size":173},{"uid":"f86229c9a3a56578","name":"rest_response","source":"f86229c9a3a56578.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"08cd19f263fe"},{"name":"thread","value":"9-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":18,"broken":0,"skipped":0,"passed":87,"unknown":0,"total":105},"items":[{"uid":"61007e21257e664f","status":"passed","time":{"start":1688977810085,"stop":1688977810400,"duration":315}},{"uid":"17510368c734b66f","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe7cbfe6b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1027, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688891388453,"stop":1688891388638,"duration":185}},{"uid":"8790c34d2669a605","status":"passed","time":{"start":1688805011630,"stop":1688805011949,"duration":319}},{"uid":"87e1b4ace11942ca","status":"passed","time":{"start":1688718663216,"stop":1688718663521,"duration":305}},{"uid":"aa5c56904ed66efc","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe3dc606b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1018, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688632186007,"stop":1688632186191,"duration":184}},{"uid":"1cf512006b2d3e6f","status":"passed","time":{"start":1688545847292,"stop":1688545847724,"duration":432}},{"uid":"a05d32cfe47eebeb","status":"passed","time":{"start":1688459403240,"stop":1688459403565,"duration":325}},{"uid":"40fef215278d98b9","status":"passed","time":{"start":1688373023106,"stop":1688373023437,"duration":331}},{"uid":"d9c001aeb824f45","status":"passed","time":{"start":1688286556703,"stop":1688286557002,"duration":299}},{"uid":"d4c7ebd6a0dcebc9","status":"passed","time":{"start":1688200255796,"stop":1688200256190,"duration":394}},{"uid":"c4ddd36c6cb12a3a","status":"passed","time":{"start":1688113867984,"stop":1688113868427,"duration":443}},{"uid":"9381ec8eda249c1b","status":"passed","time":{"start":1688027476723,"stop":1688027477170,"duration":447}},{"uid":"6bb6442b68d9c103","status":"passed","time":{"start":1683189002626,"stop":1683189003046,"duration":420}},{"uid":"4b6873a1823116bd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f84f3415f70>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1006, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1683102545816,"stop":1683102546050,"duration":234}},{"uid":"b7664fb19113cb6c","status":"passed","time":{"start":1683016240906,"stop":1683016241325,"duration":419}},{"uid":"98463af4bba0ab3f","status":"passed","time":{"start":1682929767917,"stop":1682929768232,"duration":315}},{"uid":"997ae139b55b10fe","status":"passed","time":{"start":1682843464312,"stop":1682843464770,"duration":458}},{"uid":"204c45f0d25ac45b","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fb92201cf70>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1012, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1682757030324,"stop":1682757030557,"duration":233}},{"uid":"a25643f2668dafb0","status":"passed","time":{"start":1682670533855,"stop":1682670534190,"duration":335}},{"uid":"b59ed28025253c6d","status":"passed","time":{"start":1682584216726,"stop":1682584217164,"duration":438}}]},"tags":[]},"source":"d96db8057a9a6df8.json","parameterValues":[]}