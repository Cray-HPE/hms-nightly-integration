{"uid":"e78f135a7f955095","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1689582649261,"stop":1689582649593,"duration":332},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1689582649273,"stop":1689582649310,"duration":37},"status":"passed","steps":[],"attachments":[{"uid":"319b672353d2e60d","name":"stage_yaml","source":"319b672353d2e60d.yaml","type":"application/yaml","size":457},{"uid":"8870bd76ad2f28d2","name":"rest_request","source":"8870bd76ad2f28d2.yaml","type":"application/yaml","size":149},{"uid":"4610d94669c1f605","name":"rest_response","source":"4610d94669c1f605.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1689582649311,"stop":1689582649362,"duration":51},"status":"passed","steps":[],"attachments":[{"uid":"d2275998fa061634","name":"stage_yaml","source":"d2275998fa061634.yaml","type":"application/yaml","size":472},{"uid":"8f6d21963c9f7853","name":"rest_request","source":"8f6d21963c9f7853.yaml","type":"application/yaml","size":173},{"uid":"519e66368b51a6c6","name":"rest_response","source":"519e66368b51a6c6.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1689582649363,"stop":1689582649372,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"ef5bfe80ab00b3d4","name":"stage_yaml","source":"ef5bfe80ab00b3d4.yaml","type":"application/yaml","size":247},{"uid":"8c45efcd20ab9755","name":"rest_request","source":"8c45efcd20ab9755.yaml","type":"application/yaml","size":173},{"uid":"6a54c747b005299d","name":"rest_response","source":"6a54c747b005299d.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1689582649373,"stop":1689582649382,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"a53ed2d93c7f2058","name":"stage_yaml","source":"a53ed2d93c7f2058.yaml","type":"application/yaml","size":247},{"uid":"f654f4b17d1c6231","name":"rest_request","source":"f654f4b17d1c6231.yaml","type":"application/yaml","size":173},{"uid":"e34f2144273e8756","name":"rest_response","source":"e34f2144273e8756.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1689582649383,"stop":1689582649399,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"acdb2f15f9557d52","name":"stage_yaml","source":"acdb2f15f9557d52.yaml","type":"application/yaml","size":1395},{"uid":"54a329a86c3e0607","name":"rest_request","source":"54a329a86c3e0607.yaml","type":"application/yaml","size":214},{"uid":"a2b52d98dd6643a3","name":"rest_response","source":"a2b52d98dd6643a3.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1689582649400,"stop":1689582649408,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"ee5b662be3906093","name":"stage_yaml","source":"ee5b662be3906093.yaml","type":"application/yaml","size":251},{"uid":"bad9f28b4b4869ba","name":"rest_request","source":"bad9f28b4b4869ba.yaml","type":"application/yaml","size":173},{"uid":"5a90b4e1b5f4e3e1","name":"rest_response","source":"5a90b4e1b5f4e3e1.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1689582649409,"stop":1689582649418,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"88fc3bf6ffa19fa3","name":"stage_yaml","source":"88fc3bf6ffa19fa3.yaml","type":"application/yaml","size":251},{"uid":"3f912b70cd897edc","name":"rest_request","source":"3f912b70cd897edc.yaml","type":"application/yaml","size":173},{"uid":"15e11abd099ac5f4","name":"rest_response","source":"15e11abd099ac5f4.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1689582649419,"stop":1689582649446,"duration":27},"status":"passed","steps":[],"attachments":[{"uid":"ea21544c53c2b3b6","name":"stage_yaml","source":"ea21544c53c2b3b6.yaml","type":"application/yaml","size":903},{"uid":"fa9f21bd5b3b0d73","name":"rest_request","source":"fa9f21bd5b3b0d73.yaml","type":"application/yaml","size":286},{"uid":"bee7294b75a1af5e","name":"rest_response","source":"bee7294b75a1af5e.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1689582649447,"stop":1689582649475,"duration":28},"status":"passed","steps":[],"attachments":[{"uid":"5f0da11e27a7f8b6","name":"stage_yaml","source":"5f0da11e27a7f8b6.yaml","type":"application/yaml","size":2415},{"uid":"b5142f85619164d5","name":"rest_request","source":"b5142f85619164d5.yaml","type":"application/yaml","size":160},{"uid":"f0cf831ef58ac3c8","name":"rest_response","source":"f0cf831ef58ac3c8.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1689582649476,"stop":1689582649493,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"971844ce2539c23b","name":"stage_yaml","source":"971844ce2539c23b.yaml","type":"application/yaml","size":1466},{"uid":"d222523ff76e2fd9","name":"rest_request","source":"d222523ff76e2fd9.yaml","type":"application/yaml","size":218},{"uid":"7e8dac705328e62d","name":"rest_response","source":"7e8dac705328e62d.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1689582649494,"stop":1689582649509,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"7a6519b1239462aa","name":"stage_yaml","source":"7a6519b1239462aa.yaml","type":"application/yaml","size":1449},{"uid":"501b78b984664ac","name":"rest_request","source":"501b78b984664ac.yaml","type":"application/yaml","size":212},{"uid":"de414775e04f6d30","name":"rest_response","source":"de414775e04f6d30.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1689582649510,"stop":1689582649528,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"2cee32064eed301c","name":"stage_yaml","source":"2cee32064eed301c.yaml","type":"application/yaml","size":759},{"uid":"9cf5d4c2640535cf","name":"rest_request","source":"9cf5d4c2640535cf.yaml","type":"application/yaml","size":212},{"uid":"41fd68ba4c3bae95","name":"rest_response","source":"41fd68ba4c3bae95.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1689582649529,"stop":1689582649551,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"a7077b29e279e23a","name":"stage_yaml","source":"a7077b29e279e23a.yaml","type":"application/yaml","size":1477},{"uid":"5114eda92e2b2bf8","name":"rest_request","source":"5114eda92e2b2bf8.yaml","type":"application/yaml","size":212},{"uid":"b9cefb9c9d754289","name":"rest_response","source":"b9cefb9c9d754289.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1689582649552,"stop":1689582649561,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"9ebc1534caa47092","name":"stage_yaml","source":"9ebc1534caa47092.yaml","type":"application/yaml","size":247},{"uid":"ade59af8e16e1ca","name":"rest_request","source":"ade59af8e16e1ca.yaml","type":"application/yaml","size":173},{"uid":"27f5fca2a838646f","name":"rest_response","source":"27f5fca2a838646f.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1689582649562,"stop":1689582649572,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"bcffae98ba1dfa84","name":"stage_yaml","source":"bcffae98ba1dfa84.yaml","type":"application/yaml","size":279},{"uid":"81e23307ed9a8584","name":"rest_request","source":"81e23307ed9a8584.yaml","type":"application/yaml","size":172},{"uid":"a19e0dcb63256035","name":"rest_response","source":"a19e0dcb63256035.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1689582649573,"stop":1689582649583,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"299626f89a16a598","name":"stage_yaml","source":"299626f89a16a598.yaml","type":"application/yaml","size":247},{"uid":"5453cd08f5220bbd","name":"rest_request","source":"5453cd08f5220bbd.yaml","type":"application/yaml","size":173},{"uid":"78b77a17952740f6","name":"rest_response","source":"78b77a17952740f6.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1689582649584,"stop":1689582649592,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"ffa444fea4be0b65","name":"stage_yaml","source":"ffa444fea4be0b65.yaml","type":"application/yaml","size":279},{"uid":"6b42d85dedd74bab","name":"rest_request","source":"6b42d85dedd74bab.yaml","type":"application/yaml","size":173},{"uid":"c001bb894ecf18c1","name":"rest_response","source":"c001bb894ecf18c1.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"a24f281fd6be"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":18,"broken":0,"skipped":0,"passed":94,"unknown":0,"total":112},"items":[{"uid":"def2a6012062ce97","status":"passed","time":{"start":1689496221079,"stop":1689496221401,"duration":322}},{"uid":"c3fd499646e560e1","status":"passed","time":{"start":1689409813597,"stop":1689409813924,"duration":327}},{"uid":"5028501dd8320d66","status":"passed","time":{"start":1689391606204,"stop":1689391606528,"duration":324}},{"uid":"88acec67b810f87e","status":"passed","time":{"start":1689323504162,"stop":1689323504612,"duration":450}},{"uid":"6a89b18246b8015a","status":"passed","time":{"start":1689237083259,"stop":1689237083592,"duration":333}},{"uid":"7d1574e023241c1d","status":"passed","time":{"start":1689150630056,"stop":1689150630390,"duration":334}},{"uid":"d96db8057a9a6df8","status":"passed","time":{"start":1689064305444,"stop":1689064305886,"duration":442}},{"uid":"61007e21257e664f","status":"passed","time":{"start":1688977810085,"stop":1688977810400,"duration":315}},{"uid":"17510368c734b66f","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe7cbfe6b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1027, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688891388453,"stop":1688891388638,"duration":185}},{"uid":"8790c34d2669a605","status":"passed","time":{"start":1688805011630,"stop":1688805011949,"duration":319}},{"uid":"87e1b4ace11942ca","status":"passed","time":{"start":1688718663216,"stop":1688718663521,"duration":305}},{"uid":"aa5c56904ed66efc","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe3dc606b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1018, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688632186007,"stop":1688632186191,"duration":184}},{"uid":"1cf512006b2d3e6f","status":"passed","time":{"start":1688545847292,"stop":1688545847724,"duration":432}},{"uid":"a05d32cfe47eebeb","status":"passed","time":{"start":1688459403240,"stop":1688459403565,"duration":325}},{"uid":"40fef215278d98b9","status":"passed","time":{"start":1688373023106,"stop":1688373023437,"duration":331}},{"uid":"d9c001aeb824f45","status":"passed","time":{"start":1688286556703,"stop":1688286557002,"duration":299}},{"uid":"d4c7ebd6a0dcebc9","status":"passed","time":{"start":1688200255796,"stop":1688200256190,"duration":394}},{"uid":"c4ddd36c6cb12a3a","status":"passed","time":{"start":1688113867984,"stop":1688113868427,"duration":443}},{"uid":"9381ec8eda249c1b","status":"passed","time":{"start":1688027476723,"stop":1688027477170,"duration":447}},{"uid":"6bb6442b68d9c103","status":"passed","time":{"start":1683189002626,"stop":1683189003046,"duration":420}}]},"tags":[]},"source":"e78f135a7f955095.json","parameterValues":[]}