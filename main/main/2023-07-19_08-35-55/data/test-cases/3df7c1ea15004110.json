{"uid":"3df7c1ea15004110","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1689755385835,"stop":1689755386152,"duration":317},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1689755385847,"stop":1689755385883,"duration":36},"status":"passed","steps":[],"attachments":[{"uid":"14fd4a0ca7434d96","name":"stage_yaml","source":"14fd4a0ca7434d96.yaml","type":"application/yaml","size":457},{"uid":"eaefb5b7420da7cc","name":"rest_request","source":"eaefb5b7420da7cc.yaml","type":"application/yaml","size":149},{"uid":"6404a6e452d39a08","name":"rest_response","source":"6404a6e452d39a08.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1689755385884,"stop":1689755385936,"duration":52},"status":"passed","steps":[],"attachments":[{"uid":"c2b9965ca77778b4","name":"stage_yaml","source":"c2b9965ca77778b4.yaml","type":"application/yaml","size":472},{"uid":"6fe812562bb2eff7","name":"rest_request","source":"6fe812562bb2eff7.yaml","type":"application/yaml","size":173},{"uid":"a0d791e07547a396","name":"rest_response","source":"a0d791e07547a396.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1689755385937,"stop":1689755385946,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"133d5e463570c48d","name":"stage_yaml","source":"133d5e463570c48d.yaml","type":"application/yaml","size":247},{"uid":"a98a2667842b58d3","name":"rest_request","source":"a98a2667842b58d3.yaml","type":"application/yaml","size":173},{"uid":"b4257241ca416929","name":"rest_response","source":"b4257241ca416929.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1689755385946,"stop":1689755385955,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"da786c68b7787db2","name":"stage_yaml","source":"da786c68b7787db2.yaml","type":"application/yaml","size":247},{"uid":"f73383fe5711249a","name":"rest_request","source":"f73383fe5711249a.yaml","type":"application/yaml","size":173},{"uid":"4a8307074d73b053","name":"rest_response","source":"4a8307074d73b053.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1689755385956,"stop":1689755385971,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"b4c3dda21b68780f","name":"stage_yaml","source":"b4c3dda21b68780f.yaml","type":"application/yaml","size":1395},{"uid":"878176e03f756e63","name":"rest_request","source":"878176e03f756e63.yaml","type":"application/yaml","size":214},{"uid":"a1862f18f942cb55","name":"rest_response","source":"a1862f18f942cb55.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1689755385972,"stop":1689755385981,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"672b78737313cf3c","name":"stage_yaml","source":"672b78737313cf3c.yaml","type":"application/yaml","size":251},{"uid":"f9b24f8f500ab58e","name":"rest_request","source":"f9b24f8f500ab58e.yaml","type":"application/yaml","size":173},{"uid":"1b3e603b5602b043","name":"rest_response","source":"1b3e603b5602b043.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1689755385982,"stop":1689755385991,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"9d8f912d36b44825","name":"stage_yaml","source":"9d8f912d36b44825.yaml","type":"application/yaml","size":251},{"uid":"53f65aa0abb14ae6","name":"rest_request","source":"53f65aa0abb14ae6.yaml","type":"application/yaml","size":173},{"uid":"670601f91674a9b4","name":"rest_response","source":"670601f91674a9b4.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1689755385992,"stop":1689755386016,"duration":24},"status":"passed","steps":[],"attachments":[{"uid":"1591d133e67893c","name":"stage_yaml","source":"1591d133e67893c.yaml","type":"application/yaml","size":903},{"uid":"56c4a49ddbd351d4","name":"rest_request","source":"56c4a49ddbd351d4.yaml","type":"application/yaml","size":286},{"uid":"26be5ce030f5a539","name":"rest_response","source":"26be5ce030f5a539.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1689755386017,"stop":1689755386043,"duration":26},"status":"passed","steps":[],"attachments":[{"uid":"ffeb2e4692ce7eda","name":"stage_yaml","source":"ffeb2e4692ce7eda.yaml","type":"application/yaml","size":2415},{"uid":"8f2e43ab31dec7a1","name":"rest_request","source":"8f2e43ab31dec7a1.yaml","type":"application/yaml","size":160},{"uid":"ec1103bbef6ab9d7","name":"rest_response","source":"ec1103bbef6ab9d7.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1689755386043,"stop":1689755386059,"duration":16},"status":"passed","steps":[],"attachments":[{"uid":"b6661b52c7d4cf3d","name":"stage_yaml","source":"b6661b52c7d4cf3d.yaml","type":"application/yaml","size":1466},{"uid":"ce04fec13195e705","name":"rest_request","source":"ce04fec13195e705.yaml","type":"application/yaml","size":218},{"uid":"20d5d6223329b833","name":"rest_response","source":"20d5d6223329b833.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1689755386060,"stop":1689755386075,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"e1648cafe44cc289","name":"stage_yaml","source":"e1648cafe44cc289.yaml","type":"application/yaml","size":1449},{"uid":"6f8e375bf6a95372","name":"rest_request","source":"6f8e375bf6a95372.yaml","type":"application/yaml","size":212},{"uid":"caa1f3eacdd36eef","name":"rest_response","source":"caa1f3eacdd36eef.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1689755386076,"stop":1689755386094,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"51fcf111e45b581d","name":"stage_yaml","source":"51fcf111e45b581d.yaml","type":"application/yaml","size":759},{"uid":"44d137f4d408c3b8","name":"rest_request","source":"44d137f4d408c3b8.yaml","type":"application/yaml","size":212},{"uid":"e3b70118da08f682","name":"rest_response","source":"e3b70118da08f682.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1689755386095,"stop":1689755386114,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"966276904e32e70c","name":"stage_yaml","source":"966276904e32e70c.yaml","type":"application/yaml","size":1477},{"uid":"e21a85b9c48f992f","name":"rest_request","source":"e21a85b9c48f992f.yaml","type":"application/yaml","size":212},{"uid":"1c96f2b83ce6ce4e","name":"rest_response","source":"1c96f2b83ce6ce4e.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1689755386115,"stop":1689755386124,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"242e81c7961e7e38","name":"stage_yaml","source":"242e81c7961e7e38.yaml","type":"application/yaml","size":247},{"uid":"39c5cacf853d7bca","name":"rest_request","source":"39c5cacf853d7bca.yaml","type":"application/yaml","size":173},{"uid":"8a7c943747d0f511","name":"rest_response","source":"8a7c943747d0f511.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1689755386125,"stop":1689755386133,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"83cfe52879b94c47","name":"stage_yaml","source":"83cfe52879b94c47.yaml","type":"application/yaml","size":279},{"uid":"1703f26ec6e942f3","name":"rest_request","source":"1703f26ec6e942f3.yaml","type":"application/yaml","size":173},{"uid":"6f269acc7b374fb5","name":"rest_response","source":"6f269acc7b374fb5.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1689755386134,"stop":1689755386142,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"abe28ede8236b9cd","name":"stage_yaml","source":"abe28ede8236b9cd.yaml","type":"application/yaml","size":247},{"uid":"412f416e696287b0","name":"rest_request","source":"412f416e696287b0.yaml","type":"application/yaml","size":173},{"uid":"463315c7d0d8d48b","name":"rest_response","source":"463315c7d0d8d48b.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1689755386143,"stop":1689755386152,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"4bb79bb95b80c1a2","name":"stage_yaml","source":"4bb79bb95b80c1a2.yaml","type":"application/yaml","size":279},{"uid":"a032bce5d69135f","name":"rest_request","source":"a032bce5d69135f.yaml","type":"application/yaml","size":173},{"uid":"31d26e5abb42ac83","name":"rest_response","source":"31d26e5abb42ac83.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"a973b51d500a"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":18,"broken":0,"skipped":0,"passed":96,"unknown":0,"total":114},"items":[{"uid":"bb932dc7bb0e89f3","status":"passed","time":{"start":1689669054700,"stop":1689669055042,"duration":342}},{"uid":"e78f135a7f955095","status":"passed","time":{"start":1689582649261,"stop":1689582649593,"duration":332}},{"uid":"def2a6012062ce97","status":"passed","time":{"start":1689496221079,"stop":1689496221401,"duration":322}},{"uid":"c3fd499646e560e1","status":"passed","time":{"start":1689409813597,"stop":1689409813924,"duration":327}},{"uid":"5028501dd8320d66","status":"passed","time":{"start":1689391606204,"stop":1689391606528,"duration":324}},{"uid":"88acec67b810f87e","status":"passed","time":{"start":1689323504162,"stop":1689323504612,"duration":450}},{"uid":"6a89b18246b8015a","status":"passed","time":{"start":1689237083259,"stop":1689237083592,"duration":333}},{"uid":"7d1574e023241c1d","status":"passed","time":{"start":1689150630056,"stop":1689150630390,"duration":334}},{"uid":"d96db8057a9a6df8","status":"passed","time":{"start":1689064305444,"stop":1689064305886,"duration":442}},{"uid":"61007e21257e664f","status":"passed","time":{"start":1688977810085,"stop":1688977810400,"duration":315}},{"uid":"17510368c734b66f","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe7cbfe6b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1027, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688891388453,"stop":1688891388638,"duration":185}},{"uid":"8790c34d2669a605","status":"passed","time":{"start":1688805011630,"stop":1688805011949,"duration":319}},{"uid":"87e1b4ace11942ca","status":"passed","time":{"start":1688718663216,"stop":1688718663521,"duration":305}},{"uid":"aa5c56904ed66efc","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7fe3dc606b80>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}, {'nid': 1018, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1688632186007,"stop":1688632186191,"duration":184}},{"uid":"1cf512006b2d3e6f","status":"passed","time":{"start":1688545847292,"stop":1688545847724,"duration":432}},{"uid":"a05d32cfe47eebeb","status":"passed","time":{"start":1688459403240,"stop":1688459403565,"duration":325}},{"uid":"40fef215278d98b9","status":"passed","time":{"start":1688373023106,"stop":1688373023437,"duration":331}},{"uid":"d9c001aeb824f45","status":"passed","time":{"start":1688286556703,"stop":1688286557002,"duration":299}},{"uid":"d4c7ebd6a0dcebc9","status":"passed","time":{"start":1688200255796,"stop":1688200256190,"duration":394}},{"uid":"c4ddd36c6cb12a3a","status":"passed","time":{"start":1688113867984,"stop":1688113868427,"duration":443}}]},"tags":[]},"source":"3df7c1ea15004110.json","parameterValues":[]}