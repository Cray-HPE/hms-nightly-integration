{"uid":"119470a6ed4e56c4","name":"Verify power-cap for a single node","fullName":"api.3-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"e2ae67539213be5181105043ad513bb3","time":{"start":1711010164100,"stop":1711010171633,"duration":7533},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1711010164276,"stop":1711010164309,"duration":33},"status":"passed","steps":[],"attachments":[{"uid":"a67844b7970e3f09","name":"stage_yaml","source":"a67844b7970e3f09.yaml","type":"application/yaml","size":333},{"uid":"84870fcdf7135911","name":"rest_request","source":"84870fcdf7135911.yaml","type":"application/yaml","size":149},{"uid":"286901f5b17a432a","name":"rest_response","source":"286901f5b17a432a.yaml","type":"application/yaml","size":5772}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1711010164309,"stop":1711010164317,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"58635b440ad81ce9","name":"stage_yaml","source":"58635b440ad81ce9.yaml","type":"application/yaml","size":228},{"uid":"685afebdc25b2b0","name":"rest_request","source":"685afebdc25b2b0.yaml","type":"application/yaml","size":173},{"uid":"324cec43ec7d71cd","name":"rest_response","source":"324cec43ec7d71cd.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1711010164318,"stop":1711010164326,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"fbdce10762ab30e9","name":"stage_yaml","source":"fbdce10762ab30e9.yaml","type":"application/yaml","size":231},{"uid":"246f7092a2d8b00b","name":"rest_request","source":"246f7092a2d8b00b.yaml","type":"application/yaml","size":173},{"uid":"21a6c3dbb95d7917","name":"rest_response","source":"21a6c3dbb95d7917.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1711010164327,"stop":1711010164337,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"6a4a5a58bdb929ad","name":"stage_yaml","source":"6a4a5a58bdb929ad.yaml","type":"application/yaml","size":543},{"uid":"8da82c3ab944e723","name":"rest_request","source":"8da82c3ab944e723.yaml","type":"application/yaml","size":166},{"uid":"ddd625d9d5f46297","name":"rest_response","source":"ddd625d9d5f46297.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1711010164339,"stop":1711010165353,"duration":1014},"status":"passed","steps":[],"attachments":[{"uid":"f30c843fefe1d352","name":"stage_yaml","source":"f30c843fefe1d352.yaml","type":"application/yaml","size":661},{"uid":"98fa0e95f7f1c0f2","name":"rest_request","source":"98fa0e95f7f1c0f2.yaml","type":"application/yaml","size":159},{"uid":"68f1c3b0e2411fd","name":"rest_response","source":"68f1c3b0e2411fd.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1711010165354,"stop":1711010165369,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"88ed7e16e0cb9086","name":"stage_yaml","source":"88ed7e16e0cb9086.yaml","type":"application/yaml","size":3543},{"uid":"5dc83835a2b8bc73","name":"rest_request","source":"5dc83835a2b8bc73.yaml","type":"application/yaml","size":159},{"uid":"fa725315ba493600","name":"rest_response","source":"fa725315ba493600.yaml","type":"application/yaml","size":678}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1711010165370,"stop":1711010165380,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"ea0e4274f3d3490c","name":"stage_yaml","source":"ea0e4274f3d3490c.yaml","type":"application/yaml","size":639},{"uid":"5b8cee9fca194f97","name":"rest_request","source":"5b8cee9fca194f97.yaml","type":"application/yaml","size":229},{"uid":"46e60da8a0b1712c","name":"rest_response","source":"46e60da8a0b1712c.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1711010165383,"stop":1711010166395,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"fdbbcdef8eea746d","name":"stage_yaml","source":"fdbbcdef8eea746d.yaml","type":"application/yaml","size":679},{"uid":"7a1248beeb6fd5a2","name":"rest_request","source":"7a1248beeb6fd5a2.yaml","type":"application/yaml","size":159},{"uid":"f874a3634696186f","name":"rest_response","source":"f874a3634696186f.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1711010166396,"stop":1711010166410,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"1c79d908c1bf5aa4","name":"stage_yaml","source":"1c79d908c1bf5aa4.yaml","type":"application/yaml","size":3157},{"uid":"3b468dd85145053f","name":"rest_request","source":"3b468dd85145053f.yaml","type":"application/yaml","size":159},{"uid":"3c6e4f8aa7d87416","name":"rest_response","source":"3c6e4f8aa7d87416.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1711010166411,"stop":1711010166421,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"b76a202b89ab5d90","name":"stage_yaml","source":"b76a202b89ab5d90.yaml","type":"application/yaml","size":639},{"uid":"660abce7f054635","name":"rest_request","source":"660abce7f054635.yaml","type":"application/yaml","size":229},{"uid":"9c295b61ff130fa4","name":"rest_response","source":"9c295b61ff130fa4.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1711010166424,"stop":1711010167436,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"a1d70c45d89e0ad3","name":"stage_yaml","source":"a1d70c45d89e0ad3.yaml","type":"application/yaml","size":679},{"uid":"4ba7857a5465b444","name":"rest_request","source":"4ba7857a5465b444.yaml","type":"application/yaml","size":159},{"uid":"ef28e0cd3fbe3791","name":"rest_response","source":"ef28e0cd3fbe3791.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1711010167437,"stop":1711010167452,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"50f945169bd455a9","name":"stage_yaml","source":"50f945169bd455a9.yaml","type":"application/yaml","size":3157},{"uid":"b8ea958f9e4f6f4e","name":"rest_request","source":"b8ea958f9e4f6f4e.yaml","type":"application/yaml","size":159},{"uid":"7af025b5b9de42a9","name":"rest_response","source":"7af025b5b9de42a9.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1711010167452,"stop":1711010167463,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"59c1493523329fbf","name":"stage_yaml","source":"59c1493523329fbf.yaml","type":"application/yaml","size":639},{"uid":"dec0dde8d4e5e19f","name":"rest_request","source":"dec0dde8d4e5e19f.yaml","type":"application/yaml","size":233},{"uid":"8fb1cecd6bb5a92d","name":"rest_response","source":"8fb1cecd6bb5a92d.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1711010167465,"stop":1711010168476,"duration":1011},"status":"passed","steps":[],"attachments":[{"uid":"7db429e1f7f5593b","name":"stage_yaml","source":"7db429e1f7f5593b.yaml","type":"application/yaml","size":685},{"uid":"903e5f03862d19fe","name":"rest_request","source":"903e5f03862d19fe.yaml","type":"application/yaml","size":159},{"uid":"a68487f523d9fd3","name":"rest_response","source":"a68487f523d9fd3.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1711010168477,"stop":1711010168490,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"4905393629521258","name":"stage_yaml","source":"4905393629521258.yaml","type":"application/yaml","size":2234},{"uid":"485e80efeecef12c","name":"rest_request","source":"485e80efeecef12c.yaml","type":"application/yaml","size":159},{"uid":"e7989d6239bd9f0e","name":"rest_response","source":"e7989d6239bd9f0e.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1711010168491,"stop":1711010168502,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"81bf5df09f26202d","name":"stage_yaml","source":"81bf5df09f26202d.yaml","type":"application/yaml","size":631},{"uid":"7d160083f3c73c9a","name":"rest_request","source":"7d160083f3c73c9a.yaml","type":"application/yaml","size":227},{"uid":"bbee9430aa695403","name":"rest_response","source":"bbee9430aa695403.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1711010168504,"stop":1711010169516,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"f6c200ae93b9eef2","name":"stage_yaml","source":"f6c200ae93b9eef2.yaml","type":"application/yaml","size":685},{"uid":"1a52943b4b70e290","name":"rest_request","source":"1a52943b4b70e290.yaml","type":"application/yaml","size":159},{"uid":"7c57fce384e02cd0","name":"rest_response","source":"7c57fce384e02cd0.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1711010169517,"stop":1711010169530,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"ad59cfc61c2ad9e2","name":"stage_yaml","source":"ad59cfc61c2ad9e2.yaml","type":"application/yaml","size":2230},{"uid":"f2dbf0b81719ce7a","name":"rest_request","source":"f2dbf0b81719ce7a.yaml","type":"application/yaml","size":159},{"uid":"f619cf8324724390","name":"rest_response","source":"f619cf8324724390.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1711010169531,"stop":1711010169541,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"124240cdae20da7e","name":"stage_yaml","source":"124240cdae20da7e.yaml","type":"application/yaml","size":599},{"uid":"8a3351fc71322c35","name":"rest_request","source":"8a3351fc71322c35.yaml","type":"application/yaml","size":227},{"uid":"95a6fe5697ed154","name":"rest_response","source":"95a6fe5697ed154.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1711010169543,"stop":1711010170556,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"2b2e36c5a4f56b3b","name":"stage_yaml","source":"2b2e36c5a4f56b3b.yaml","type":"application/yaml","size":679},{"uid":"5a4c05f632d83456","name":"rest_request","source":"5a4c05f632d83456.yaml","type":"application/yaml","size":159},{"uid":"9ef3aa2f5022e56a","name":"rest_response","source":"9ef3aa2f5022e56a.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1711010170557,"stop":1711010170572,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"105dcd55a745ff15","name":"stage_yaml","source":"105dcd55a745ff15.yaml","type":"application/yaml","size":3125},{"uid":"daab30fe9925f20b","name":"rest_request","source":"daab30fe9925f20b.yaml","type":"application/yaml","size":159},{"uid":"259da0a2f75c0eb7","name":"rest_response","source":"259da0a2f75c0eb7.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1711010170572,"stop":1711010170583,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"22f579aa644336c0","name":"stage_yaml","source":"22f579aa644336c0.yaml","type":"application/yaml","size":640},{"uid":"3fb2bf037f0f64cb","name":"rest_request","source":"3fb2bf037f0f64cb.yaml","type":"application/yaml","size":227},{"uid":"1eaaadcac31aceba","name":"rest_response","source":"1eaaadcac31aceba.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1711010170585,"stop":1711010171597,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"6e25445db3c2afc7","name":"stage_yaml","source":"6e25445db3c2afc7.yaml","type":"application/yaml","size":680},{"uid":"b729c5da6088c17d","name":"rest_request","source":"b729c5da6088c17d.yaml","type":"application/yaml","size":159},{"uid":"6eb87c5fc2e375d6","name":"rest_response","source":"6eb87c5fc2e375d6.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1711010171599,"stop":1711010171613,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"6110c4f0a0ad617","name":"stage_yaml","source":"6110c4f0a0ad617.yaml","type":"application/yaml","size":3160},{"uid":"dad22796cc2f5a0a","name":"rest_request","source":"dad22796cc2f5a0a.yaml","type":"application/yaml","size":159},{"uid":"278fcf08993fe508","name":"rest_response","source":"278fcf08993fe508.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1711010171614,"stop":1711010171623,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"7b741d2aa4e06c6e","name":"stage_yaml","source":"7b741d2aa4e06c6e.yaml","type":"application/yaml","size":276},{"uid":"415a3707d8257a9a","name":"rest_request","source":"415a3707d8257a9a.yaml","type":"application/yaml","size":173},{"uid":"6c3a97433bcd1c40","name":"rest_response","source":"6c3a97433bcd1c40.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1711010171624,"stop":1711010171632,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"fd1b9da51684c87d","name":"stage_yaml","source":"fd1b9da51684c87d.yaml","type":"application/yaml","size":256},{"uid":"bd273943ef5c8ed7","name":"rest_request","source":"bd273943ef5c8ed7.yaml","type":"application/yaml","size":173},{"uid":"b930f8c3de5817a7","name":"rest_response","source":"b930f8c3de5817a7.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":78,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"d9557fe14df3"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":12,"broken":0,"skipped":0,"passed":250,"unknown":0,"total":262},"items":[{"uid":"a9e7ea3f5513771c","status":"passed","time":{"start":1710923768133,"stop":1710923775662,"duration":7529}},{"uid":"899a2bb90d4903b","status":"passed","time":{"start":1710837467505,"stop":1710837475030,"duration":7525}},{"uid":"422f10d7514d6748","status":"passed","time":{"start":1710750889872,"stop":1710750897412,"duration":7540}},{"uid":"32cacdc2c4c70e69","status":"passed","time":{"start":1710664579528,"stop":1710664587058,"duration":7530}},{"uid":"39bf2032189f66c6","status":"passed","time":{"start":1710578153397,"stop":1710578160926,"duration":7529}},{"uid":"adc9cc27a3624a4","status":"passed","time":{"start":1710491803126,"stop":1710491810659,"duration":7533}},{"uid":"b9a0bd7f4f9b72d5","status":"passed","time":{"start":1710405415255,"stop":1710405422777,"duration":7522}},{"uid":"86db003187594457","status":"passed","time":{"start":1710318525596,"stop":1710318533156,"duration":7560}},{"uid":"7e9340c63a8e2d73","status":"passed","time":{"start":1710232050345,"stop":1710232057866,"duration":7521}},{"uid":"4c65a85489270035","status":"passed","time":{"start":1710145709514,"stop":1710145717035,"duration":7521}},{"uid":"fc43821b03f3b857","status":"passed","time":{"start":1710059300887,"stop":1710059308403,"duration":7516}},{"uid":"140896651c8ffbc2","status":"passed","time":{"start":1709972892285,"stop":1709972899806,"duration":7521}},{"uid":"e9b77ab31cb43c65","status":"passed","time":{"start":1709886507180,"stop":1709886514693,"duration":7513}},{"uid":"85649831832e12cf","status":"passed","time":{"start":1709800070823,"stop":1709800078340,"duration":7517}},{"uid":"9eba4aab02b3cf00","status":"passed","time":{"start":1709713771262,"stop":1709713778784,"duration":7522}},{"uid":"5abaa9cdabcd6eb5","status":"passed","time":{"start":1709627312404,"stop":1709627319942,"duration":7538}},{"uid":"64b5756b04235656","status":"passed","time":{"start":1709541686173,"stop":1709541693696,"duration":7523}},{"uid":"f2c0dc2d16479cac","status":"passed","time":{"start":1709454519686,"stop":1709454527216,"duration":7530}},{"uid":"d08af2531eea84fd","status":"passed","time":{"start":1709368099681,"stop":1709368107213,"duration":7532}},{"uid":"5820811ee57624f7","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Retrieve the completed power-cap patch for the target node and minimum power cap value' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f1c84b75d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Key 'error' was not defined. Path: '/components/0'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1709281755559,"stop":1709281764969,"duration":9410}}]},"tags":[]},"source":"119470a6ed4e56c4.json","parameterValues":[]}