{"uid":"e358c7e1e1a12ac3","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1711096285381,"stop":1711096285638,"duration":257},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1711096285390,"stop":1711096285419,"duration":29},"status":"passed","steps":[],"attachments":[{"uid":"3970c4732b9ddf40","name":"stage_yaml","source":"3970c4732b9ddf40.yaml","type":"application/yaml","size":457},{"uid":"a36500d6728bef9e","name":"rest_request","source":"a36500d6728bef9e.yaml","type":"application/yaml","size":149},{"uid":"4adbdaf87846c82d","name":"rest_response","source":"4adbdaf87846c82d.yaml","type":"application/yaml","size":5770}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1711096285420,"stop":1711096285458,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"682fe3fb3c7782f9","name":"stage_yaml","source":"682fe3fb3c7782f9.yaml","type":"application/yaml","size":472},{"uid":"894dc5e98604e5d1","name":"rest_request","source":"894dc5e98604e5d1.yaml","type":"application/yaml","size":173},{"uid":"38073e603d09b5cb","name":"rest_response","source":"38073e603d09b5cb.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1711096285459,"stop":1711096285467,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"8e0069ee34a5090f","name":"stage_yaml","source":"8e0069ee34a5090f.yaml","type":"application/yaml","size":247},{"uid":"6e9eeb95a0ad2180","name":"rest_request","source":"6e9eeb95a0ad2180.yaml","type":"application/yaml","size":173},{"uid":"d2bf8c973420bae9","name":"rest_response","source":"d2bf8c973420bae9.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1711096285468,"stop":1711096285475,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"5903e774082fa2df","name":"stage_yaml","source":"5903e774082fa2df.yaml","type":"application/yaml","size":247},{"uid":"c0dc7545dd432265","name":"rest_request","source":"c0dc7545dd432265.yaml","type":"application/yaml","size":173},{"uid":"83c9739ce1732c95","name":"rest_response","source":"83c9739ce1732c95.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1711096285475,"stop":1711096285490,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"f4f1e954d22d98fe","name":"stage_yaml","source":"f4f1e954d22d98fe.yaml","type":"application/yaml","size":1395},{"uid":"26dbaaefc8cdf67a","name":"rest_request","source":"26dbaaefc8cdf67a.yaml","type":"application/yaml","size":214},{"uid":"9b8b28db01063ab7","name":"rest_response","source":"9b8b28db01063ab7.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1711096285491,"stop":1711096285499,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"e7b1d8d04369c54","name":"stage_yaml","source":"e7b1d8d04369c54.yaml","type":"application/yaml","size":251},{"uid":"86c24f2e97e2e519","name":"rest_request","source":"86c24f2e97e2e519.yaml","type":"application/yaml","size":173},{"uid":"2b7fbad4b54f3231","name":"rest_response","source":"2b7fbad4b54f3231.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1711096285499,"stop":1711096285507,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"762726915b265a7e","name":"stage_yaml","source":"762726915b265a7e.yaml","type":"application/yaml","size":251},{"uid":"5b15e1ade5c89af7","name":"rest_request","source":"5b15e1ade5c89af7.yaml","type":"application/yaml","size":173},{"uid":"e892ab1aabd47ad9","name":"rest_response","source":"e892ab1aabd47ad9.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1711096285507,"stop":1711096285526,"duration":19},"status":"passed","steps":[],"attachments":[{"uid":"6f2b75e67e75c5cc","name":"stage_yaml","source":"6f2b75e67e75c5cc.yaml","type":"application/yaml","size":903},{"uid":"a71d2a9d6e7abfab","name":"rest_request","source":"a71d2a9d6e7abfab.yaml","type":"application/yaml","size":286},{"uid":"7b47f55a8e3096e5","name":"rest_response","source":"7b47f55a8e3096e5.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1711096285527,"stop":1711096285547,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"1e132e82ce839605","name":"stage_yaml","source":"1e132e82ce839605.yaml","type":"application/yaml","size":2415},{"uid":"2f347ef89117c1a6","name":"rest_request","source":"2f347ef89117c1a6.yaml","type":"application/yaml","size":160},{"uid":"17c0b0b596a4b5ef","name":"rest_response","source":"17c0b0b596a4b5ef.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1711096285548,"stop":1711096285560,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"f047c9153d9daf4c","name":"stage_yaml","source":"f047c9153d9daf4c.yaml","type":"application/yaml","size":1466},{"uid":"4426e35029ccc4f","name":"rest_request","source":"4426e35029ccc4f.yaml","type":"application/yaml","size":218},{"uid":"2bfede12cc261e89","name":"rest_response","source":"2bfede12cc261e89.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1711096285561,"stop":1711096285573,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"3ecfde7df5828197","name":"stage_yaml","source":"3ecfde7df5828197.yaml","type":"application/yaml","size":1449},{"uid":"d09570fb0332d040","name":"rest_request","source":"d09570fb0332d040.yaml","type":"application/yaml","size":212},{"uid":"1fac7c86e78a473b","name":"rest_response","source":"1fac7c86e78a473b.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1711096285573,"stop":1711096285588,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"e36b912b6901b360","name":"stage_yaml","source":"e36b912b6901b360.yaml","type":"application/yaml","size":759},{"uid":"ea9835033bd68b17","name":"rest_request","source":"ea9835033bd68b17.yaml","type":"application/yaml","size":212},{"uid":"8b61973af511886a","name":"rest_response","source":"8b61973af511886a.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1711096285589,"stop":1711096285604,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"706fa36785f9c1ac","name":"stage_yaml","source":"706fa36785f9c1ac.yaml","type":"application/yaml","size":1477},{"uid":"c647c966b60b77e5","name":"rest_request","source":"c647c966b60b77e5.yaml","type":"application/yaml","size":212},{"uid":"2d1411e843031ee8","name":"rest_response","source":"2d1411e843031ee8.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1711096285605,"stop":1711096285612,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"e6ccd70d55e1fd1d","name":"stage_yaml","source":"e6ccd70d55e1fd1d.yaml","type":"application/yaml","size":247},{"uid":"5f3ad37cc1fb1a5a","name":"rest_request","source":"5f3ad37cc1fb1a5a.yaml","type":"application/yaml","size":173},{"uid":"b6744f5e6905b9a6","name":"rest_response","source":"b6744f5e6905b9a6.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1711096285613,"stop":1711096285621,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"96af9c6d696ea7ff","name":"stage_yaml","source":"96af9c6d696ea7ff.yaml","type":"application/yaml","size":279},{"uid":"7b26129e35bd9307","name":"rest_request","source":"7b26129e35bd9307.yaml","type":"application/yaml","size":172},{"uid":"3c730a9172746c75","name":"rest_response","source":"3c730a9172746c75.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1711096285621,"stop":1711096285629,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"5802fe2b5d98359b","name":"stage_yaml","source":"5802fe2b5d98359b.yaml","type":"application/yaml","size":247},{"uid":"2ed20dd54279f844","name":"rest_request","source":"2ed20dd54279f844.yaml","type":"application/yaml","size":173},{"uid":"8e034642597594f7","name":"rest_response","source":"8e034642597594f7.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1711096285630,"stop":1711096285637,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"332c95f5ff44a196","name":"stage_yaml","source":"332c95f5ff44a196.yaml","type":"application/yaml","size":279},{"uid":"fa764bd1b6c6ef40","name":"rest_request","source":"fa764bd1b6c6ef40.yaml","type":"application/yaml","size":172},{"uid":"7fc61b16569fefa7","name":"rest_response","source":"7fc61b16569fefa7.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"89658d37c8e4"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":22,"broken":0,"skipped":0,"passed":241,"unknown":0,"total":263},"items":[{"uid":"e17b4a43ed05e23d","status":"passed","time":{"start":1711009788813,"stop":1711009789082,"duration":269}},{"uid":"c3c65a2b2bce27fd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7506fa5475e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1009, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710923392950,"stop":1710923393091,"duration":141}},{"uid":"ee8e50d7d4af3312","status":"passed","time":{"start":1710837046810,"stop":1710837047055,"duration":245}},{"uid":"cbefb440cfe38241","status":"passed","time":{"start":1710750590412,"stop":1710750590689,"duration":277}},{"uid":"c45065378dcf240f","status":"passed","time":{"start":1710664187598,"stop":1710664187862,"duration":264}},{"uid":"9da4aa01ce6b501d","status":"passed","time":{"start":1710577791486,"stop":1710577791736,"duration":250}},{"uid":"4bd9522959238fe1","status":"passed","time":{"start":1710491411779,"stop":1710491412035,"duration":256}},{"uid":"13cbf78d8b9d2e82","status":"passed","time":{"start":1710405054454,"stop":1710405054713,"duration":259}},{"uid":"6a537726d676452","status":"passed","time":{"start":1710318538117,"stop":1710318538387,"duration":270}},{"uid":"b50c7bcaa4735c3f","status":"passed","time":{"start":1710232062739,"stop":1710232062998,"duration":259}},{"uid":"6df7e9afde70b643","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f5ef6d2e5e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1002, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710145721922,"stop":1710145722062,"duration":140}},{"uid":"459dcbf5d2ad2880","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f67983dd5e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710059313258,"stop":1710059313395,"duration":137}},{"uid":"889267792ca3458d","status":"passed","time":{"start":1709972904673,"stop":1709972904922,"duration":249}},{"uid":"788b131ff6b0508e","status":"passed","time":{"start":1709886519565,"stop":1709886519818,"duration":253}},{"uid":"33a32eba2c71b3ef","status":"passed","time":{"start":1709800084235,"stop":1709800084492,"duration":257}},{"uid":"27dfabf5aa59718b","status":"passed","time":{"start":1709713783641,"stop":1709713783899,"duration":258}},{"uid":"2789bf6da54a1acb","status":"passed","time":{"start":1709627324890,"stop":1709627325159,"duration":269}},{"uid":"7d6aba7204da9b6f","status":"passed","time":{"start":1709541698594,"stop":1709541698854,"duration":260}},{"uid":"f18d23f416a07934","status":"passed","time":{"start":1709454532089,"stop":1709454532343,"duration":254}},{"uid":"69368eb92d646e96","status":"passed","time":{"start":1709368112139,"stop":1709368112395,"duration":256}}]},"tags":[]},"source":"e358c7e1e1a12ac3.json","parameterValues":[]}