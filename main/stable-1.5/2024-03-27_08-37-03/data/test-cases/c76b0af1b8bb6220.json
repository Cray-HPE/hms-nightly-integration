{"uid":"c76b0af1b8bb6220","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1711528245152,"stop":1711528245418,"duration":266},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1711528245162,"stop":1711528245192,"duration":30},"status":"passed","steps":[],"attachments":[{"uid":"b4e9ce55594c066f","name":"stage_yaml","source":"b4e9ce55594c066f.yaml","type":"application/yaml","size":457},{"uid":"dbdae84712d51b35","name":"rest_request","source":"dbdae84712d51b35.yaml","type":"application/yaml","size":149},{"uid":"13e5d97140e289f","name":"rest_response","source":"13e5d97140e289f.yaml","type":"application/yaml","size":5774}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1711528245193,"stop":1711528245231,"duration":38},"status":"passed","steps":[],"attachments":[{"uid":"a6c29c9eeacf4caf","name":"stage_yaml","source":"a6c29c9eeacf4caf.yaml","type":"application/yaml","size":472},{"uid":"23d61208bcb57f2c","name":"rest_request","source":"23d61208bcb57f2c.yaml","type":"application/yaml","size":173},{"uid":"311bf69bebe94341","name":"rest_response","source":"311bf69bebe94341.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1711528245232,"stop":1711528245240,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"d55fbf63f52be1cc","name":"stage_yaml","source":"d55fbf63f52be1cc.yaml","type":"application/yaml","size":247},{"uid":"77bfb94c1a2b9e54","name":"rest_request","source":"77bfb94c1a2b9e54.yaml","type":"application/yaml","size":173},{"uid":"ec925d486be25a2c","name":"rest_response","source":"ec925d486be25a2c.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1711528245242,"stop":1711528245249,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"e45b3650d2247885","name":"stage_yaml","source":"e45b3650d2247885.yaml","type":"application/yaml","size":247},{"uid":"ed1b16b34a64c78b","name":"rest_request","source":"ed1b16b34a64c78b.yaml","type":"application/yaml","size":173},{"uid":"8078b6c3c932fe2a","name":"rest_response","source":"8078b6c3c932fe2a.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1711528245250,"stop":1711528245263,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"32686780b3fa63cd","name":"stage_yaml","source":"32686780b3fa63cd.yaml","type":"application/yaml","size":1395},{"uid":"11b5d8069cf7538e","name":"rest_request","source":"11b5d8069cf7538e.yaml","type":"application/yaml","size":214},{"uid":"28b7997138eadf63","name":"rest_response","source":"28b7997138eadf63.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1711528245264,"stop":1711528245272,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"53fd2ed42ffc098f","name":"stage_yaml","source":"53fd2ed42ffc098f.yaml","type":"application/yaml","size":251},{"uid":"7bd7a5021f2fa55","name":"rest_request","source":"7bd7a5021f2fa55.yaml","type":"application/yaml","size":173},{"uid":"bd6a075bc99b8de3","name":"rest_response","source":"bd6a075bc99b8de3.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1711528245273,"stop":1711528245280,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"a3f48f8e4df19c8b","name":"stage_yaml","source":"a3f48f8e4df19c8b.yaml","type":"application/yaml","size":251},{"uid":"acad4ce742e1f577","name":"rest_request","source":"acad4ce742e1f577.yaml","type":"application/yaml","size":173},{"uid":"993710bf13f8a307","name":"rest_response","source":"993710bf13f8a307.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1711528245280,"stop":1711528245302,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"e510888f325aebf8","name":"stage_yaml","source":"e510888f325aebf8.yaml","type":"application/yaml","size":903},{"uid":"a5153e4096a95f62","name":"rest_request","source":"a5153e4096a95f62.yaml","type":"application/yaml","size":286},{"uid":"a9100cd29be7032d","name":"rest_response","source":"a9100cd29be7032d.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1711528245303,"stop":1711528245323,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"ee58485072070b05","name":"stage_yaml","source":"ee58485072070b05.yaml","type":"application/yaml","size":2415},{"uid":"2e1ea0e62266d5f8","name":"rest_request","source":"2e1ea0e62266d5f8.yaml","type":"application/yaml","size":160},{"uid":"5d7d3eebc7b4a2ec","name":"rest_response","source":"5d7d3eebc7b4a2ec.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1711528245324,"stop":1711528245337,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"9078847622999714","name":"stage_yaml","source":"9078847622999714.yaml","type":"application/yaml","size":1466},{"uid":"50ed169dcb61a6df","name":"rest_request","source":"50ed169dcb61a6df.yaml","type":"application/yaml","size":218},{"uid":"d0674032832cc03a","name":"rest_response","source":"d0674032832cc03a.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1711528245338,"stop":1711528245351,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"92a4de0950c2718c","name":"stage_yaml","source":"92a4de0950c2718c.yaml","type":"application/yaml","size":1449},{"uid":"4e34c87158c26222","name":"rest_request","source":"4e34c87158c26222.yaml","type":"application/yaml","size":212},{"uid":"5f0985b9269425b1","name":"rest_response","source":"5f0985b9269425b1.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1711528245352,"stop":1711528245367,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"63166260abf9cfa2","name":"stage_yaml","source":"63166260abf9cfa2.yaml","type":"application/yaml","size":759},{"uid":"42ef32c37d4b2d9e","name":"rest_request","source":"42ef32c37d4b2d9e.yaml","type":"application/yaml","size":212},{"uid":"70f7395bb6799f92","name":"rest_response","source":"70f7395bb6799f92.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1711528245367,"stop":1711528245384,"duration":17},"status":"passed","steps":[],"attachments":[{"uid":"d57303c3e785ec34","name":"stage_yaml","source":"d57303c3e785ec34.yaml","type":"application/yaml","size":1477},{"uid":"208e537bf1a84a73","name":"rest_request","source":"208e537bf1a84a73.yaml","type":"application/yaml","size":212},{"uid":"283203460581b54a","name":"rest_response","source":"283203460581b54a.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1711528245384,"stop":1711528245392,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"434340d15ee1efce","name":"stage_yaml","source":"434340d15ee1efce.yaml","type":"application/yaml","size":247},{"uid":"67e3e11719b637d6","name":"rest_request","source":"67e3e11719b637d6.yaml","type":"application/yaml","size":173},{"uid":"e57b557a4dae335","name":"rest_response","source":"e57b557a4dae335.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1711528245393,"stop":1711528245400,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"ebac01ffe895df92","name":"stage_yaml","source":"ebac01ffe895df92.yaml","type":"application/yaml","size":279},{"uid":"e468385e9a5471c6","name":"rest_request","source":"e468385e9a5471c6.yaml","type":"application/yaml","size":172},{"uid":"c09f246b3fcc4078","name":"rest_response","source":"c09f246b3fcc4078.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1711528245401,"stop":1711528245409,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"96951ce2242551a5","name":"stage_yaml","source":"96951ce2242551a5.yaml","type":"application/yaml","size":247},{"uid":"8a9cc86d4ab0d46a","name":"rest_request","source":"8a9cc86d4ab0d46a.yaml","type":"application/yaml","size":173},{"uid":"3a4cafea51207601","name":"rest_response","source":"3a4cafea51207601.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1711528245410,"stop":1711528245418,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"44685e19639aa498","name":"stage_yaml","source":"44685e19639aa498.yaml","type":"application/yaml","size":279},{"uid":"2f795fbf3a50489","name":"rest_request","source":"2f795fbf3a50489.yaml","type":"application/yaml","size":172},{"uid":"2eb003c724db5d6b","name":"rest_response","source":"2eb003c724db5d6b.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"52bf57230d74"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":23,"broken":0,"skipped":0,"passed":245,"unknown":0,"total":268},"items":[{"uid":"3221240d3abb816c","status":"passed","time":{"start":1711441732700,"stop":1711441732967,"duration":267}},{"uid":"bf56a2ce16d0469c","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f64aa4225e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1026, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1711355507018,"stop":1711355507163,"duration":145}},{"uid":"497f021d82fbe79","status":"passed","time":{"start":1711269018879,"stop":1711269019151,"duration":272}},{"uid":"8e6e5fe89fbf7180","status":"passed","time":{"start":1711182545242,"stop":1711182545500,"duration":258}},{"uid":"e358c7e1e1a12ac3","status":"passed","time":{"start":1711096285381,"stop":1711096285638,"duration":257}},{"uid":"e17b4a43ed05e23d","status":"passed","time":{"start":1711009788813,"stop":1711009789082,"duration":269}},{"uid":"c3c65a2b2bce27fd","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7506fa5475e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1009, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710923392950,"stop":1710923393091,"duration":141}},{"uid":"ee8e50d7d4af3312","status":"passed","time":{"start":1710837046810,"stop":1710837047055,"duration":245}},{"uid":"cbefb440cfe38241","status":"passed","time":{"start":1710750590412,"stop":1710750590689,"duration":277}},{"uid":"c45065378dcf240f","status":"passed","time":{"start":1710664187598,"stop":1710664187862,"duration":264}},{"uid":"9da4aa01ce6b501d","status":"passed","time":{"start":1710577791486,"stop":1710577791736,"duration":250}},{"uid":"4bd9522959238fe1","status":"passed","time":{"start":1710491411779,"stop":1710491412035,"duration":256}},{"uid":"13cbf78d8b9d2e82","status":"passed","time":{"start":1710405054454,"stop":1710405054713,"duration":259}},{"uid":"6a537726d676452","status":"passed","time":{"start":1710318538117,"stop":1710318538387,"duration":270}},{"uid":"b50c7bcaa4735c3f","status":"passed","time":{"start":1710232062739,"stop":1710232062998,"duration":259}},{"uid":"6df7e9afde70b643","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f5ef6d2e5e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1002, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710145721922,"stop":1710145722062,"duration":140}},{"uid":"459dcbf5d2ad2880","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f67983dd5e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710059313258,"stop":1710059313395,"duration":137}},{"uid":"889267792ca3458d","status":"passed","time":{"start":1709972904673,"stop":1709972904922,"duration":249}},{"uid":"788b131ff6b0508e","status":"passed","time":{"start":1709886519565,"stop":1709886519818,"duration":253}},{"uid":"33a32eba2c71b3ef","status":"passed","time":{"start":1709800084235,"stop":1709800084492,"duration":257}}]},"tags":[]},"source":"c76b0af1b8bb6220.json","parameterValues":[]}