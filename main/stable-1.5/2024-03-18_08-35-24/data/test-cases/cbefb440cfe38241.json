{"uid":"cbefb440cfe38241","name":"capmcAPISetPowerCap","fullName":"api.4-build-pipeline-only.test_set_power_cap.tavern#capmcAPISetPowerCap","historyId":"dd408b17f7b8e55258fcff9f663cd89b","time":{"start":1710750590412,"stop":1710750590689,"duration":277},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: capmcAPISetPowerCap - setup1 - Get HSM Nodes","time":{"start":1710750590422,"stop":1710750590453,"duration":31},"status":"passed","steps":[],"attachments":[{"uid":"5cf35c816746e43e","name":"stage_yaml","source":"5cf35c816746e43e.yaml","type":"application/yaml","size":457},{"uid":"5b6fffa48c941394","name":"rest_request","source":"5b6fffa48c941394.yaml","type":"application/yaml","size":149},{"uid":"83c55a83341e16c0","name":"rest_response","source":"83c55a83341e16c0.yaml","type":"application/yaml","size":5770}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: capmcAPISetPowerCap - setup2 - get_power_cap_capabilities","time":{"start":1710750590453,"stop":1710750590492,"duration":39},"status":"passed","steps":[],"attachments":[{"uid":"faf36f771f52a4d1","name":"stage_yaml","source":"faf36f771f52a4d1.yaml","type":"application/yaml","size":472},{"uid":"59a5285026be5a3","name":"rest_request","source":"59a5285026be5a3.yaml","type":"application/yaml","size":173},{"uid":"a5d03825556c8496","name":"rest_response","source":"a5d03825556c8496.yaml","type":"application/yaml","size":515}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: capmcAPISetPowerCap - setup3 - Set HSM Node 0 to Off","time":{"start":1710750590493,"stop":1710750590501,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"7ba9bee089569f7d","name":"stage_yaml","source":"7ba9bee089569f7d.yaml","type":"application/yaml","size":247},{"uid":"1cb9befafa162c83","name":"rest_request","source":"1cb9befafa162c83.yaml","type":"application/yaml","size":173},{"uid":"738b3202361f844b","name":"rest_response","source":"738b3202361f844b.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: capmcAPISetPowerCap - setup4 - Set HSM Node 1 to Off","time":{"start":1710750590502,"stop":1710750590510,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"bedef8a60752268e","name":"stage_yaml","source":"bedef8a60752268e.yaml","type":"application/yaml","size":247},{"uid":"940f714a0fbcfc36","name":"rest_request","source":"940f714a0fbcfc36.yaml","type":"application/yaml","size":173},{"uid":"aa61135f51183a5","name":"rest_response","source":"aa61135f51183a5.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: capmcAPISetPowerCap - test1 - POST set_power_cap for powered off node - failure test","time":{"start":1710750590511,"stop":1710750590525,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"80efe3ef734c251","name":"stage_yaml","source":"80efe3ef734c251.yaml","type":"application/yaml","size":1395},{"uid":"1fb0da38a922e707","name":"rest_request","source":"1fb0da38a922e707.yaml","type":"application/yaml","size":214},{"uid":"56d2affa06d09c34","name":"rest_response","source":"56d2affa06d09c34.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: capmcAPISetPowerCap - setup5 - Set HSM Node 0 to Ready","time":{"start":1710750590525,"stop":1710750590534,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"a1b3d6609585c929","name":"stage_yaml","source":"a1b3d6609585c929.yaml","type":"application/yaml","size":251},{"uid":"237cde1027ea427b","name":"rest_request","source":"237cde1027ea427b.yaml","type":"application/yaml","size":173},{"uid":"e010a9508972c801","name":"rest_response","source":"e010a9508972c801.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: capmcAPISetPowerCap - setup6 - Set HSM Node 1 to Ready","time":{"start":1710750590535,"stop":1710750590542,"duration":7},"status":"passed","steps":[],"attachments":[{"uid":"b8067141796b8c53","name":"stage_yaml","source":"b8067141796b8c53.yaml","type":"application/yaml","size":251},{"uid":"40af95eb8c0daa44","name":"rest_request","source":"40af95eb8c0daa44.yaml","type":"application/yaml","size":173},{"uid":"93e8ed84210b9dbc","name":"rest_response","source":"93e8ed84210b9dbc.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes","time":{"start":1710750590543,"stop":1710750590563,"duration":20},"status":"passed","steps":[],"attachments":[{"uid":"805c170bf441f33b","name":"stage_yaml","source":"805c170bf441f33b.yaml","type":"application/yaml","size":903},{"uid":"e458bd7659d7fd95","name":"rest_request","source":"e458bd7659d7fd95.yaml","type":"application/yaml","size":286},{"uid":"7002039a633f0df9","name":"rest_response","source":"7002039a633f0df9.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: capmcAPIGetPowerCap - test3 - POST get_power_cap verify power cap values","time":{"start":1710750590563,"stop":1710750590585,"duration":22},"status":"passed","steps":[],"attachments":[{"uid":"134d8ab058877134","name":"stage_yaml","source":"134d8ab058877134.yaml","type":"application/yaml","size":2415},{"uid":"3f084b777710f4b2","name":"rest_request","source":"3f084b777710f4b2.yaml","type":"application/yaml","size":160},{"uid":"36c796ecb33d8be6","name":"rest_response","source":"36c796ecb33d8be6.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: capmcAPISetPowerCap - test4 - POST set_power_cap value larger than max - failure test","time":{"start":1710750590585,"stop":1710750590599,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"1290ab2ce733bc41","name":"stage_yaml","source":"1290ab2ce733bc41.yaml","type":"application/yaml","size":1466},{"uid":"ad76831114b7449e","name":"rest_request","source":"ad76831114b7449e.yaml","type":"application/yaml","size":218},{"uid":"15515b0435313f49","name":"rest_response","source":"15515b0435313f49.yaml","type":"application/yaml","size":326}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: capmcAPISetPowerCap - test5 - POST set_power_cap value less than min - failure test","time":{"start":1710750590600,"stop":1710750590615,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"4a5dc0cd6aa88985","name":"stage_yaml","source":"4a5dc0cd6aa88985.yaml","type":"application/yaml","size":1449},{"uid":"953ed1beca1be13e","name":"rest_request","source":"953ed1beca1be13e.yaml","type":"application/yaml","size":212},{"uid":"a3bf20e6250444c3","name":"rest_response","source":"a3bf20e6250444c3.yaml","type":"application/yaml","size":317}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: capmcAPISetPowerCap - test6 - POST set_power_cap to zero","time":{"start":1710750590616,"stop":1710750590634,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"ed28fa86174ebcea","name":"stage_yaml","source":"ed28fa86174ebcea.yaml","type":"application/yaml","size":759},{"uid":"5cde6cf8d49ee43c","name":"rest_request","source":"5cde6cf8d49ee43c.yaml","type":"application/yaml","size":212},{"uid":"bae1baa3d6ab7cfa","name":"rest_response","source":"bae1baa3d6ab7cfa.yaml","type":"application/yaml","size":186}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: capmcAPISetPowerCap - test7 - POST set_power_cap to zero second time - failure test","time":{"start":1710750590635,"stop":1710750590653,"duration":18},"status":"passed","steps":[],"attachments":[{"uid":"8cb899e51ab411c3","name":"stage_yaml","source":"8cb899e51ab411c3.yaml","type":"application/yaml","size":1477},{"uid":"a690e175fdad4a9c","name":"rest_request","source":"a690e175fdad4a9c.yaml","type":"application/yaml","size":212},{"uid":"244a0d690c6fd2a7","name":"rest_response","source":"244a0d690c6fd2a7.yaml","type":"application/yaml","size":267}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: capmcAPISetPowerCap - setup7 - Set HSM Node 0 to Off","time":{"start":1710750590654,"stop":1710750590662,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"46895888eb812a77","name":"stage_yaml","source":"46895888eb812a77.yaml","type":"application/yaml","size":247},{"uid":"7640a98c4bed9797","name":"rest_request","source":"7640a98c4bed9797.yaml","type":"application/yaml","size":173},{"uid":"e4ed8e5d2e99b0f4","name":"rest_response","source":"e4ed8e5d2e99b0f4.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: capmcAPISetPowerCap - setup8 - Set HSM Node 0 to its original state","time":{"start":1710750590663,"stop":1710750590671,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"b2df61f4f1f09eb1","name":"stage_yaml","source":"b2df61f4f1f09eb1.yaml","type":"application/yaml","size":279},{"uid":"15dd42a0475717d0","name":"rest_request","source":"15dd42a0475717d0.yaml","type":"application/yaml","size":172},{"uid":"b280fbb68ab05050","name":"rest_response","source":"b280fbb68ab05050.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: capmcAPISetPowerCap - setup9 - Set HSM Node 1 to Off","time":{"start":1710750590672,"stop":1710750590680,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"c146ceaefcb65cb6","name":"stage_yaml","source":"c146ceaefcb65cb6.yaml","type":"application/yaml","size":247},{"uid":"45008c307372c46a","name":"rest_request","source":"45008c307372c46a.yaml","type":"application/yaml","size":173},{"uid":"d4ac0cbd8a384705","name":"rest_response","source":"d4ac0cbd8a384705.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: capmcAPISetPowerCap - setup10 - Set HSM Node 1 to its original state","time":{"start":1710750590681,"stop":1710750590689,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"cfd45885272af49","name":"stage_yaml","source":"cfd45885272af49.yaml","type":"application/yaml","size":279},{"uid":"11d3a7aa9726c746","name":"rest_request","source":"11d3a7aa9726c746.yaml","type":"application/yaml","size":172},{"uid":"b830803c82ff8b30","name":"rest_response","source":"b830803c82ff8b30.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":17,"attachmentsCount":51,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-capmc-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"45a4ce630d4e"},{"name":"thread","value":"10-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.4-build-pipeline-only.test_set_power_cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":21,"broken":0,"skipped":0,"passed":238,"unknown":0,"total":259},"items":[{"uid":"c45065378dcf240f","status":"passed","time":{"start":1710664187598,"stop":1710664187862,"duration":264}},{"uid":"9da4aa01ce6b501d","status":"passed","time":{"start":1710577791486,"stop":1710577791736,"duration":250}},{"uid":"4bd9522959238fe1","status":"passed","time":{"start":1710491411779,"stop":1710491412035,"duration":256}},{"uid":"13cbf78d8b9d2e82","status":"passed","time":{"start":1710405054454,"stop":1710405054713,"duration":259}},{"uid":"6a537726d676452","status":"passed","time":{"start":1710318538117,"stop":1710318538387,"duration":270}},{"uid":"b50c7bcaa4735c3f","status":"passed","time":{"start":1710232062739,"stop":1710232062998,"duration":259}},{"uid":"6df7e9afde70b643","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f5ef6d2e5e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 1002, 'e': 22, 'err_msg': 'Control (Node Power Limit) value (5036) is greater than maximum (925)'}, {'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710145721922,"stop":1710145722062,"duration":140}},{"uid":"459dcbf5d2ad2880","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'capmcAPISetPowerCap - test2 - set_power_cap for two ready nodes' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f67983dd5e0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Enum '22' does not exist. Path: '/e' Enum: [0].\n     - Value '[{'nid': 20, 'e': 22, 'err_msg': 'No NID supported controls specified'}]' is not of type 'none'. Path: '/nids'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1710059313258,"stop":1710059313395,"duration":137}},{"uid":"889267792ca3458d","status":"passed","time":{"start":1709972904673,"stop":1709972904922,"duration":249}},{"uid":"788b131ff6b0508e","status":"passed","time":{"start":1709886519565,"stop":1709886519818,"duration":253}},{"uid":"33a32eba2c71b3ef","status":"passed","time":{"start":1709800084235,"stop":1709800084492,"duration":257}},{"uid":"27dfabf5aa59718b","status":"passed","time":{"start":1709713783641,"stop":1709713783899,"duration":258}},{"uid":"2789bf6da54a1acb","status":"passed","time":{"start":1709627324890,"stop":1709627325159,"duration":269}},{"uid":"7d6aba7204da9b6f","status":"passed","time":{"start":1709541698594,"stop":1709541698854,"duration":260}},{"uid":"f18d23f416a07934","status":"passed","time":{"start":1709454532089,"stop":1709454532343,"duration":254}},{"uid":"69368eb92d646e96","status":"passed","time":{"start":1709368112139,"stop":1709368112395,"duration":256}},{"uid":"268c813ac89ebd3e","status":"passed","time":{"start":1709281770164,"stop":1709281770418,"duration":254}},{"uid":"45238f7353dad526","status":"passed","time":{"start":1709195344570,"stop":1709195344826,"duration":256}},{"uid":"7e5fc942e123fbd0","status":"passed","time":{"start":1709108954799,"stop":1709108955069,"duration":270}},{"uid":"12854a2e31e1f87a","status":"passed","time":{"start":1709022573792,"stop":1709022574056,"duration":264}}]},"tags":[]},"source":"cbefb440cfe38241.json","parameterValues":[]}