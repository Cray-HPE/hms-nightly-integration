{"uid":"e2da452431563bfc","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1710750379553,"stop":1710750412091,"duration":32538},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1710750379560,"stop":1710750379590,"duration":30},"status":"passed","steps":[],"attachments":[{"uid":"4d7edb0f759f45f3","name":"stage_yaml","source":"4d7edb0f759f45f3.yaml","type":"application/yaml","size":302},{"uid":"d179eac53b23373d","name":"rest_request","source":"d179eac53b23373d.yaml","type":"application/yaml","size":162},{"uid":"f0f757966d42fcd2","name":"rest_response","source":"f0f757966d42fcd2.yaml","type":"application/yaml","size":5772}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1710750379590,"stop":1710750379601,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"84bb0b27c8a33b78","name":"stage_yaml","source":"84bb0b27c8a33b78.yaml","type":"application/yaml","size":797},{"uid":"9940e6fd3d3ee09e","name":"rest_request","source":"9940e6fd3d3ee09e.yaml","type":"application/yaml","size":216},{"uid":"7f8054a36ccfb799","name":"rest_response","source":"7f8054a36ccfb799.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1710750379602,"stop":1710750411013,"duration":31411},"status":"passed","steps":[],"attachments":[{"uid":"2cd190762f4d533","name":"stage_yaml","source":"2cd190762f4d533.yaml","type":"application/yaml","size":682},{"uid":"4bb5dd36f53659b0","name":"rest_request","source":"4bb5dd36f53659b0.yaml","type":"application/yaml","size":161},{"uid":"dcd8db505930af4f","name":"rest_response","source":"dcd8db505930af4f.yaml","type":"application/yaml","size":587},{"uid":"7df4b3bba91391ed","name":"stage_yaml","source":"7df4b3bba91391ed.yaml","type":"application/yaml","size":682},{"uid":"4e5f86c3cba94f84","name":"rest_request","source":"4e5f86c3cba94f84.yaml","type":"application/yaml","size":161},{"uid":"9f766099e5b7c00f","name":"rest_response","source":"9f766099e5b7c00f.yaml","type":"application/yaml","size":608},{"uid":"e9c00c61fc23148","name":"stage_yaml","source":"e9c00c61fc23148.yaml","type":"application/yaml","size":682},{"uid":"49656b7d317fde31","name":"rest_request","source":"49656b7d317fde31.yaml","type":"application/yaml","size":161},{"uid":"84ce0758930d8349","name":"rest_response","source":"84ce0758930d8349.yaml","type":"application/yaml","size":608},{"uid":"22528decff252a4a","name":"stage_yaml","source":"22528decff252a4a.yaml","type":"application/yaml","size":682},{"uid":"dede50fed3d04235","name":"rest_request","source":"dede50fed3d04235.yaml","type":"application/yaml","size":161},{"uid":"e7b2f427a9d73799","name":"rest_response","source":"e7b2f427a9d73799.yaml","type":"application/yaml","size":608},{"uid":"491c23b4cde35256","name":"stage_yaml","source":"491c23b4cde35256.yaml","type":"application/yaml","size":682},{"uid":"98d0e295aa2b24ce","name":"rest_request","source":"98d0e295aa2b24ce.yaml","type":"application/yaml","size":161},{"uid":"2296eb484de02770","name":"rest_response","source":"2296eb484de02770.yaml","type":"application/yaml","size":608},{"uid":"546af590884658aa","name":"stage_yaml","source":"546af590884658aa.yaml","type":"application/yaml","size":682},{"uid":"4188b669b21867cf","name":"rest_request","source":"4188b669b21867cf.yaml","type":"application/yaml","size":161},{"uid":"1b94dada8d9cfa0b","name":"rest_response","source":"1b94dada8d9cfa0b.yaml","type":"application/yaml","size":608},{"uid":"d3b5b300220ab23e","name":"stage_yaml","source":"d3b5b300220ab23e.yaml","type":"application/yaml","size":682},{"uid":"bd79c87023f22835","name":"rest_request","source":"bd79c87023f22835.yaml","type":"application/yaml","size":161},{"uid":"40d0de69a31e74c7","name":"rest_response","source":"40d0de69a31e74c7.yaml","type":"application/yaml","size":608},{"uid":"ff79c7d46a61280a","name":"stage_yaml","source":"ff79c7d46a61280a.yaml","type":"application/yaml","size":682},{"uid":"c19a21b29cc8e95b","name":"rest_request","source":"c19a21b29cc8e95b.yaml","type":"application/yaml","size":161},{"uid":"c7dfcc651702e45d","name":"rest_response","source":"c7dfcc651702e45d.yaml","type":"application/yaml","size":608},{"uid":"9486ba8ad5d5fa93","name":"stage_yaml","source":"9486ba8ad5d5fa93.yaml","type":"application/yaml","size":682},{"uid":"f3181b825abcd860","name":"rest_request","source":"f3181b825abcd860.yaml","type":"application/yaml","size":161},{"uid":"b54e83f0ed92cd58","name":"rest_response","source":"b54e83f0ed92cd58.yaml","type":"application/yaml","size":608},{"uid":"584fde4c96e61496","name":"stage_yaml","source":"584fde4c96e61496.yaml","type":"application/yaml","size":682},{"uid":"6846621d692edac7","name":"rest_request","source":"6846621d692edac7.yaml","type":"application/yaml","size":161},{"uid":"dec51aa32a899adf","name":"rest_response","source":"dec51aa32a899adf.yaml","type":"application/yaml","size":608},{"uid":"5ade37b9f72d6661","name":"stage_yaml","source":"5ade37b9f72d6661.yaml","type":"application/yaml","size":682},{"uid":"3ef2e79b693de4f5","name":"rest_request","source":"3ef2e79b693de4f5.yaml","type":"application/yaml","size":161},{"uid":"2cfb92efa8d8fc97","name":"rest_response","source":"2cfb92efa8d8fc97.yaml","type":"application/yaml","size":608},{"uid":"5aca58295faa7c7e","name":"stage_yaml","source":"5aca58295faa7c7e.yaml","type":"application/yaml","size":682},{"uid":"daf162990998b3ae","name":"rest_request","source":"daf162990998b3ae.yaml","type":"application/yaml","size":161},{"uid":"97f69c65e51939ac","name":"rest_response","source":"97f69c65e51939ac.yaml","type":"application/yaml","size":608},{"uid":"db5534744a316842","name":"stage_yaml","source":"db5534744a316842.yaml","type":"application/yaml","size":682},{"uid":"5572acdcd9bc7245","name":"rest_request","source":"5572acdcd9bc7245.yaml","type":"application/yaml","size":161},{"uid":"7fcd5bfd53c58cfc","name":"rest_response","source":"7fcd5bfd53c58cfc.yaml","type":"application/yaml","size":608},{"uid":"f24a3c07ab285a4b","name":"stage_yaml","source":"f24a3c07ab285a4b.yaml","type":"application/yaml","size":682},{"uid":"9386d8539cc79cc3","name":"rest_request","source":"9386d8539cc79cc3.yaml","type":"application/yaml","size":161},{"uid":"9e0c094e9782036c","name":"rest_response","source":"9e0c094e9782036c.yaml","type":"application/yaml","size":608},{"uid":"1fd4816331691b41","name":"stage_yaml","source":"1fd4816331691b41.yaml","type":"application/yaml","size":682},{"uid":"756fb8f109874fbf","name":"rest_request","source":"756fb8f109874fbf.yaml","type":"application/yaml","size":161},{"uid":"ed9a0a474961fd2b","name":"rest_response","source":"ed9a0a474961fd2b.yaml","type":"application/yaml","size":608},{"uid":"ff94281ebbb29b35","name":"stage_yaml","source":"ff94281ebbb29b35.yaml","type":"application/yaml","size":682},{"uid":"541a665ad4e612c9","name":"rest_request","source":"541a665ad4e612c9.yaml","type":"application/yaml","size":161},{"uid":"3849d19b37fc78b4","name":"rest_response","source":"3849d19b37fc78b4.yaml","type":"application/yaml","size":608},{"uid":"410d2793c7699f55","name":"stage_yaml","source":"410d2793c7699f55.yaml","type":"application/yaml","size":682},{"uid":"94cd5afc85acc8e8","name":"rest_request","source":"94cd5afc85acc8e8.yaml","type":"application/yaml","size":161},{"uid":"a5996b88e4e0f869","name":"rest_response","source":"a5996b88e4e0f869.yaml","type":"application/yaml","size":608},{"uid":"941a80685a365910","name":"stage_yaml","source":"941a80685a365910.yaml","type":"application/yaml","size":682},{"uid":"4d82dc6d8b8b3696","name":"rest_request","source":"4d82dc6d8b8b3696.yaml","type":"application/yaml","size":161},{"uid":"6ad8203cdbc29f00","name":"rest_response","source":"6ad8203cdbc29f00.yaml","type":"application/yaml","size":608},{"uid":"4951f98b9ebbd938","name":"stage_yaml","source":"4951f98b9ebbd938.yaml","type":"application/yaml","size":682},{"uid":"165249263bdbbf23","name":"rest_request","source":"165249263bdbbf23.yaml","type":"application/yaml","size":161},{"uid":"32f17f5038554b4","name":"rest_response","source":"32f17f5038554b4.yaml","type":"application/yaml","size":608},{"uid":"c8bec9f403b72336","name":"stage_yaml","source":"c8bec9f403b72336.yaml","type":"application/yaml","size":682},{"uid":"66a674574ef08642","name":"rest_request","source":"66a674574ef08642.yaml","type":"application/yaml","size":161},{"uid":"f66d8e34bf1037f3","name":"rest_response","source":"f66d8e34bf1037f3.yaml","type":"application/yaml","size":608},{"uid":"66ab257621405dea","name":"stage_yaml","source":"66ab257621405dea.yaml","type":"application/yaml","size":682},{"uid":"cf804719fd3246f5","name":"rest_request","source":"cf804719fd3246f5.yaml","type":"application/yaml","size":161},{"uid":"a0992db9cec8b246","name":"rest_response","source":"a0992db9cec8b246.yaml","type":"application/yaml","size":608},{"uid":"8ef03ccf3ea07599","name":"stage_yaml","source":"8ef03ccf3ea07599.yaml","type":"application/yaml","size":682},{"uid":"49c9895b05d6ece7","name":"rest_request","source":"49c9895b05d6ece7.yaml","type":"application/yaml","size":161},{"uid":"8e40e8d23aed564e","name":"rest_response","source":"8e40e8d23aed564e.yaml","type":"application/yaml","size":608},{"uid":"23168a6b65e1285d","name":"stage_yaml","source":"23168a6b65e1285d.yaml","type":"application/yaml","size":682},{"uid":"4bdedcb46b53cc74","name":"rest_request","source":"4bdedcb46b53cc74.yaml","type":"application/yaml","size":161},{"uid":"7bc8950afd852b01","name":"rest_response","source":"7bc8950afd852b01.yaml","type":"application/yaml","size":608},{"uid":"8ae04af8dec4716d","name":"stage_yaml","source":"8ae04af8dec4716d.yaml","type":"application/yaml","size":682},{"uid":"9d53b6369dbd951f","name":"rest_request","source":"9d53b6369dbd951f.yaml","type":"application/yaml","size":161},{"uid":"edf59abb8c21a25c","name":"rest_response","source":"edf59abb8c21a25c.yaml","type":"application/yaml","size":608},{"uid":"3ec1d1b4b131fdfd","name":"stage_yaml","source":"3ec1d1b4b131fdfd.yaml","type":"application/yaml","size":682},{"uid":"dac2b998867a919e","name":"rest_request","source":"dac2b998867a919e.yaml","type":"application/yaml","size":161},{"uid":"c2715037b907032a","name":"rest_response","source":"c2715037b907032a.yaml","type":"application/yaml","size":608},{"uid":"c85038ad47706127","name":"stage_yaml","source":"c85038ad47706127.yaml","type":"application/yaml","size":682},{"uid":"a481b4610d3a893f","name":"rest_request","source":"a481b4610d3a893f.yaml","type":"application/yaml","size":161},{"uid":"f49bbeb0da108f0a","name":"rest_response","source":"f49bbeb0da108f0a.yaml","type":"application/yaml","size":608},{"uid":"960fa2df7a5c662e","name":"stage_yaml","source":"960fa2df7a5c662e.yaml","type":"application/yaml","size":682},{"uid":"95449caf25897809","name":"rest_request","source":"95449caf25897809.yaml","type":"application/yaml","size":161},{"uid":"2a173b2d3b447e03","name":"rest_response","source":"2a173b2d3b447e03.yaml","type":"application/yaml","size":608},{"uid":"2ffb4abe739e72d7","name":"stage_yaml","source":"2ffb4abe739e72d7.yaml","type":"application/yaml","size":682},{"uid":"994947c81b0fbe8c","name":"rest_request","source":"994947c81b0fbe8c.yaml","type":"application/yaml","size":161},{"uid":"6c9300786a8e873","name":"rest_response","source":"6c9300786a8e873.yaml","type":"application/yaml","size":608},{"uid":"2c18947d331a542f","name":"stage_yaml","source":"2c18947d331a542f.yaml","type":"application/yaml","size":682},{"uid":"4ec7741e10fdfb99","name":"rest_request","source":"4ec7741e10fdfb99.yaml","type":"application/yaml","size":161},{"uid":"757e888044b635d6","name":"rest_response","source":"757e888044b635d6.yaml","type":"application/yaml","size":608},{"uid":"6e0332fed0c37097","name":"stage_yaml","source":"6e0332fed0c37097.yaml","type":"application/yaml","size":682},{"uid":"958fc41ef0d1344f","name":"rest_request","source":"958fc41ef0d1344f.yaml","type":"application/yaml","size":161},{"uid":"747207f767965b07","name":"rest_response","source":"747207f767965b07.yaml","type":"application/yaml","size":608},{"uid":"8d83ffce0095fe8d","name":"stage_yaml","source":"8d83ffce0095fe8d.yaml","type":"application/yaml","size":682},{"uid":"55121830615372dd","name":"rest_request","source":"55121830615372dd.yaml","type":"application/yaml","size":161},{"uid":"83d0071bcad61259","name":"rest_response","source":"83d0071bcad61259.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1710750411014,"stop":1710750411027,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"f437c6bd48e976db","name":"stage_yaml","source":"f437c6bd48e976db.yaml","type":"application/yaml","size":2389},{"uid":"8e79e6582e3baaa6","name":"rest_request","source":"8e79e6582e3baaa6.yaml","type":"application/yaml","size":161},{"uid":"90752c2a734e3d1f","name":"rest_response","source":"90752c2a734e3d1f.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1710750411028,"stop":1710750411038,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"50c1bd542e326cb4","name":"stage_yaml","source":"50c1bd542e326cb4.yaml","type":"application/yaml","size":978},{"uid":"81f5b85ad2ed13d6","name":"rest_request","source":"81f5b85ad2ed13d6.yaml","type":"application/yaml","size":145},{"uid":"6b21528b949adde4","name":"rest_response","source":"6b21528b949adde4.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1710750411039,"stop":1710750411049,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"dd19df8d5da329e4","name":"stage_yaml","source":"dd19df8d5da329e4.yaml","type":"application/yaml","size":763},{"uid":"a9167dcda3c5acc6","name":"rest_request","source":"a9167dcda3c5acc6.yaml","type":"application/yaml","size":211},{"uid":"21227110d402e533","name":"rest_response","source":"21227110d402e533.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1710750411050,"stop":1710750411061,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"358d18aad9b4f548","name":"stage_yaml","source":"358d18aad9b4f548.yaml","type":"application/yaml","size":534},{"uid":"15b3ed19cb90e3c6","name":"rest_request","source":"15b3ed19cb90e3c6.yaml","type":"application/yaml","size":164},{"uid":"fec83d88a931db20","name":"rest_response","source":"fec83d88a931db20.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1710750411062,"stop":1710750412078,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"82ea95d5ecce32b1","name":"stage_yaml","source":"82ea95d5ecce32b1.yaml","type":"application/yaml","size":703},{"uid":"4aeff15025406ffa","name":"rest_request","source":"4aeff15025406ffa.yaml","type":"application/yaml","size":161},{"uid":"a03c9ad4bf8bfde5","name":"rest_response","source":"a03c9ad4bf8bfde5.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1710750412079,"stop":1710750412091,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"8302a3b73b0dde62","name":"stage_yaml","source":"8302a3b73b0dde62.yaml","type":"application/yaml","size":2481},{"uid":"39c48d68dde5e838","name":"rest_request","source":"39c48d68dde5e838.yaml","type":"application/yaml","size":161},{"uid":"faa84e3bb3ef478a","name":"rest_response","source":"faa84e3bb3ef478a.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"9708d919bed6cbac","name":"log","source":"9708d919bed6cbac.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"3c34ba84883e"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":235,"unknown":0,"total":239},"items":[{"uid":"97ee0ec2de69b7af","status":"passed","time":{"start":1710663976141,"stop":1710664008673,"duration":32532}},{"uid":"11d1fffa1d3c01bf","status":"passed","time":{"start":1710577533714,"stop":1710577566247,"duration":32533}},{"uid":"2d2c62e49e019434","status":"passed","time":{"start":1710491167263,"stop":1710491199819,"duration":32556}},{"uid":"7acf549ee59cca06","status":"passed","time":{"start":1710404742662,"stop":1710404775198,"duration":32536}},{"uid":"8fa4aa9d041ef4b6","status":"passed","time":{"start":1710317692354,"stop":1710317724890,"duration":32536}},{"uid":"43cbd07d231fa92","status":"passed","time":{"start":1710231288655,"stop":1710231321179,"duration":32524}},{"uid":"a779fd0132f7ad23","status":"passed","time":{"start":1710144918572,"stop":1710144951098,"duration":32526}},{"uid":"1f97e409bed7f858","status":"passed","time":{"start":1710058486030,"stop":1710058518599,"duration":32569}},{"uid":"b5347c010c565396","status":"passed","time":{"start":1709972066343,"stop":1709972098870,"duration":32527}},{"uid":"684d35f57d1e4a7","status":"passed","time":{"start":1709885700454,"stop":1709885717789,"duration":17335}},{"uid":"962e6685b0a5c942","status":"passed","time":{"start":1709799283066,"stop":1709799315699,"duration":32633}},{"uid":"bfe01d3e69dd1685","status":"passed","time":{"start":1709712979679,"stop":1709713012220,"duration":32541}},{"uid":"e757052b5b6a35af","status":"passed","time":{"start":1709626537605,"stop":1709626570160,"duration":32555}},{"uid":"bd4f152e37772ec4","status":"passed","time":{"start":1709540890220,"stop":1709540922760,"duration":32540}},{"uid":"a242bc7ed90eaee6","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Retrieve the data for the aborted on transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f4ceb63b4c0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Cannot find required key 'tasks'. Path: ''.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1709453779273,"stop":1709453811799,"duration":32526}},{"uid":"89b7ea5846f368bb","status":"passed","time":{"start":1709367315727,"stop":1709367348273,"duration":32546}},{"uid":"d6e8fb87cddb244d","status":"passed","time":{"start":1709280925437,"stop":1709280957979,"duration":32542}},{"uid":"e7442760d1815de1","status":"passed","time":{"start":1709194507324,"stop":1709194539857,"duration":32533}},{"uid":"2afd13d7f54fcad5","status":"passed","time":{"start":1709108139269,"stop":1709108171823,"duration":32554}},{"uid":"2ef70913537fce6b","status":"passed","time":{"start":1709021730200,"stop":1709021762743,"duration":32543}}]},"tags":[]},"source":"e2da452431563bfc.json","parameterValues":[]}