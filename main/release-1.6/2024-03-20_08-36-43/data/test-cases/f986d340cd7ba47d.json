{"uid":"f986d340cd7ba47d","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1710923130397,"stop":1710923132539,"duration":2142},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1710923130404,"stop":1710923130434,"duration":30},"status":"passed","steps":[],"attachments":[{"uid":"9051d624b134494a","name":"stage_yaml","source":"9051d624b134494a.yaml","type":"application/yaml","size":302},{"uid":"b13f4435ad4b1428","name":"rest_request","source":"b13f4435ad4b1428.yaml","type":"application/yaml","size":162},{"uid":"fa89a06a2c58716","name":"rest_response","source":"fa89a06a2c58716.yaml","type":"application/yaml","size":5771}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1710923130435,"stop":1710923130446,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"c21ce1031e39f7a3","name":"stage_yaml","source":"c21ce1031e39f7a3.yaml","type":"application/yaml","size":797},{"uid":"333a5c2223eaab2b","name":"rest_request","source":"333a5c2223eaab2b.yaml","type":"application/yaml","size":216},{"uid":"671676976079d12e","name":"rest_response","source":"671676976079d12e.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1710923130448,"stop":1710923131461,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"c256e992d88b60c9","name":"stage_yaml","source":"c256e992d88b60c9.yaml","type":"application/yaml","size":682},{"uid":"2dda2d8fa310d963","name":"rest_request","source":"2dda2d8fa310d963.yaml","type":"application/yaml","size":161},{"uid":"ad74d74cb8e16196","name":"rest_response","source":"ad74d74cb8e16196.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1710923131462,"stop":1710923131474,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"455ea2686df508aa","name":"stage_yaml","source":"455ea2686df508aa.yaml","type":"application/yaml","size":2389},{"uid":"5c1dd71316224cc","name":"rest_request","source":"5c1dd71316224cc.yaml","type":"application/yaml","size":161},{"uid":"760503f311575fb8","name":"rest_response","source":"760503f311575fb8.yaml","type":"application/yaml","size":596}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1710923131475,"stop":1710923131484,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"d4bea1683d1f9c20","name":"stage_yaml","source":"d4bea1683d1f9c20.yaml","type":"application/yaml","size":978},{"uid":"ee9ad18771dee256","name":"rest_request","source":"ee9ad18771dee256.yaml","type":"application/yaml","size":145},{"uid":"46b90ad7338e97c4","name":"rest_response","source":"46b90ad7338e97c4.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1710923131485,"stop":1710923131495,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"11deeddc47328ddd","name":"stage_yaml","source":"11deeddc47328ddd.yaml","type":"application/yaml","size":763},{"uid":"1584083abbe6c876","name":"rest_request","source":"1584083abbe6c876.yaml","type":"application/yaml","size":211},{"uid":"b7d4e37c8d294bfb","name":"rest_response","source":"b7d4e37c8d294bfb.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1710923131496,"stop":1710923131508,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"83a04b0ca0a05719","name":"stage_yaml","source":"83a04b0ca0a05719.yaml","type":"application/yaml","size":534},{"uid":"36f1d72658ede29b","name":"rest_request","source":"36f1d72658ede29b.yaml","type":"application/yaml","size":164},{"uid":"1abd7edb8742aaea","name":"rest_response","source":"1abd7edb8742aaea.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1710923131510,"stop":1710923132525,"duration":1015},"status":"passed","steps":[],"attachments":[{"uid":"91810705d410f543","name":"stage_yaml","source":"91810705d410f543.yaml","type":"application/yaml","size":703},{"uid":"b40af0f0076bc4d0","name":"rest_request","source":"b40af0f0076bc4d0.yaml","type":"application/yaml","size":161},{"uid":"220a7bf519dfd9dc","name":"rest_response","source":"220a7bf519dfd9dc.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1710923132526,"stop":1710923132539,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"d3ddb4a6023bd9ff","name":"stage_yaml","source":"d3ddb4a6023bd9ff.yaml","type":"application/yaml","size":2481},{"uid":"962f05e70eef9bdf","name":"rest_request","source":"962f05e70eef9bdf.yaml","type":"application/yaml","size":161},{"uid":"bac0dc0a75d9c468","name":"rest_response","source":"bac0dc0a75d9c468.yaml","type":"application/yaml","size":645}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":9,"attachmentsCount":27,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"7323b8a79568"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":237,"unknown":0,"total":241},"items":[{"uid":"babbd455637d3514","status":"passed","time":{"start":1710836758623,"stop":1710836791147,"duration":32524}},{"uid":"e2da452431563bfc","status":"passed","time":{"start":1710750379553,"stop":1710750412091,"duration":32538}},{"uid":"97ee0ec2de69b7af","status":"passed","time":{"start":1710663976141,"stop":1710664008673,"duration":32532}},{"uid":"11d1fffa1d3c01bf","status":"passed","time":{"start":1710577533714,"stop":1710577566247,"duration":32533}},{"uid":"2d2c62e49e019434","status":"passed","time":{"start":1710491167263,"stop":1710491199819,"duration":32556}},{"uid":"7acf549ee59cca06","status":"passed","time":{"start":1710404742662,"stop":1710404775198,"duration":32536}},{"uid":"8fa4aa9d041ef4b6","status":"passed","time":{"start":1710317692354,"stop":1710317724890,"duration":32536}},{"uid":"43cbd07d231fa92","status":"passed","time":{"start":1710231288655,"stop":1710231321179,"duration":32524}},{"uid":"a779fd0132f7ad23","status":"passed","time":{"start":1710144918572,"stop":1710144951098,"duration":32526}},{"uid":"1f97e409bed7f858","status":"passed","time":{"start":1710058486030,"stop":1710058518599,"duration":32569}},{"uid":"b5347c010c565396","status":"passed","time":{"start":1709972066343,"stop":1709972098870,"duration":32527}},{"uid":"684d35f57d1e4a7","status":"passed","time":{"start":1709885700454,"stop":1709885717789,"duration":17335}},{"uid":"962e6685b0a5c942","status":"passed","time":{"start":1709799283066,"stop":1709799315699,"duration":32633}},{"uid":"bfe01d3e69dd1685","status":"passed","time":{"start":1709712979679,"stop":1709713012220,"duration":32541}},{"uid":"e757052b5b6a35af","status":"passed","time":{"start":1709626537605,"stop":1709626570160,"duration":32555}},{"uid":"bd4f152e37772ec4","status":"passed","time":{"start":1709540890220,"stop":1709540922760,"duration":32540}},{"uid":"a242bc7ed90eaee6","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Retrieve the data for the aborted on transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f4ceb63b4c0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Cannot find required key 'tasks'. Path: ''.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1709453779273,"stop":1709453811799,"duration":32526}},{"uid":"89b7ea5846f368bb","status":"passed","time":{"start":1709367315727,"stop":1709367348273,"duration":32546}},{"uid":"d6e8fb87cddb244d","status":"passed","time":{"start":1709280925437,"stop":1709280957979,"duration":32542}},{"uid":"e7442760d1815de1","status":"passed","time":{"start":1709194507324,"stop":1709194539857,"duration":32533}}]},"tags":[]},"source":"f986d340cd7ba47d.json","parameterValues":[]}