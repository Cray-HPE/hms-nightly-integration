{"uid":"73431f4120091b94","name":"Verify that on transition operations can be aborted","fullName":"api.2-disruptive.test_transitions_on.tavern#Verify that on transition operations can be aborted","historyId":"475bc950e40f6213e8de64d82f27bb5e","time":{"start":1711009599415,"stop":1711009631947,"duration":32532},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1711009599422,"stop":1711009599451,"duration":29},"status":"passed","steps":[],"attachments":[{"uid":"4373ea74faf01535","name":"stage_yaml","source":"4373ea74faf01535.yaml","type":"application/yaml","size":302},{"uid":"26d2d8ec9562e234","name":"rest_request","source":"26d2d8ec9562e234.yaml","type":"application/yaml","size":162},{"uid":"87038ffda13ae48c","name":"rest_response","source":"87038ffda13ae48c.yaml","type":"application/yaml","size":5774}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Power the target node off to prepare it for the test case","time":{"start":1711009599452,"stop":1711009599463,"duration":11},"status":"passed","steps":[],"attachments":[{"uid":"7bd02375fa983cfa","name":"stage_yaml","source":"7bd02375fa983cfa.yaml","type":"application/yaml","size":797},{"uid":"d0b80f25fa5c4e02","name":"rest_request","source":"d0b80f25fa5c4e02.yaml","type":"application/yaml","size":216},{"uid":"f015dbc9d30609ac","name":"rest_response","source":"f015dbc9d30609ac.yaml","type":"application/yaml","size":292}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Poll until the force-off transition operation has completed","time":{"start":1711009599464,"stop":1711009630871,"duration":31407},"status":"passed","steps":[],"attachments":[{"uid":"221e5e09f39e78c7","name":"stage_yaml","source":"221e5e09f39e78c7.yaml","type":"application/yaml","size":682},{"uid":"ee7126dc88b86c5b","name":"rest_request","source":"ee7126dc88b86c5b.yaml","type":"application/yaml","size":161},{"uid":"8638a5128a9162b0","name":"rest_response","source":"8638a5128a9162b0.yaml","type":"application/yaml","size":587},{"uid":"df494ccdbe496379","name":"stage_yaml","source":"df494ccdbe496379.yaml","type":"application/yaml","size":682},{"uid":"b3a0c7ff64818c9a","name":"rest_request","source":"b3a0c7ff64818c9a.yaml","type":"application/yaml","size":161},{"uid":"7c563b24db14cf2e","name":"rest_response","source":"7c563b24db14cf2e.yaml","type":"application/yaml","size":608},{"uid":"280589bfef728064","name":"stage_yaml","source":"280589bfef728064.yaml","type":"application/yaml","size":682},{"uid":"4cc13299077eef78","name":"rest_request","source":"4cc13299077eef78.yaml","type":"application/yaml","size":161},{"uid":"ff2b0e6af028f85b","name":"rest_response","source":"ff2b0e6af028f85b.yaml","type":"application/yaml","size":608},{"uid":"c8a63303a1ae8ef9","name":"stage_yaml","source":"c8a63303a1ae8ef9.yaml","type":"application/yaml","size":682},{"uid":"4bd0d61db6c54dbd","name":"rest_request","source":"4bd0d61db6c54dbd.yaml","type":"application/yaml","size":161},{"uid":"1dbd32db8d79a629","name":"rest_response","source":"1dbd32db8d79a629.yaml","type":"application/yaml","size":608},{"uid":"f53f053fbba3c54","name":"stage_yaml","source":"f53f053fbba3c54.yaml","type":"application/yaml","size":682},{"uid":"20dd821aea7423f5","name":"rest_request","source":"20dd821aea7423f5.yaml","type":"application/yaml","size":161},{"uid":"c49cd58ea10a1829","name":"rest_response","source":"c49cd58ea10a1829.yaml","type":"application/yaml","size":608},{"uid":"4e88f4064257b8a0","name":"stage_yaml","source":"4e88f4064257b8a0.yaml","type":"application/yaml","size":682},{"uid":"35405028c00d6bac","name":"rest_request","source":"35405028c00d6bac.yaml","type":"application/yaml","size":161},{"uid":"4c9bdd8819189efb","name":"rest_response","source":"4c9bdd8819189efb.yaml","type":"application/yaml","size":608},{"uid":"532a5f068fdf958c","name":"stage_yaml","source":"532a5f068fdf958c.yaml","type":"application/yaml","size":682},{"uid":"ab56e73cdf6b274b","name":"rest_request","source":"ab56e73cdf6b274b.yaml","type":"application/yaml","size":161},{"uid":"b9f3db74d225f34","name":"rest_response","source":"b9f3db74d225f34.yaml","type":"application/yaml","size":608},{"uid":"81445078ef12862d","name":"stage_yaml","source":"81445078ef12862d.yaml","type":"application/yaml","size":682},{"uid":"2d3307532533ecbc","name":"rest_request","source":"2d3307532533ecbc.yaml","type":"application/yaml","size":161},{"uid":"b220dbbb179959b","name":"rest_response","source":"b220dbbb179959b.yaml","type":"application/yaml","size":608},{"uid":"b817faf657b7ad3f","name":"stage_yaml","source":"b817faf657b7ad3f.yaml","type":"application/yaml","size":682},{"uid":"60465fc5698a746e","name":"rest_request","source":"60465fc5698a746e.yaml","type":"application/yaml","size":161},{"uid":"50a98d66a5b53435","name":"rest_response","source":"50a98d66a5b53435.yaml","type":"application/yaml","size":608},{"uid":"412b08352e231dbf","name":"stage_yaml","source":"412b08352e231dbf.yaml","type":"application/yaml","size":682},{"uid":"99ae9b1281bdeeb","name":"rest_request","source":"99ae9b1281bdeeb.yaml","type":"application/yaml","size":161},{"uid":"bc8b2b6200cac0f7","name":"rest_response","source":"bc8b2b6200cac0f7.yaml","type":"application/yaml","size":608},{"uid":"d03a17b7f6a69233","name":"stage_yaml","source":"d03a17b7f6a69233.yaml","type":"application/yaml","size":682},{"uid":"bd6eb3f2f3bb4115","name":"rest_request","source":"bd6eb3f2f3bb4115.yaml","type":"application/yaml","size":161},{"uid":"71366976608090fe","name":"rest_response","source":"71366976608090fe.yaml","type":"application/yaml","size":608},{"uid":"771b68945e09eed1","name":"stage_yaml","source":"771b68945e09eed1.yaml","type":"application/yaml","size":682},{"uid":"e6bc75ee4ee5e4fa","name":"rest_request","source":"e6bc75ee4ee5e4fa.yaml","type":"application/yaml","size":161},{"uid":"adfe070daaa06d06","name":"rest_response","source":"adfe070daaa06d06.yaml","type":"application/yaml","size":608},{"uid":"e284d7b40178ab96","name":"stage_yaml","source":"e284d7b40178ab96.yaml","type":"application/yaml","size":682},{"uid":"afe237171da3275e","name":"rest_request","source":"afe237171da3275e.yaml","type":"application/yaml","size":161},{"uid":"71db23eca7a5b2d6","name":"rest_response","source":"71db23eca7a5b2d6.yaml","type":"application/yaml","size":608},{"uid":"9996c00aba399099","name":"stage_yaml","source":"9996c00aba399099.yaml","type":"application/yaml","size":682},{"uid":"260943cff8912f4a","name":"rest_request","source":"260943cff8912f4a.yaml","type":"application/yaml","size":161},{"uid":"f76e28d8a963b388","name":"rest_response","source":"f76e28d8a963b388.yaml","type":"application/yaml","size":608},{"uid":"93a40bc095d378ac","name":"stage_yaml","source":"93a40bc095d378ac.yaml","type":"application/yaml","size":682},{"uid":"20beb79bd2e234bd","name":"rest_request","source":"20beb79bd2e234bd.yaml","type":"application/yaml","size":161},{"uid":"fce10a77a89a015","name":"rest_response","source":"fce10a77a89a015.yaml","type":"application/yaml","size":608},{"uid":"9a3d133bf3e1cce7","name":"stage_yaml","source":"9a3d133bf3e1cce7.yaml","type":"application/yaml","size":682},{"uid":"9496915e68fbb007","name":"rest_request","source":"9496915e68fbb007.yaml","type":"application/yaml","size":161},{"uid":"f2bccd78a9cdf3ca","name":"rest_response","source":"f2bccd78a9cdf3ca.yaml","type":"application/yaml","size":608},{"uid":"70a110b984bd10bc","name":"stage_yaml","source":"70a110b984bd10bc.yaml","type":"application/yaml","size":682},{"uid":"217a880a633491b7","name":"rest_request","source":"217a880a633491b7.yaml","type":"application/yaml","size":161},{"uid":"ccf5ee0dc68df072","name":"rest_response","source":"ccf5ee0dc68df072.yaml","type":"application/yaml","size":608},{"uid":"e2992c3b00c52e46","name":"stage_yaml","source":"e2992c3b00c52e46.yaml","type":"application/yaml","size":682},{"uid":"2310cf341623c4ed","name":"rest_request","source":"2310cf341623c4ed.yaml","type":"application/yaml","size":161},{"uid":"f96ccdae125b5d","name":"rest_response","source":"f96ccdae125b5d.yaml","type":"application/yaml","size":608},{"uid":"3f1fb95fb4036024","name":"stage_yaml","source":"3f1fb95fb4036024.yaml","type":"application/yaml","size":682},{"uid":"6c3d349e334ff120","name":"rest_request","source":"6c3d349e334ff120.yaml","type":"application/yaml","size":161},{"uid":"1b0f4293bdb7cd85","name":"rest_response","source":"1b0f4293bdb7cd85.yaml","type":"application/yaml","size":608},{"uid":"784971e3be13ea15","name":"stage_yaml","source":"784971e3be13ea15.yaml","type":"application/yaml","size":682},{"uid":"4aa1a6debda045a5","name":"rest_request","source":"4aa1a6debda045a5.yaml","type":"application/yaml","size":161},{"uid":"2f712c7683c5b0a9","name":"rest_response","source":"2f712c7683c5b0a9.yaml","type":"application/yaml","size":608},{"uid":"9640b1ebbf4d9381","name":"stage_yaml","source":"9640b1ebbf4d9381.yaml","type":"application/yaml","size":682},{"uid":"edacdac93c4b070e","name":"rest_request","source":"edacdac93c4b070e.yaml","type":"application/yaml","size":161},{"uid":"ed5471c83b531f32","name":"rest_response","source":"ed5471c83b531f32.yaml","type":"application/yaml","size":608},{"uid":"ff0097d4d1296643","name":"stage_yaml","source":"ff0097d4d1296643.yaml","type":"application/yaml","size":682},{"uid":"6ce6c6821e313464","name":"rest_request","source":"6ce6c6821e313464.yaml","type":"application/yaml","size":161},{"uid":"635d987e68161f2c","name":"rest_response","source":"635d987e68161f2c.yaml","type":"application/yaml","size":608},{"uid":"76ce58550d657f08","name":"stage_yaml","source":"76ce58550d657f08.yaml","type":"application/yaml","size":682},{"uid":"f16d00a49cf2943b","name":"rest_request","source":"f16d00a49cf2943b.yaml","type":"application/yaml","size":161},{"uid":"6c8329a4a524f3f1","name":"rest_response","source":"6c8329a4a524f3f1.yaml","type":"application/yaml","size":608},{"uid":"c99ac708df7eb30e","name":"stage_yaml","source":"c99ac708df7eb30e.yaml","type":"application/yaml","size":682},{"uid":"480db540abf9d4ff","name":"rest_request","source":"480db540abf9d4ff.yaml","type":"application/yaml","size":161},{"uid":"944153ef05129a53","name":"rest_response","source":"944153ef05129a53.yaml","type":"application/yaml","size":608},{"uid":"83249a7aef158f38","name":"stage_yaml","source":"83249a7aef158f38.yaml","type":"application/yaml","size":682},{"uid":"1085d6b072662ae9","name":"rest_request","source":"1085d6b072662ae9.yaml","type":"application/yaml","size":161},{"uid":"46090d8110e7ff93","name":"rest_response","source":"46090d8110e7ff93.yaml","type":"application/yaml","size":608},{"uid":"a56efe22b88496cc","name":"stage_yaml","source":"a56efe22b88496cc.yaml","type":"application/yaml","size":682},{"uid":"9ae2069a2e1dd8f8","name":"rest_request","source":"9ae2069a2e1dd8f8.yaml","type":"application/yaml","size":161},{"uid":"5b59abc18213919e","name":"rest_response","source":"5b59abc18213919e.yaml","type":"application/yaml","size":608},{"uid":"2a8dec4d1b77640c","name":"stage_yaml","source":"2a8dec4d1b77640c.yaml","type":"application/yaml","size":682},{"uid":"acbcf1c957cea5ac","name":"rest_request","source":"acbcf1c957cea5ac.yaml","type":"application/yaml","size":161},{"uid":"b154cf9e27cd5b5a","name":"rest_response","source":"b154cf9e27cd5b5a.yaml","type":"application/yaml","size":608},{"uid":"4b20dac36f77e1be","name":"stage_yaml","source":"4b20dac36f77e1be.yaml","type":"application/yaml","size":682},{"uid":"716436f59f8e7ef3","name":"rest_request","source":"716436f59f8e7ef3.yaml","type":"application/yaml","size":161},{"uid":"2f5f2cfb0a328387","name":"rest_response","source":"2f5f2cfb0a328387.yaml","type":"application/yaml","size":608},{"uid":"f0ad3891889fca78","name":"stage_yaml","source":"f0ad3891889fca78.yaml","type":"application/yaml","size":682},{"uid":"4d79429c2811b273","name":"rest_request","source":"4d79429c2811b273.yaml","type":"application/yaml","size":161},{"uid":"d35c9ad60407dc64","name":"rest_response","source":"d35c9ad60407dc64.yaml","type":"application/yaml","size":608},{"uid":"8f67e52722cc2d09","name":"stage_yaml","source":"8f67e52722cc2d09.yaml","type":"application/yaml","size":682},{"uid":"7bb7f24a27c808aa","name":"rest_request","source":"7bb7f24a27c808aa.yaml","type":"application/yaml","size":161},{"uid":"76ecde6fb93d365a","name":"rest_response","source":"76ecde6fb93d365a.yaml","type":"application/yaml","size":608},{"uid":"ad6f2767f426c1b6","name":"stage_yaml","source":"ad6f2767f426c1b6.yaml","type":"application/yaml","size":682},{"uid":"5b982a84c6ce01ca","name":"rest_request","source":"5b982a84c6ce01ca.yaml","type":"application/yaml","size":161},{"uid":"87d3102bb81e8349","name":"rest_response","source":"87d3102bb81e8349.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":93,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Retrieve the completed off transition data","time":{"start":1711009630872,"stop":1711009630884,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"fde23c35ef05fbc7","name":"stage_yaml","source":"fde23c35ef05fbc7.yaml","type":"application/yaml","size":2389},{"uid":"75bae69ee6c0917c","name":"rest_request","source":"75bae69ee6c0917c.yaml","type":"application/yaml","size":161},{"uid":"63a7d5469509165c","name":"rest_response","source":"63a7d5469509165c.yaml","type":"application/yaml","size":592}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Verify that the target node is powered off using power-status","time":{"start":1711009630885,"stop":1711009630894,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"cfd58cc3184ffd77","name":"stage_yaml","source":"cfd58cc3184ffd77.yaml","type":"application/yaml","size":978},{"uid":"e911c66ea4b2496d","name":"rest_request","source":"e911c66ea4b2496d.yaml","type":"application/yaml","size":145},{"uid":"d7f1d96bb4817944","name":"rest_response","source":"d7f1d96bb4817944.yaml","type":"application/yaml","size":439}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Issue an on transition for the target node","time":{"start":1711009630895,"stop":1711009630905,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"23c287001f1a0e23","name":"stage_yaml","source":"23c287001f1a0e23.yaml","type":"application/yaml","size":763},{"uid":"cbfcf7303cffcc9a","name":"rest_request","source":"cbfcf7303cffcc9a.yaml","type":"application/yaml","size":211},{"uid":"66bd25cd3017cbde","name":"rest_response","source":"66bd25cd3017cbde.yaml","type":"application/yaml","size":287}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Abort the previously issued on transition","time":{"start":1711009630906,"stop":1711009630916,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"1484dec6ddc03ad2","name":"stage_yaml","source":"1484dec6ddc03ad2.yaml","type":"application/yaml","size":534},{"uid":"f1c7b46511e5d624","name":"rest_request","source":"f1c7b46511e5d624.yaml","type":"application/yaml","size":164},{"uid":"41fda3a2713c695a","name":"rest_response","source":"41fda3a2713c695a.yaml","type":"application/yaml","size":194}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Poll until the aborted on transition operation has been aborted","time":{"start":1711009630918,"stop":1711009631934,"duration":1016},"status":"passed","steps":[],"attachments":[{"uid":"d39644aea16f118b","name":"stage_yaml","source":"d39644aea16f118b.yaml","type":"application/yaml","size":703},{"uid":"b93c4b7796287277","name":"rest_request","source":"b93c4b7796287277.yaml","type":"application/yaml","size":161},{"uid":"6bdf85193f23171e","name":"rest_response","source":"6bdf85193f23171e.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the data for the aborted on transition","time":{"start":1711009631934,"stop":1711009631947,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"a209df7f49c2e034","name":"stage_yaml","source":"a209df7f49c2e034.yaml","type":"application/yaml","size":2481},{"uid":"6992d2003057ece8","name":"rest_request","source":"6992d2003057ece8.yaml","type":"application/yaml","size":161},{"uid":"abbbb2dd7ae160c0","name":"rest_response","source":"abbbb2dd7ae160c0.yaml","type":"application/yaml","size":647}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"44d1fc0f2c7d9b0f","name":"log","source":"44d1fc0f2c7d9b0f.txt","type":"text/plain","size":115808}],"parameters":[],"stepsCount":9,"attachmentsCount":118,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"disruptive"},{"name":"host","value":"2394d3a0bf51"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.2-disruptive.test_transitions_on.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":238,"unknown":0,"total":242},"items":[{"uid":"f986d340cd7ba47d","status":"passed","time":{"start":1710923130397,"stop":1710923132539,"duration":2142}},{"uid":"babbd455637d3514","status":"passed","time":{"start":1710836758623,"stop":1710836791147,"duration":32524}},{"uid":"e2da452431563bfc","status":"passed","time":{"start":1710750379553,"stop":1710750412091,"duration":32538}},{"uid":"97ee0ec2de69b7af","status":"passed","time":{"start":1710663976141,"stop":1710664008673,"duration":32532}},{"uid":"11d1fffa1d3c01bf","status":"passed","time":{"start":1710577533714,"stop":1710577566247,"duration":32533}},{"uid":"2d2c62e49e019434","status":"passed","time":{"start":1710491167263,"stop":1710491199819,"duration":32556}},{"uid":"7acf549ee59cca06","status":"passed","time":{"start":1710404742662,"stop":1710404775198,"duration":32536}},{"uid":"8fa4aa9d041ef4b6","status":"passed","time":{"start":1710317692354,"stop":1710317724890,"duration":32536}},{"uid":"43cbd07d231fa92","status":"passed","time":{"start":1710231288655,"stop":1710231321179,"duration":32524}},{"uid":"a779fd0132f7ad23","status":"passed","time":{"start":1710144918572,"stop":1710144951098,"duration":32526}},{"uid":"1f97e409bed7f858","status":"passed","time":{"start":1710058486030,"stop":1710058518599,"duration":32569}},{"uid":"b5347c010c565396","status":"passed","time":{"start":1709972066343,"stop":1709972098870,"duration":32527}},{"uid":"684d35f57d1e4a7","status":"passed","time":{"start":1709885700454,"stop":1709885717789,"duration":17335}},{"uid":"962e6685b0a5c942","status":"passed","time":{"start":1709799283066,"stop":1709799315699,"duration":32633}},{"uid":"bfe01d3e69dd1685","status":"passed","time":{"start":1709712979679,"stop":1709713012220,"duration":32541}},{"uid":"e757052b5b6a35af","status":"passed","time":{"start":1709626537605,"stop":1709626570160,"duration":32555}},{"uid":"bd4f152e37772ec4","status":"passed","time":{"start":1709540890220,"stop":1709540922760,"duration":32540}},{"uid":"a242bc7ed90eaee6","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Retrieve the data for the aborted on transition' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f4ceb63b4c0>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Cannot find required key 'tasks'. Path: ''.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1709453779273,"stop":1709453811799,"duration":32526}},{"uid":"89b7ea5846f368bb","status":"passed","time":{"start":1709367315727,"stop":1709367348273,"duration":32546}},{"uid":"d6e8fb87cddb244d","status":"passed","time":{"start":1709280925437,"stop":1709280957979,"duration":32542}}]},"tags":[]},"source":"73431f4120091b94.json","parameterValues":[]}