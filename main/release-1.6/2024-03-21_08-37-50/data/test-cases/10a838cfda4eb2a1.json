{"uid":"10a838cfda4eb2a1","name":"Verify power-cap for a single node","fullName":"api.3-build-pipeline-only.test_power-cap.tavern#Verify power-cap for a single node","historyId":"e2ae67539213be5181105043ad513bb3","time":{"start":1711010234318,"stop":1711010241839,"duration":7521},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"passed","steps":[{"name":"Stage 0: Retrieve a compute node from HSM to be used in later stages","time":{"start":1711010234490,"stop":1711010234521,"duration":31},"status":"passed","steps":[],"attachments":[{"uid":"e9909111b7e3abdb","name":"stage_yaml","source":"e9909111b7e3abdb.yaml","type":"application/yaml","size":333},{"uid":"4c51710e01e7a1c9","name":"rest_request","source":"4c51710e01e7a1c9.yaml","type":"application/yaml","size":149},{"uid":"57dec937aa66b31c","name":"rest_response","source":"57dec937aa66b31c.yaml","type":"application/yaml","size":5773}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 1: Set target node state to Off","time":{"start":1711010234522,"stop":1711010234530,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"9f55c874719c1b2a","name":"stage_yaml","source":"9f55c874719c1b2a.yaml","type":"application/yaml","size":228},{"uid":"c8567e228f486e89","name":"rest_request","source":"c8567e228f486e89.yaml","type":"application/yaml","size":173},{"uid":"669e649cb5839e73","name":"rest_response","source":"669e649cb5839e73.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 2: Set target node state to Ready","time":{"start":1711010234530,"stop":1711010234538,"duration":8},"status":"passed","steps":[],"attachments":[{"uid":"e1b2f011af6125c7","name":"stage_yaml","source":"e1b2f011af6125c7.yaml","type":"application/yaml","size":231},{"uid":"67d4715ba9d09d97","name":"rest_request","source":"67d4715ba9d09d97.yaml","type":"application/yaml","size":173},{"uid":"cfce517e47c214f2","name":"rest_response","source":"cfce517e47c214f2.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 3: Create a power-cap snapshot for the target node","time":{"start":1711010234539,"stop":1711010234549,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"1b6a6e73aa9f0ee4","name":"stage_yaml","source":"1b6a6e73aa9f0ee4.yaml","type":"application/yaml","size":543},{"uid":"6e7ba7d51e68081d","name":"rest_request","source":"6e7ba7d51e68081d.yaml","type":"application/yaml","size":166},{"uid":"fbea1091d51aed57","name":"rest_response","source":"fbea1091d51aed57.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 4: Retrieve the power-cap snapshot for the target node","time":{"start":1711010234551,"stop":1711010235563,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"32f7c6c00438d4b8","name":"stage_yaml","source":"32f7c6c00438d4b8.yaml","type":"application/yaml","size":661},{"uid":"c7f8d7837ef9be3c","name":"rest_request","source":"c7f8d7837ef9be3c.yaml","type":"application/yaml","size":159},{"uid":"f366478a40b5a481","name":"rest_response","source":"f366478a40b5a481.yaml","type":"application/yaml","size":680}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 5: Retrieve the completed power-cap snapshot for the target node","time":{"start":1711010235564,"stop":1711010235579,"duration":15},"status":"passed","steps":[],"attachments":[{"uid":"c4ab30182c8fb2ba","name":"stage_yaml","source":"c4ab30182c8fb2ba.yaml","type":"application/yaml","size":3543},{"uid":"5036667740e731e","name":"rest_request","source":"5036667740e731e.yaml","type":"application/yaml","size":159},{"uid":"bd59f7f4bbfb6ea0","name":"rest_response","source":"bd59f7f4bbfb6ea0.yaml","type":"application/yaml","size":680}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 6: Set a power-cap of the minimum value on the target node","time":{"start":1711010235580,"stop":1711010235590,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"5795feba3305c48a","name":"stage_yaml","source":"5795feba3305c48a.yaml","type":"application/yaml","size":639},{"uid":"84614535d60a1568","name":"rest_request","source":"84614535d60a1568.yaml","type":"application/yaml","size":229},{"uid":"b97f46faa9a185d0","name":"rest_response","source":"b97f46faa9a185d0.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 7: Retrieve the power-cap patch for the target node and minimum power cap value","time":{"start":1711010235593,"stop":1711010236606,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"1a5ffb9988bbc5af","name":"stage_yaml","source":"1a5ffb9988bbc5af.yaml","type":"application/yaml","size":679},{"uid":"1a0d2e0269df1788","name":"rest_request","source":"1a0d2e0269df1788.yaml","type":"application/yaml","size":159},{"uid":"c218456d93abfc42","name":"rest_response","source":"c218456d93abfc42.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 8: Retrieve the completed power-cap patch for the target node and minimum power cap value","time":{"start":1711010236607,"stop":1711010236621,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"b301ea5417b1f16","name":"stage_yaml","source":"b301ea5417b1f16.yaml","type":"application/yaml","size":3157},{"uid":"4cb2339380678e61","name":"rest_request","source":"4cb2339380678e61.yaml","type":"application/yaml","size":159},{"uid":"fe987e00ce10d2e","name":"rest_response","source":"fe987e00ce10d2e.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 9: Set a power-cap of the maximum value on the target node","time":{"start":1711010236621,"stop":1711010236631,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"4016b087cb75df25","name":"stage_yaml","source":"4016b087cb75df25.yaml","type":"application/yaml","size":639},{"uid":"c658f026d53bf274","name":"rest_request","source":"c658f026d53bf274.yaml","type":"application/yaml","size":229},{"uid":"4e138684e919ed3c","name":"rest_response","source":"4e138684e919ed3c.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 10: Retrieve the power-cap patch for the target node and maximum power cap value","time":{"start":1711010236634,"stop":1711010237646,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"535176730f2ea848","name":"stage_yaml","source":"535176730f2ea848.yaml","type":"application/yaml","size":679},{"uid":"31a63e97e705f894","name":"rest_request","source":"31a63e97e705f894.yaml","type":"application/yaml","size":159},{"uid":"df2f12de19d64fb0","name":"rest_response","source":"df2f12de19d64fb0.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 11: Retrieve the completed power-cap patch for the target node and maximum power cap value","time":{"start":1711010237647,"stop":1711010237661,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"d1409d96b7967b2","name":"stage_yaml","source":"d1409d96b7967b2.yaml","type":"application/yaml","size":3157},{"uid":"32a9551dff1deb87","name":"rest_request","source":"32a9551dff1deb87.yaml","type":"application/yaml","size":159},{"uid":"f8d348c4ca46c45a","name":"rest_response","source":"f8d348c4ca46c45a.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 12: Attempt to set a power-cap greater than the maximum value on the target node","time":{"start":1711010237662,"stop":1711010237672,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"c53b88b93582b244","name":"stage_yaml","source":"c53b88b93582b244.yaml","type":"application/yaml","size":639},{"uid":"a82abf08daece889","name":"rest_request","source":"a82abf08daece889.yaml","type":"application/yaml","size":233},{"uid":"2102dbc8921b94bb","name":"rest_response","source":"2102dbc8921b94bb.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 13: Retrieve the power-cap patch for the target node and power cap value above maximum","time":{"start":1711010237675,"stop":1711010238686,"duration":1011},"status":"passed","steps":[],"attachments":[{"uid":"fcbf06a1c60d356c","name":"stage_yaml","source":"fcbf06a1c60d356c.yaml","type":"application/yaml","size":685},{"uid":"73dd3448d825fb12","name":"rest_request","source":"73dd3448d825fb12.yaml","type":"application/yaml","size":159},{"uid":"724bd87782fb5ef3","name":"rest_response","source":"724bd87782fb5ef3.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 14: Retrieve the completed power-cap patch for the target node and power cap value above maximum","time":{"start":1711010238687,"stop":1711010238699,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"bf157c046fe03d34","name":"stage_yaml","source":"bf157c046fe03d34.yaml","type":"application/yaml","size":2234},{"uid":"90f8fba176f09252","name":"rest_request","source":"90f8fba176f09252.yaml","type":"application/yaml","size":159},{"uid":"efd57da311e7a2f9","name":"rest_response","source":"efd57da311e7a2f9.yaml","type":"application/yaml","size":577}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 15: Attempt to set a power-cap lower than the minimum value on the target node","time":{"start":1711010238700,"stop":1711010238710,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"4b8dcdeb57f78b1d","name":"stage_yaml","source":"4b8dcdeb57f78b1d.yaml","type":"application/yaml","size":631},{"uid":"70cd5ab45d5c2bb7","name":"rest_request","source":"70cd5ab45d5c2bb7.yaml","type":"application/yaml","size":227},{"uid":"9a12c13508b81421","name":"rest_response","source":"9a12c13508b81421.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 16: Retrieve the power-cap patch for the target node and power cap value below minimum","time":{"start":1711010238713,"stop":1711010239725,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"e12a2b3618e895b9","name":"stage_yaml","source":"e12a2b3618e895b9.yaml","type":"application/yaml","size":685},{"uid":"384058d8f3a01745","name":"rest_request","source":"384058d8f3a01745.yaml","type":"application/yaml","size":159},{"uid":"1e22065673865fae","name":"rest_response","source":"1e22065673865fae.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 17: Retrieve the completed power-cap patch for the target node and power cap value below minimum","time":{"start":1711010239726,"stop":1711010239738,"duration":12},"status":"passed","steps":[],"attachments":[{"uid":"7d533e69112ab15d","name":"stage_yaml","source":"7d533e69112ab15d.yaml","type":"application/yaml","size":2230},{"uid":"cb1f6d97b4fa82d3","name":"rest_request","source":"cb1f6d97b4fa82d3.yaml","type":"application/yaml","size":159},{"uid":"a734cb39fbb8c1f2","name":"rest_response","source":"a734cb39fbb8c1f2.yaml","type":"application/yaml","size":571}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 18: Set a power-cap of zero on the target node","time":{"start":1711010239739,"stop":1711010239749,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"1ee14404f4420efc","name":"stage_yaml","source":"1ee14404f4420efc.yaml","type":"application/yaml","size":599},{"uid":"d66f5bb9eb88f281","name":"rest_request","source":"d66f5bb9eb88f281.yaml","type":"application/yaml","size":227},{"uid":"3c0026d591fc0540","name":"rest_response","source":"3c0026d591fc0540.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 19: Retrieve the power-cap patch for the target node and power cap value of zero","time":{"start":1711010239752,"stop":1711010240764,"duration":1012},"status":"passed","steps":[],"attachments":[{"uid":"878163c07e2bcc27","name":"stage_yaml","source":"878163c07e2bcc27.yaml","type":"application/yaml","size":679},{"uid":"669a13028bbb5d36","name":"rest_request","source":"669a13028bbb5d36.yaml","type":"application/yaml","size":159},{"uid":"6166851cad0714fc","name":"rest_response","source":"6166851cad0714fc.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 20: Retrieve the completed power-cap patch for the target node and power cap of zero","time":{"start":1711010240765,"stop":1711010240779,"duration":14},"status":"passed","steps":[],"attachments":[{"uid":"70694ecd2bd9b014","name":"stage_yaml","source":"70694ecd2bd9b014.yaml","type":"application/yaml","size":3125},{"uid":"b5dc60e235541eed","name":"rest_request","source":"b5dc60e235541eed.yaml","type":"application/yaml","size":159},{"uid":"c7bf1985442d2ece","name":"rest_response","source":"c7bf1985442d2ece.yaml","type":"application/yaml","size":615}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 21: Restore the original power-cap value on the target node","time":{"start":1711010240780,"stop":1711010240790,"duration":10},"status":"passed","steps":[],"attachments":[{"uid":"465bc1923af12877","name":"stage_yaml","source":"465bc1923af12877.yaml","type":"application/yaml","size":640},{"uid":"9973de91d1969b68","name":"rest_request","source":"9973de91d1969b68.yaml","type":"application/yaml","size":229},{"uid":"21e827d5f76476ef","name":"rest_response","source":"21e827d5f76476ef.yaml","type":"application/yaml","size":261}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 22: Retrieve the power-cap patch for the target node and original power cap value","time":{"start":1711010240792,"stop":1711010241805,"duration":1013},"status":"passed","steps":[],"attachments":[{"uid":"afb6b8be3736acfc","name":"stage_yaml","source":"afb6b8be3736acfc.yaml","type":"application/yaml","size":680},{"uid":"a6840844f1ce730b","name":"rest_request","source":"a6840844f1ce730b.yaml","type":"application/yaml","size":159},{"uid":"ef6cd6478a687268","name":"rest_response","source":"ef6cd6478a687268.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 23: Retrieve the completed power-cap patch for the target node and original power cap value","time":{"start":1711010241807,"stop":1711010241820,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"ef676087b9a02811","name":"stage_yaml","source":"ef676087b9a02811.yaml","type":"application/yaml","size":3160},{"uid":"73e2b575c89489ef","name":"rest_request","source":"73e2b575c89489ef.yaml","type":"application/yaml","size":159},{"uid":"58474a52740315ec","name":"rest_response","source":"58474a52740315ec.yaml","type":"application/yaml","size":617}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 24: Prepare to restore the original state of the target node by setting it to Off","time":{"start":1711010241821,"stop":1711010241830,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"8e99c9c63ec0d34a","name":"stage_yaml","source":"8e99c9c63ec0d34a.yaml","type":"application/yaml","size":276},{"uid":"553106893f7d8354","name":"rest_request","source":"553106893f7d8354.yaml","type":"application/yaml","size":173},{"uid":"d2d7aa6b54e692dc","name":"rest_response","source":"d2d7aa6b54e692dc.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true},{"name":"Stage 25: Restore the original state of the target node","time":{"start":1711010241830,"stop":1711010241839,"duration":9},"status":"passed","steps":[],"attachments":[{"uid":"8696908d0f07002e","name":"stage_yaml","source":"8696908d0f07002e.yaml","type":"application/yaml","size":256},{"uid":"62eacaf471b9dc27","name":"rest_request","source":"62eacaf471b9dc27.yaml","type":"application/yaml","size":172},{"uid":"3abdce676778d739","name":"rest_response","source":"3abdce676778d739.yaml","type":"application/yaml","size":134}],"parameters":[],"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":26,"attachmentsCount":78,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[],"labels":[{"name":"parentSuite","value":"cray-power-control-hmth-test"},{"name":"suite","value":"build-pipeline-only"},{"name":"host","value":"bd0156cba43e"},{"name":"thread","value":"8-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"api.3-build-pipeline-only.test_power-cap.tavern"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":11,"broken":0,"skipped":0,"passed":231,"unknown":0,"total":242},"items":[{"uid":"a48c23638f844c97","status":"passed","time":{"start":1710923764761,"stop":1710923772293,"duration":7532}},{"uid":"74d0bced97d579fb","status":"passed","time":{"start":1710837420003,"stop":1710837427546,"duration":7543}},{"uid":"c4fe74dc3f37478c","status":"passed","time":{"start":1710751040688,"stop":1710751049224,"duration":8536}},{"uid":"114871912306baec","status":"passed","time":{"start":1710664637315,"stop":1710664644846,"duration":7531}},{"uid":"8bb44de05dc633ab","status":"passed","time":{"start":1710578194981,"stop":1710578202565,"duration":7584}},{"uid":"f85e20e6fc39da1b","status":"passed","time":{"start":1710491828802,"stop":1710491836371,"duration":7569}},{"uid":"cbc19158ffdafb4","status":"passed","time":{"start":1710405344027,"stop":1710405351547,"duration":7520}},{"uid":"1f3f2149ec02c7eb","status":"passed","time":{"start":1710318542446,"stop":1710318549990,"duration":7544}},{"uid":"63240daf5f3f9284","status":"passed","time":{"start":1710232110339,"stop":1710232117847,"duration":7508}},{"uid":"62ab39e3e2dd2bd4","status":"passed","time":{"start":1710145770370,"stop":1710145777894,"duration":7524}},{"uid":"725cba9229e2eef8","status":"passed","time":{"start":1710059308434,"stop":1710059315954,"duration":7520}},{"uid":"414c17d73130c79e","status":"passed","time":{"start":1709972918159,"stop":1709972925677,"duration":7518}},{"uid":"2be476f1ab41110a","status":"passed","time":{"start":1709886508810,"stop":1709886516322,"duration":7512}},{"uid":"3343d596bb2a0e12","status":"passed","time":{"start":1709800102453,"stop":1709800110000,"duration":7547}},{"uid":"c3051bf3dcc21945","status":"passed","time":{"start":1709713765559,"stop":1709713773102,"duration":7543}},{"uid":"a63b4aa524fab92f","status":"passed","time":{"start":1709627321529,"stop":1709627329057,"duration":7528}},{"uid":"e90b44449550068f","status":"passed","time":{"start":1709541665796,"stop":1709541673319,"duration":7523}},{"uid":"678bdd8973e1cd24","status":"passed","time":{"start":1709454596365,"stop":1709454604900,"duration":8535}},{"uid":"286d4c73d9c39cfc","status":"passed","time":{"start":1709368104309,"stop":1709368111834,"duration":7525}},{"uid":"d6c929dbf61edd44","status":"failed","statusDetails":"tavern.util.exceptions.TestFailError: Test 'Retrieve the completed power-cap patch for the target node and minimum power cap value' failed:\n- Error calling validate function '<function validate_pykwalify at 0x7f7fb6a91d30>':\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 106, in verify_generic\n        verifier.validate()\n      File \"/usr/lib/python3.9/site-packages/pykwalify/core.py\", line 194, in validate\n        raise SchemaError(u\"Schema validation failed:\\n - {error_msg}.\".format(\n    pykwalify.errors.SchemaError: <SchemaError: error code 2: Schema validation failed:\n     - Key 'error' was not defined. Path: '/components/0'.: Path: '/'>\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"/usr/lib/python3.9/site-packages/tavern/response/base.py\", line 152, in _maybe_run_validate_functions\n        vf(response)\n      File \"/usr/lib/python3.9/site-packages/tavern/util/extfunctions.py\", line 98, in inner\n        result = func(response, *args, **kwargs)\n      File \"/usr/lib/python3.9/site-packages/tavern/testutils/helpers.py\", line 103, in validate_pykwalify\n        verify_generic(to_verify, schema)\n      File \"/usr/lib/python3.9/site-packages/tavern/schemas/files.py\", line 109, in verify_generic\n        raise BadSchemaError() from e\n    tavern.util.exceptions.BadSchemaError","time":{"start":1709281742286,"stop":1709281751690,"duration":9404}}]},"tags":[]},"source":"10a838cfda4eb2a1.json","parameterValues":[]}